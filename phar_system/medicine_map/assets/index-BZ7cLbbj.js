(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Da={exports:{}},Ul={},Pa={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),ed=Symbol.for("react.profiler"),td=Symbol.for("react.provider"),nd=Symbol.for("react.context"),rd=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),od=Symbol.for("react.memo"),sd=Symbol.for("react.lazy"),xi=Symbol.iterator;function id(e){return e===null||typeof e!="object"?null:(e=xi&&e[xi]||e["@@iterator"],typeof e=="function"?e:null)}var Ra={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ta=Object.assign,La={};function Gn(e,t,n){this.props=e,this.context=t,this.refs=La,this.updater=n||Ra}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ia(){}Ia.prototype=Gn.prototype;function Cs(e,t,n){this.props=e,this.context=t,this.refs=La,this.updater=n||Ra}var js=Cs.prototype=new Ia;js.constructor=Cs;Ta(js,Gn.prototype);js.isPureReactComponent=!0;var wi=Array.isArray,za=Object.prototype.hasOwnProperty,ks={current:null},ba={key:!0,ref:!0,__self:!0,__source:!0};function $a(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)za.call(t,r)&&!ba.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Ir,type:e,key:o,ref:s,props:l,_owner:ks.current}}function ad(e,t){return{$$typeof:Ir,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _s(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ir}function ud(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Si=/\/+/g;function ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ud(""+e.key):t.toString(36)}function rl(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ir:case Zc:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+ro(s,0):r,wi(l)?(n="",e!=null&&(n=e.replace(Si,"$&/")+"/"),rl(l,t,n,"",function(u){return u})):l!=null&&(_s(l)&&(l=ad(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Si,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",wi(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+ro(o,a);s+=rl(o,t,n,c,l)}else if(c=id(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+ro(o,a++),s+=rl(o,t,n,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ar(e,t,n){if(e==null)return e;var r=[],l=0;return rl(e,r,"","",function(o){return t.call(n,o,l++)}),r}function cd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ll={transition:null},dd={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ll,ReactCurrentOwner:ks};function Oa(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ar,forEach:function(e,t,n){Ar(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ar(e,function(){t++}),t},toArray:function(e){return Ar(e,function(t){return t})||[]},only:function(e){if(!_s(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Gn;re.Fragment=Jc;re.Profiler=ed;re.PureComponent=Cs;re.StrictMode=qc;re.Suspense=ld;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dd;re.act=Oa;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ta({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ks.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)za.call(t,c)&&!ba.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ir,type:e.type,key:l,ref:o,props:r,_owner:s}};re.createContext=function(e){return e={$$typeof:nd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:td,_context:e},e.Consumer=e};re.createElement=$a;re.createFactory=function(e){var t=$a.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:rd,render:e}};re.isValidElement=_s;re.lazy=function(e){return{$$typeof:sd,_payload:{_status:-1,_result:e},_init:cd}};re.memo=function(e,t){return{$$typeof:od,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ll.transition;ll.transition={};try{e()}finally{ll.transition=t}};re.unstable_act=Oa;re.useCallback=function(e,t){return Be.current.useCallback(e,t)};re.useContext=function(e){return Be.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};re.useEffect=function(e,t){return Be.current.useEffect(e,t)};re.useId=function(){return Be.current.useId()};re.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Be.current.useMemo(e,t)};re.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};re.useRef=function(e){return Be.current.useRef(e)};re.useState=function(e){return Be.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return Be.current.useTransition()};re.version="18.3.1";Pa.exports=re;var k=Pa.exports;const fd=Kc(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=k,hd=Symbol.for("react.element"),md=Symbol.for("react.fragment"),gd=Object.prototype.hasOwnProperty,yd=pd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vd={key:!0,ref:!0,__self:!0,__source:!0};function Aa(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)gd.call(t,r)&&!vd.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:hd,type:e,key:o,ref:s,props:l,_owner:yd.current}}Ul.Fragment=md;Ul.jsx=Aa;Ul.jsxs=Aa;Da.exports=Ul;var i=Da.exports,Ua={exports:{}},Je={},Ba={exports:{}},Fa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var N=C.length;C.push(P);e:for(;0<N;){var L=N-1>>>1,B=C[L];if(0<l(B,P))C[L]=P,C[N]=B,N=L;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],N=C.pop();if(N!==P){C[0]=N;e:for(var L=0,B=C.length,K=B>>>1;L<K;){var G=2*(L+1)-1,le=C[G],Y=G+1,z=C[Y];if(0>l(le,N))Y<B&&0>l(z,le)?(C[L]=z,C[Y]=N,L=Y):(C[L]=le,C[G]=N,L=G);else if(Y<B&&0>l(z,N))C[L]=z,C[Y]=N,L=Y;else break e}}return P}function l(C,P){var N=C.sortIndex-P.sortIndex;return N!==0?N:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],m=1,y=null,g=3,M=!1,_=!1,x=!1,V=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=C)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function v(C){if(x=!1,h(C),!_)if(n(c)!==null)_=!0,Z(E);else{var P=n(u);P!==null&&D(v,P.startTime-C)}}function E(C,P){_=!1,x&&(x=!1,f(I),I=-1),M=!0;var N=g;try{for(h(P),y=n(c);y!==null&&(!(y.expirationTime>P)||C&&!Q());){var L=y.callback;if(typeof L=="function"){y.callback=null,g=y.priorityLevel;var B=L(y.expirationTime<=P);P=e.unstable_now(),typeof B=="function"?y.callback=B:y===n(c)&&r(c),h(P)}else r(c);y=n(c)}if(y!==null)var K=!0;else{var G=n(u);G!==null&&D(v,G.startTime-P),K=!1}return K}finally{y=null,g=N,M=!1}}var w=!1,$=null,I=-1,te=5,S=-1;function Q(){return!(e.unstable_now()-S<te)}function oe(){if($!==null){var C=e.unstable_now();S=C;var P=!0;try{P=$(!0,C)}finally{P?ae():(w=!1,$=null)}}else w=!1}var ae;if(typeof d=="function")ae=function(){d(oe)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,F=Ne.port2;Ne.port1.onmessage=oe,ae=function(){F.postMessage(null)}}else ae=function(){V(oe,0)};function Z(C){$=C,w||(w=!0,ae())}function D(C,P){I=V(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){_||M||(_=!0,Z(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var N=g;g=P;try{return C()}finally{g=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=g;g=C;try{return P()}finally{g=N}},e.unstable_scheduleCallback=function(C,P,N){var L=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=N+B,C={id:m++,callback:P,priorityLevel:C,startTime:N,expirationTime:B,sortIndex:-1},N>L?(C.sortIndex=N,t(u,C),n(c)===null&&C===n(u)&&(x?(f(I),I=-1):x=!0,D(v,N-L))):(C.sortIndex=B,t(c,C),_||M||(_=!0,Z(E))),C},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(C){var P=g;return function(){var N=g;g=P;try{return C.apply(this,arguments)}finally{g=N}}}})(Fa);Ba.exports=Fa;var xd=Ba.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=k,Ze=xd;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ha=new Set,yr={};function yn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(yr[e]=t,e=0;e<t.length;e++)Ha.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=Object.prototype.hasOwnProperty,Sd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ni={},Ci={};function Nd(e){return Ro.call(Ci,e)?!0:Ro.call(Ni,e)?!1:Sd.test(e)?Ci[e]=!0:(Ni[e]=!0,!1)}function Cd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jd(e,t,n,r){if(t===null||typeof t>"u"||Cd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Es=/[\-:]([a-z])/g;function Ms(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Es,Ms);Ie[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Es,Ms);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Es,Ms);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ds(e,t,n,r){var l=Ie.hasOwnProperty(t)?Ie[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jd(t,n,l,r)&&(n=null),r||l===null?Nd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=wd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ur=Symbol.for("react.element"),wn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),Ps=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),Wa=Symbol.for("react.provider"),Va=Symbol.for("react.context"),Rs=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),Ts=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Ga=Symbol.for("react.offscreen"),ji=Symbol.iterator;function Kn(e){return e===null||typeof e!="object"?null:(e=ji&&e[ji]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,lo;function lr(e){if(lo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lo=t&&t[1]||""}return`
`+lo+e}var oo=!1;function so(e,t){if(!e||oo)return"";oo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,a=o.length-1;1<=s&&0<=a&&l[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(l[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||l[s]!==o[a]){var c=`
`+l[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{oo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lr(e):""}function kd(e){switch(e.tag){case 5:return lr(e.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function zo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case wn:return"Portal";case To:return"Profiler";case Ps:return"StrictMode";case Lo:return"Suspense";case Io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Va:return(e.displayName||"Context")+".Consumer";case Wa:return(e._context.displayName||"Context")+".Provider";case Rs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ts:return t=e.displayName||null,t!==null?t:zo(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return zo(e(t))}catch{}}return null}function _d(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zo(t);case 8:return t===Ps?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ya(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ed(e){var t=Ya(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Br(e){e._valueTracker||(e._valueTracker=Ed(e))}function Xa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ya(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ki(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qa(e,t){t=t.checked,t!=null&&Ds(e,"checked",t,!1)}function $o(e,t){Qa(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oo(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _i(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oo(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var or=Array.isArray;function Tn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ei(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(or(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function Ka(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Za(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Za(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fr,Ja=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Md=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){Md.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});function qa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function eu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=qa(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Dd=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(e,t){if(t){if(Dd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wo=null,Ln=null,In=null;function Di(e){if(e=$r(e)){if(typeof Wo!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Vl(t),Wo(e.stateNode,e.type,t))}}function tu(e){Ln?In?In.push(e):In=[e]:Ln=e}function nu(){if(Ln){var e=Ln,t=In;if(In=Ln=null,Di(e),t)for(e=0;e<t.length;e++)Di(t[e])}}function ru(e,t){return e(t)}function lu(){}var io=!1;function ou(e,t,n){if(io)return e(t,n);io=!0;try{return ru(e,t,n)}finally{io=!1,(Ln!==null||In!==null)&&(lu(),nu())}}function xr(e,t){var n=e.stateNode;if(n===null)return null;var r=Vl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Vo=!1;if(Dt)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Vo=!1}function Pd(e,t,n,r,l,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var ur=!1,gl=null,yl=!1,Go=null,Rd={onError:function(e){ur=!0,gl=e}};function Td(e,t,n,r,l,o,s,a,c){ur=!1,gl=null,Pd.apply(Rd,arguments)}function Ld(e,t,n,r,l,o,s,a,c){if(Td.apply(this,arguments),ur){if(ur){var u=gl;ur=!1,gl=null}else throw Error(T(198));yl||(yl=!0,Go=u)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pi(e){if(vn(e)!==e)throw Error(T(188))}function Id(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Pi(l),e;if(o===r)return Pi(l),t;o=o.sibling}throw Error(T(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,a=l.child;a;){if(a===n){s=!0,n=l,r=o;break}if(a===r){s=!0,r=l,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=l;break}if(a===r){s=!0,r=o,n=l;break}a=a.sibling}if(!s)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function iu(e){return e=Id(e),e!==null?au(e):null}function au(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=au(e);if(t!==null)return t;e=e.sibling}return null}var uu=Ze.unstable_scheduleCallback,Ri=Ze.unstable_cancelCallback,zd=Ze.unstable_shouldYield,bd=Ze.unstable_requestPaint,Se=Ze.unstable_now,$d=Ze.unstable_getCurrentPriorityLevel,Is=Ze.unstable_ImmediatePriority,cu=Ze.unstable_UserBlockingPriority,vl=Ze.unstable_NormalPriority,Od=Ze.unstable_LowPriority,du=Ze.unstable_IdlePriority,Bl=null,yt=null;function Ad(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Bl,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:Fd,Ud=Math.log,Bd=Math.LN2;function Fd(e){return e>>>=0,e===0?32:31-(Ud(e)/Bd|0)|0}var Hr=64,Wr=4194304;function sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~l;a!==0?r=sr(a):(o&=s,o!==0&&(r=sr(o)))}else s=n&~l,s!==0?r=sr(s):o!==0&&(r=sr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dt(t),l=1<<n,r|=e[n],t&=~l;return r}function Hd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-dt(o),a=1<<s,c=l[s];c===-1?(!(a&n)||a&r)&&(l[s]=Hd(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fu(){var e=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),e}function ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function Vd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-dt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function zs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ce=0;function pu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hu,bs,mu,gu,yu,Xo=!1,Vr=[],Ht=null,Wt=null,Vt=null,wr=new Map,Sr=new Map,At=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ti(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(t.pointerId)}}function Jn(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=$r(t),t!==null&&bs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Yd(e,t,n,r,l){switch(t){case"focusin":return Ht=Jn(Ht,e,t,n,r,l),!0;case"dragenter":return Wt=Jn(Wt,e,t,n,r,l),!0;case"mouseover":return Vt=Jn(Vt,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return wr.set(o,Jn(wr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Sr.set(o,Jn(Sr.get(o)||null,e,t,n,r,l)),!0}return!1}function vu(e){var t=sn(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=su(n),t!==null){e.blockedOn=t,yu(e.priority,function(){mu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ho=r,n.target.dispatchEvent(r),Ho=null}else return t=$r(n),t!==null&&bs(t),e.blockedOn=n,!1;t.shift()}return!0}function Li(e,t,n){ol(e)&&n.delete(t)}function Xd(){Xo=!1,Ht!==null&&ol(Ht)&&(Ht=null),Wt!==null&&ol(Wt)&&(Wt=null),Vt!==null&&ol(Vt)&&(Vt=null),wr.forEach(Li),Sr.forEach(Li)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Xd)))}function Nr(e){function t(l){return qn(l,e)}if(0<Vr.length){qn(Vr[0],e);for(var n=1;n<Vr.length;n++){var r=Vr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ht!==null&&qn(Ht,e),Wt!==null&&qn(Wt,e),Vt!==null&&qn(Vt,e),wr.forEach(t),Sr.forEach(t),n=0;n<At.length;n++)r=At[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)vu(n),n.blockedOn===null&&At.shift()}var zn=Lt.ReactCurrentBatchConfig,wl=!0;function Qd(e,t,n,r){var l=ce,o=zn.transition;zn.transition=null;try{ce=1,$s(e,t,n,r)}finally{ce=l,zn.transition=o}}function Kd(e,t,n,r){var l=ce,o=zn.transition;zn.transition=null;try{ce=4,$s(e,t,n,r)}finally{ce=l,zn.transition=o}}function $s(e,t,n,r){if(wl){var l=Qo(e,t,n,r);if(l===null)xo(e,t,r,Sl,n),Ti(e,r);else if(Yd(l,e,t,n,r))r.stopPropagation();else if(Ti(e,r),t&4&&-1<Gd.indexOf(e)){for(;l!==null;){var o=$r(l);if(o!==null&&hu(o),o=Qo(e,t,n,r),o===null&&xo(e,t,r,Sl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else xo(e,t,r,null,n)}}var Sl=null;function Qo(e,t,n,r){if(Sl=null,e=Ls(r),e=sn(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=su(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sl=e,null}function xu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($d()){case Is:return 1;case cu:return 4;case vl:case Od:return 16;case du:return 536870912;default:return 16}default:return 16}}var Bt=null,Os=null,sl=null;function wu(){if(sl)return sl;var e,t=Os,n=t.length,r,l="value"in Bt?Bt.value:Bt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return sl=l.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function Ii(){return!1}function qe(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gr:Ii,this.isPropagationStopped=Ii,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=qe(Yn),br=xe({},Yn,{view:0,detail:0}),Zd=qe(br),uo,co,er,Fl=xe({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(uo=e.screenX-er.screenX,co=e.screenY-er.screenY):co=uo=0,er=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),zi=qe(Fl),Jd=xe({},Fl,{dataTransfer:0}),qd=qe(Jd),ef=xe({},br,{relatedTarget:0}),fo=qe(ef),tf=xe({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),nf=qe(tf),rf=xe({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lf=qe(rf),of=xe({},Yn,{data:0}),bi=qe(of),sf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uf[e])?!!t[e]:!1}function Us(){return cf}var df=xe({},br,{key:function(e){if(e.key){var t=sf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?af[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ff=qe(df),pf=xe({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=qe(pf),hf=xe({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),mf=qe(hf),gf=xe({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=qe(gf),vf=xe({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xf=qe(vf),wf=[9,13,27,32],Bs=Dt&&"CompositionEvent"in window,cr=null;Dt&&"documentMode"in document&&(cr=document.documentMode);var Sf=Dt&&"TextEvent"in window&&!cr,Su=Dt&&(!Bs||cr&&8<cr&&11>=cr),Oi=" ",Ai=!1;function Nu(e,t){switch(e){case"keyup":return wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function Nf(e,t){switch(e){case"compositionend":return Cu(t);case"keypress":return t.which!==32?null:(Ai=!0,Oi);case"textInput":return e=t.data,e===Oi&&Ai?null:e;default:return null}}function Cf(e,t){if(Nn)return e==="compositionend"||!Bs&&Nu(e,t)?(e=wu(),sl=Os=Bt=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Su&&t.locale!=="ko"?null:t.data;default:return null}}var jf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jf[e.type]:t==="textarea"}function ju(e,t,n,r){tu(r),t=Nl(t,"onChange"),0<t.length&&(n=new As("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,Cr=null;function kf(e){zu(e,0)}function Hl(e){var t=kn(e);if(Xa(t))return e}function _f(e,t){if(e==="change")return t}var ku=!1;if(Dt){var po;if(Dt){var ho="oninput"in document;if(!ho){var Bi=document.createElement("div");Bi.setAttribute("oninput","return;"),ho=typeof Bi.oninput=="function"}po=ho}else po=!1;ku=po&&(!document.documentMode||9<document.documentMode)}function Fi(){dr&&(dr.detachEvent("onpropertychange",_u),Cr=dr=null)}function _u(e){if(e.propertyName==="value"&&Hl(Cr)){var t=[];ju(t,Cr,e,Ls(e)),ou(kf,t)}}function Ef(e,t,n){e==="focusin"?(Fi(),dr=t,Cr=n,dr.attachEvent("onpropertychange",_u)):e==="focusout"&&Fi()}function Mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(Cr)}function Df(e,t){if(e==="click")return Hl(t)}function Pf(e,t){if(e==="input"||e==="change")return Hl(t)}function Rf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Rf;function jr(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ro.call(t,l)||!pt(e[l],t[l]))return!1}return!0}function Hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wi(e,t){var n=Hi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hi(n)}}function Eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mu(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tf(e){var t=Mu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Eu(n.ownerDocument.documentElement,n)){if(r!==null&&Fs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Wi(n,o);var s=Wi(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lf=Dt&&"documentMode"in document&&11>=document.documentMode,Cn=null,Ko=null,fr=null,Zo=!1;function Vi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zo||Cn==null||Cn!==ml(r)||(r=Cn,"selectionStart"in r&&Fs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fr&&jr(fr,r)||(fr=r,r=Nl(Ko,"onSelect"),0<r.length&&(t=new As("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cn)))}function Yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionend:Yr("Transition","TransitionEnd")},mo={},Du={};Dt&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function Wl(e){if(mo[e])return mo[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Du)return mo[e]=t[n];return e}var Pu=Wl("animationend"),Ru=Wl("animationiteration"),Tu=Wl("animationstart"),Lu=Wl("transitionend"),Iu=new Map,Gi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){Iu.set(e,t),yn(t,[e])}for(var go=0;go<Gi.length;go++){var yo=Gi[go],If=yo.toLowerCase(),zf=yo[0].toUpperCase()+yo.slice(1);en(If,"on"+zf)}en(Pu,"onAnimationEnd");en(Ru,"onAnimationIteration");en(Tu,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Lu,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ir));function Yi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ld(r,t,void 0,e),e.currentTarget=null}function zu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&l.isPropagationStopped())break e;Yi(l,a,u),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&l.isPropagationStopped())break e;Yi(l,a,u),o=c}}}if(yl)throw e=Go,yl=!1,Go=null,e}function he(e,t){var n=t[ns];n===void 0&&(n=t[ns]=new Set);var r=e+"__bubble";n.has(r)||(bu(t,e,2,!1),n.add(r))}function vo(e,t,n){var r=0;t&&(r|=4),bu(n,e,r,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[Xr]){e[Xr]=!0,Ha.forEach(function(n){n!=="selectionchange"&&(bf.has(n)||vo(n,!1,e),vo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,vo("selectionchange",!1,t))}}function bu(e,t,n,r){switch(xu(t)){case 1:var l=Qd;break;case 4:l=Kd;break;default:l=$s}n=l.bind(null,t,n,e),l=void 0,!Vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function xo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;s=s.return}for(;a!==null;){if(s=sn(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}ou(function(){var u=o,m=Ls(n),y=[];e:{var g=Iu.get(e);if(g!==void 0){var M=As,_=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":M=ff;break;case"focusin":_="focus",M=fo;break;case"focusout":_="blur",M=fo;break;case"beforeblur":case"afterblur":M=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=mf;break;case Pu:case Ru:case Tu:M=nf;break;case Lu:M=yf;break;case"scroll":M=Zd;break;case"wheel":M=xf;break;case"copy":case"cut":case"paste":M=lf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=$i}var x=(t&4)!==0,V=!x&&e==="scroll",f=x?g!==null?g+"Capture":null:g;x=[];for(var d=u,h;d!==null;){h=d;var v=h.stateNode;if(h.tag===5&&v!==null&&(h=v,f!==null&&(v=xr(d,f),v!=null&&x.push(_r(d,v,h)))),V)break;d=d.return}0<x.length&&(g=new M(g,_,null,n,m),y.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",g&&n!==Ho&&(_=n.relatedTarget||n.fromElement)&&(sn(_)||_[Pt]))break e;if((M||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,M?(_=n.relatedTarget||n.toElement,M=u,_=_?sn(_):null,_!==null&&(V=vn(_),_!==V||_.tag!==5&&_.tag!==6)&&(_=null)):(M=null,_=u),M!==_)){if(x=zi,v="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(x=$i,v="onPointerLeave",f="onPointerEnter",d="pointer"),V=M==null?g:kn(M),h=_==null?g:kn(_),g=new x(v,d+"leave",M,n,m),g.target=V,g.relatedTarget=h,v=null,sn(m)===u&&(x=new x(f,d+"enter",_,n,m),x.target=h,x.relatedTarget=V,v=x),V=v,M&&_)t:{for(x=M,f=_,d=0,h=x;h;h=xn(h))d++;for(h=0,v=f;v;v=xn(v))h++;for(;0<d-h;)x=xn(x),d--;for(;0<h-d;)f=xn(f),h--;for(;d--;){if(x===f||f!==null&&x===f.alternate)break t;x=xn(x),f=xn(f)}x=null}else x=null;M!==null&&Xi(y,g,M,x,!1),_!==null&&V!==null&&Xi(y,V,_,x,!0)}}e:{if(g=u?kn(u):window,M=g.nodeName&&g.nodeName.toLowerCase(),M==="select"||M==="input"&&g.type==="file")var E=_f;else if(Ui(g))if(ku)E=Pf;else{E=Mf;var w=Ef}else(M=g.nodeName)&&M.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=Df);if(E&&(E=E(e,u))){ju(y,E,n,m);break e}w&&w(e,g,u),e==="focusout"&&(w=g._wrapperState)&&w.controlled&&g.type==="number"&&Oo(g,"number",g.value)}switch(w=u?kn(u):window,e){case"focusin":(Ui(w)||w.contentEditable==="true")&&(Cn=w,Ko=u,fr=null);break;case"focusout":fr=Ko=Cn=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,Vi(y,n,m);break;case"selectionchange":if(Lf)break;case"keydown":case"keyup":Vi(y,n,m)}var $;if(Bs)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Nn?Nu(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Su&&n.locale!=="ko"&&(Nn||I!=="onCompositionStart"?I==="onCompositionEnd"&&Nn&&($=wu()):(Bt=m,Os="value"in Bt?Bt.value:Bt.textContent,Nn=!0)),w=Nl(u,I),0<w.length&&(I=new bi(I,e,null,n,m),y.push({event:I,listeners:w}),$?I.data=$:($=Cu(n),$!==null&&(I.data=$)))),($=Sf?Nf(e,n):Cf(e,n))&&(u=Nl(u,"onBeforeInput"),0<u.length&&(m=new bi("onBeforeInput","beforeinput",null,n,m),y.push({event:m,listeners:u}),m.data=$))}zu(y,t)})}function _r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=xr(e,n),o!=null&&r.unshift(_r(e,o,l)),o=xr(e,t),o!=null&&r.push(_r(e,o,l))),e=e.return}return r}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xi(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,l?(c=xr(n,o),c!=null&&s.unshift(_r(n,c,a))):l||(c=xr(n,o),c!=null&&s.push(_r(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var $f=/\r\n?/g,Of=/\u0000|\uFFFD/g;function Qi(e){return(typeof e=="string"?e:""+e).replace($f,`
`).replace(Of,"")}function Qr(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(T(425))}function Cl(){}var Jo=null,qo=null;function es(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ts=typeof setTimeout=="function"?setTimeout:void 0,Af=typeof clearTimeout=="function"?clearTimeout:void 0,Ki=typeof Promise=="function"?Promise:void 0,Uf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ki<"u"?function(e){return Ki.resolve(null).then(e).catch(Bf)}:ts;function Bf(e){setTimeout(function(){throw e})}function wo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Nr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Nr(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Xn,Er="__reactProps$"+Xn,Pt="__reactContainer$"+Xn,ns="__reactEvents$"+Xn,Ff="__reactListeners$"+Xn,Hf="__reactHandles$"+Xn;function sn(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zi(e);e!==null;){if(n=e[gt])return n;e=Zi(e)}return t}e=n,n=e.parentNode}return null}function $r(e){return e=e[gt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Vl(e){return e[Er]||null}var rs=[],_n=-1;function tn(e){return{current:e}}function me(e){0>_n||(e.current=rs[_n],rs[_n]=null,_n--)}function de(e,t){_n++,rs[_n]=e.current,e.current=t}var Jt={},Oe=tn(Jt),Ve=tn(!1),fn=Jt;function An(e,t){var n=e.type.contextTypes;if(!n)return Jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function jl(){me(Ve),me(Oe)}function Ji(e,t,n){if(Oe.current!==Jt)throw Error(T(168));de(Oe,t),de(Ve,n)}function $u(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(T(108,_d(e)||"Unknown",l));return xe({},n,r)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,fn=Oe.current,de(Oe,e),de(Ve,Ve.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=$u(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,me(Ve),me(Oe),de(Oe,e)):me(Ve),de(Ve,n)}var jt=null,Gl=!1,So=!1;function Ou(e){jt===null?jt=[e]:jt.push(e)}function Wf(e){Gl=!0,Ou(e)}function nn(){if(!So&&jt!==null){So=!0;var e=0,t=ce;try{var n=jt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,Gl=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),uu(Is,nn),l}finally{ce=t,So=!1}}return null}var En=[],Mn=0,_l=null,El=0,et=[],tt=0,pn=null,kt=1,_t="";function ln(e,t){En[Mn++]=El,En[Mn++]=_l,_l=e,El=t}function Au(e,t,n){et[tt++]=kt,et[tt++]=_t,et[tt++]=pn,pn=e;var r=kt;e=_t;var l=32-dt(r)-1;r&=~(1<<l),n+=1;var o=32-dt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,kt=1<<32-dt(t)+l|n<<l|r,_t=o+e}else kt=1<<o|n<<l|r,_t=e}function Hs(e){e.return!==null&&(ln(e,1),Au(e,1,0))}function Ws(e){for(;e===_l;)_l=En[--Mn],En[Mn]=null,El=En[--Mn],En[Mn]=null;for(;e===pn;)pn=et[--tt],et[tt]=null,_t=et[--tt],et[tt]=null,kt=et[--tt],et[tt]=null}var Ke=null,Qe=null,ge=!1,ct=null;function Uu(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ea(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,Qe=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:kt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ke=e,Qe=null,!0):!1;default:return!1}}function ls(e){return(e.mode&1)!==0&&(e.flags&128)===0}function os(e){if(ge){var t=Qe;if(t){var n=t;if(!ea(e,t)){if(ls(e))throw Error(T(418));t=Gt(n.nextSibling);var r=Ke;t&&ea(e,t)?Uu(r,n):(e.flags=e.flags&-4097|2,ge=!1,Ke=e)}}else{if(ls(e))throw Error(T(418));e.flags=e.flags&-4097|2,ge=!1,Ke=e}}}function ta(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function Kr(e){if(e!==Ke)return!1;if(!ge)return ta(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!es(e.type,e.memoizedProps)),t&&(t=Qe)){if(ls(e))throw Bu(),Error(T(418));for(;t;)Uu(e,t),t=Gt(t.nextSibling)}if(ta(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Ke?Gt(e.stateNode.nextSibling):null;return!0}function Bu(){for(var e=Qe;e;)e=Gt(e.nextSibling)}function Un(){Qe=Ke=null,ge=!1}function Vs(e){ct===null?ct=[e]:ct.push(e)}var Vf=Lt.ReactCurrentBatchConfig;function tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=l.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Zr(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function na(e){var t=e._init;return t(e._payload)}function Fu(e){function t(f,d){if(e){var h=f.deletions;h===null?(f.deletions=[d],f.flags|=16):h.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function l(f,d){return f=Kt(f,d),f.index=0,f.sibling=null,f}function o(f,d,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<d?(f.flags|=2,d):h):(f.flags|=2,d)):(f.flags|=1048576,d)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,h,v){return d===null||d.tag!==6?(d=Mo(h,f.mode,v),d.return=f,d):(d=l(d,h),d.return=f,d)}function c(f,d,h,v){var E=h.type;return E===Sn?m(f,d,h.props.children,v,h.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$t&&na(E)===d.type)?(v=l(d,h.props),v.ref=tr(f,d,h),v.return=f,v):(v=hl(h.type,h.key,h.props,null,f.mode,v),v.ref=tr(f,d,h),v.return=f,v)}function u(f,d,h,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Do(h,f.mode,v),d.return=f,d):(d=l(d,h.children||[]),d.return=f,d)}function m(f,d,h,v,E){return d===null||d.tag!==7?(d=dn(h,f.mode,v,E),d.return=f,d):(d=l(d,h),d.return=f,d)}function y(f,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Mo(""+d,f.mode,h),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ur:return h=hl(d.type,d.key,d.props,null,f.mode,h),h.ref=tr(f,null,d),h.return=f,h;case wn:return d=Do(d,f.mode,h),d.return=f,d;case $t:var v=d._init;return y(f,v(d._payload),h)}if(or(d)||Kn(d))return d=dn(d,f.mode,h,null),d.return=f,d;Zr(f,d)}return null}function g(f,d,h,v){var E=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:a(f,d,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ur:return h.key===E?c(f,d,h,v):null;case wn:return h.key===E?u(f,d,h,v):null;case $t:return E=h._init,g(f,d,E(h._payload),v)}if(or(h)||Kn(h))return E!==null?null:m(f,d,h,v,null);Zr(f,h)}return null}function M(f,d,h,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(h)||null,a(d,f,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ur:return f=f.get(v.key===null?h:v.key)||null,c(d,f,v,E);case wn:return f=f.get(v.key===null?h:v.key)||null,u(d,f,v,E);case $t:var w=v._init;return M(f,d,h,w(v._payload),E)}if(or(v)||Kn(v))return f=f.get(h)||null,m(d,f,v,E,null);Zr(d,v)}return null}function _(f,d,h,v){for(var E=null,w=null,$=d,I=d=0,te=null;$!==null&&I<h.length;I++){$.index>I?(te=$,$=null):te=$.sibling;var S=g(f,$,h[I],v);if(S===null){$===null&&($=te);break}e&&$&&S.alternate===null&&t(f,$),d=o(S,d,I),w===null?E=S:w.sibling=S,w=S,$=te}if(I===h.length)return n(f,$),ge&&ln(f,I),E;if($===null){for(;I<h.length;I++)$=y(f,h[I],v),$!==null&&(d=o($,d,I),w===null?E=$:w.sibling=$,w=$);return ge&&ln(f,I),E}for($=r(f,$);I<h.length;I++)te=M($,f,I,h[I],v),te!==null&&(e&&te.alternate!==null&&$.delete(te.key===null?I:te.key),d=o(te,d,I),w===null?E=te:w.sibling=te,w=te);return e&&$.forEach(function(Q){return t(f,Q)}),ge&&ln(f,I),E}function x(f,d,h,v){var E=Kn(h);if(typeof E!="function")throw Error(T(150));if(h=E.call(h),h==null)throw Error(T(151));for(var w=E=null,$=d,I=d=0,te=null,S=h.next();$!==null&&!S.done;I++,S=h.next()){$.index>I?(te=$,$=null):te=$.sibling;var Q=g(f,$,S.value,v);if(Q===null){$===null&&($=te);break}e&&$&&Q.alternate===null&&t(f,$),d=o(Q,d,I),w===null?E=Q:w.sibling=Q,w=Q,$=te}if(S.done)return n(f,$),ge&&ln(f,I),E;if($===null){for(;!S.done;I++,S=h.next())S=y(f,S.value,v),S!==null&&(d=o(S,d,I),w===null?E=S:w.sibling=S,w=S);return ge&&ln(f,I),E}for($=r(f,$);!S.done;I++,S=h.next())S=M($,f,I,S.value,v),S!==null&&(e&&S.alternate!==null&&$.delete(S.key===null?I:S.key),d=o(S,d,I),w===null?E=S:w.sibling=S,w=S);return e&&$.forEach(function(oe){return t(f,oe)}),ge&&ln(f,I),E}function V(f,d,h,v){if(typeof h=="object"&&h!==null&&h.type===Sn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ur:e:{for(var E=h.key,w=d;w!==null;){if(w.key===E){if(E=h.type,E===Sn){if(w.tag===7){n(f,w.sibling),d=l(w,h.props.children),d.return=f,f=d;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$t&&na(E)===w.type){n(f,w.sibling),d=l(w,h.props),d.ref=tr(f,w,h),d.return=f,f=d;break e}n(f,w);break}else t(f,w);w=w.sibling}h.type===Sn?(d=dn(h.props.children,f.mode,v,h.key),d.return=f,f=d):(v=hl(h.type,h.key,h.props,null,f.mode,v),v.ref=tr(f,d,h),v.return=f,f=v)}return s(f);case wn:e:{for(w=h.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(f,d.sibling),d=l(d,h.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=Do(h,f.mode,v),d.return=f,f=d}return s(f);case $t:return w=h._init,V(f,d,w(h._payload),v)}if(or(h))return _(f,d,h,v);if(Kn(h))return x(f,d,h,v);Zr(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(f,d.sibling),d=l(d,h),d.return=f,f=d):(n(f,d),d=Mo(h,f.mode,v),d.return=f,f=d),s(f)):n(f,d)}return V}var Bn=Fu(!0),Hu=Fu(!1),Ml=tn(null),Dl=null,Dn=null,Gs=null;function Ys(){Gs=Dn=Dl=null}function Xs(e){var t=Ml.current;me(Ml),e._currentValue=t}function ss(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bn(e,t){Dl=e,Gs=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(Gs!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(Dl===null)throw Error(T(308));Dn=e,Dl.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var an=null;function Qs(e){an===null?an=[e]:an.push(e)}function Wu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Qs(t)):(n.next=l.next,l.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Rt(e,n)}return l=r.interleaved,l===null?(t.next=t,Qs(r)):(t.next=l.next,l.next=t),r.interleaved=t,Rt(e,n)}function al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zs(e,n)}}function ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,r){var l=e.updateQueue;Ot=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==s&&(a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=c))}if(o!==null){var y=l.baseState;s=0,m=u=c=null,a=o;do{var g=a.lane,M=a.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:M,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,x=a;switch(g=t,M=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){y=_.call(M,y,g);break e}y=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,g=typeof _=="function"?_.call(M,y,g):_,g==null)break e;y=xe({},y,g);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else M={eventTime:M,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(u=m=M,c=y):m=m.next=M,s|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(m===null&&(c=y),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);mn|=s,e.lanes=s,e.memoizedState=y}}function la(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(T(191,l));l.call(r)}}}var Or={},vt=tn(Or),Mr=tn(Or),Dr=tn(Or);function un(e){if(e===Or)throw Error(T(174));return e}function Zs(e,t){switch(de(Dr,t),de(Mr,e),de(vt,Or),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uo(t,e)}me(vt),de(vt,t)}function Fn(){me(vt),me(Mr),me(Dr)}function Gu(e){un(Dr.current);var t=un(vt.current),n=Uo(t,e.type);t!==n&&(de(Mr,e),de(vt,n))}function Js(e){Mr.current===e&&(me(vt),me(Mr))}var ye=tn(0);function Rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var No=[];function qs(){for(var e=0;e<No.length;e++)No[e]._workInProgressVersionPrimary=null;No.length=0}var ul=Lt.ReactCurrentDispatcher,Co=Lt.ReactCurrentBatchConfig,hn=0,ve=null,Ee=null,De=null,Tl=!1,pr=!1,Pr=0,Gf=0;function ze(){throw Error(T(321))}function ei(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,l,o){if(hn=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?Kf:Zf,e=n(r,l),pr){o=0;do{if(pr=!1,Pr=0,25<=o)throw Error(T(301));o+=1,De=Ee=null,t.updateQueue=null,ul.current=Jf,e=n(r,l)}while(pr)}if(ul.current=Ll,t=Ee!==null&&Ee.next!==null,hn=0,De=Ee=ve=null,Tl=!1,t)throw Error(T(300));return e}function ni(){var e=Pr!==0;return Pr=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ve.memoizedState=De=e:De=De.next=e,De}function ot(){if(Ee===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=De===null?ve.memoizedState:De.next;if(t!==null)De=t,Ee=e;else{if(e===null)throw Error(T(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},De===null?ve.memoizedState=De=e:De=De.next=e}return De}function Rr(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=ot(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Ee,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var a=s=null,c=null,u=o;do{var m=u.lane;if((hn&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var y={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=y,s=r):c=c.next=y,ve.lanes|=m,mn|=m}u=u.next}while(u!==null&&u!==o);c===null?s=r:c.next=a,pt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ve.lanes|=o,mn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=ot(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);pt(o,t.memoizedState)||(We=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yu(){}function Xu(e,t){var n=ve,r=ot(),l=t(),o=!pt(r.memoizedState,l);if(o&&(r.memoizedState=l,We=!0),r=r.queue,ri(Zu.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Tr(9,Ku.bind(null,n,r,l,t),void 0,null),Pe===null)throw Error(T(349));hn&30||Qu(n,t,l)}return l}function Qu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ku(e,t,n,r){t.value=n,t.getSnapshot=r,Ju(t)&&qu(e)}function Zu(e,t,n){return n(function(){Ju(t)&&qu(e)})}function Ju(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function qu(e){var t=Rt(e,1);t!==null&&ft(t,e,1,-1)}function oa(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},t.queue=e,e=e.dispatch=Qf.bind(null,ve,e),[t.memoizedState,e]}function Tr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ec(){return ot().memoizedState}function cl(e,t,n,r){var l=mt();ve.flags|=e,l.memoizedState=Tr(1|t,n,void 0,r===void 0?null:r)}function Yl(e,t,n,r){var l=ot();r=r===void 0?null:r;var o=void 0;if(Ee!==null){var s=Ee.memoizedState;if(o=s.destroy,r!==null&&ei(r,s.deps)){l.memoizedState=Tr(t,n,o,r);return}}ve.flags|=e,l.memoizedState=Tr(1|t,n,o,r)}function sa(e,t){return cl(8390656,8,e,t)}function ri(e,t){return Yl(2048,8,e,t)}function tc(e,t){return Yl(4,2,e,t)}function nc(e,t){return Yl(4,4,e,t)}function rc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lc(e,t,n){return n=n!=null?n.concat([e]):null,Yl(4,4,rc.bind(null,t,e),n)}function li(){}function oc(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sc(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ei(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ic(e,t,n){return hn&21?(pt(n,t)||(n=fu(),ve.lanes|=n,mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Yf(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Co.transition;Co.transition={};try{e(!1),t()}finally{ce=n,Co.transition=r}}function ac(){return ot().memoizedState}function Xf(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uc(e))cc(t,n);else if(n=Wu(e,t,n,r),n!==null){var l=Ue();ft(n,e,r,l),dc(n,t,r)}}function Qf(e,t,n){var r=Qt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uc(e))cc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(l.hasEagerState=!0,l.eagerState=a,pt(a,s)){var c=t.interleaved;c===null?(l.next=l,Qs(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Wu(e,t,l,r),n!==null&&(l=Ue(),ft(n,e,r,l),dc(n,t,r))}}function uc(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function cc(e,t){pr=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zs(e,n)}}var Ll={readContext:lt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Kf={readContext:lt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:sa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cl(4194308,4,rc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var n=mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xf.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:oa,useDebugValue:li,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=oa(!1),t=e[0];return e=Yf.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,l=mt();if(ge){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Pe===null)throw Error(T(349));hn&30||Qu(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,sa(Zu.bind(null,r,o,e),[e]),r.flags|=2048,Tr(9,Ku.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=mt(),t=Pe.identifierPrefix;if(ge){var n=_t,r=kt;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zf={readContext:lt,useCallback:oc,useContext:lt,useEffect:ri,useImperativeHandle:lc,useInsertionEffect:tc,useLayoutEffect:nc,useMemo:sc,useReducer:jo,useRef:ec,useState:function(){return jo(Rr)},useDebugValue:li,useDeferredValue:function(e){var t=ot();return ic(t,Ee.memoizedState,e)},useTransition:function(){var e=jo(Rr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Yu,useSyncExternalStore:Xu,useId:ac,unstable_isNewReconciler:!1},Jf={readContext:lt,useCallback:oc,useContext:lt,useEffect:ri,useImperativeHandle:lc,useInsertionEffect:tc,useLayoutEffect:nc,useMemo:sc,useReducer:ko,useRef:ec,useState:function(){return ko(Rr)},useDebugValue:li,useDeferredValue:function(e){var t=ot();return Ee===null?t.memoizedState=e:ic(t,Ee.memoizedState,e)},useTransition:function(){var e=ko(Rr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Yu,useSyncExternalStore:Xu,useId:ac,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function is(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xl={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),l=Qt(e),o=Mt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Yt(e,o,l),t!==null&&(ft(t,e,l,r),al(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),l=Qt(e),o=Mt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Yt(e,o,l),t!==null&&(ft(t,e,l,r),al(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=Qt(e),l=Mt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Yt(e,l,r),t!==null&&(ft(t,e,r,n),al(t,e,r))}};function ia(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!jr(n,r)||!jr(l,o):!0}function fc(e,t,n){var r=!1,l=Jt,o=t.contextType;return typeof o=="object"&&o!==null?o=lt(o):(l=Ge(t)?fn:Oe.current,r=t.contextTypes,o=(r=r!=null)?An(e,l):Jt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function as(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ks(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=lt(o):(o=Ge(t)?fn:Oe.current,l.context=An(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(is(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Xl.enqueueReplaceState(l,l.state,null),Pl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Hn(e,t){try{var n="",r=t;do n+=kd(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function _o(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qf=typeof WeakMap=="function"?WeakMap:Map;function pc(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,xs=r),us(e,t)},n}function hc(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){us(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){us(e,t),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ua(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qf;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=pp.bind(null,e,t,n),t.then(e,e))}function ca(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function da(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var ep=Lt.ReactCurrentOwner,We=!1;function Ae(e,t,n,r){t.child=e===null?Hu(t,null,n,r):Bn(t,e.child,n,r)}function fa(e,t,n,r,l){n=n.render;var o=t.ref;return bn(t,l),r=ti(e,t,n,r,o,l),n=ni(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tt(e,t,l)):(ge&&n&&Hs(t),t.flags|=1,Ae(e,t,r,l),t.child)}function pa(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!fi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,mc(e,t,o,r,l)):(e=hl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jr,n(s,r)&&e.ref===t.ref)return Tt(e,t,l)}return t.flags|=1,e=Kt(o,r),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(jr(o,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Tt(e,t,l)}return cs(e,t,n,r,l)}function gc(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Rn,Xe),Xe|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Rn,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(Rn,Xe),Xe|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(Rn,Xe),Xe|=r;return Ae(e,t,l,n),t.child}function yc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cs(e,t,n,r,l){var o=Ge(n)?fn:Oe.current;return o=An(t,o),bn(t,l),n=ti(e,t,n,r,o,l),r=ni(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tt(e,t,l)):(ge&&r&&Hs(t),t.flags|=1,Ae(e,t,n,l),t.child)}function ha(e,t,n,r,l){if(Ge(n)){var o=!0;kl(t)}else o=!1;if(bn(t,l),t.stateNode===null)dl(e,t),fc(t,n,r),as(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ge(n)?fn:Oe.current,u=An(t,u));var m=n.getDerivedStateFromProps,y=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&aa(t,s,r,u),Ot=!1;var g=t.memoizedState;s.state=g,Pl(t,r,s,l),c=t.memoizedState,a!==r||g!==c||Ve.current||Ot?(typeof m=="function"&&(is(t,n,m,r),c=t.memoizedState),(a=Ot||ia(t,n,a,r,g,c,u))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Vu(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:at(t.type,a),s.props=u,y=t.pendingProps,g=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=lt(c):(c=Ge(n)?fn:Oe.current,c=An(t,c));var M=n.getDerivedStateFromProps;(m=typeof M=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||g!==c)&&aa(t,s,r,c),Ot=!1,g=t.memoizedState,s.state=g,Pl(t,r,s,l);var _=t.memoizedState;a!==y||g!==_||Ve.current||Ot?(typeof M=="function"&&(is(t,n,M,r),_=t.memoizedState),(u=Ot||ia(t,n,u,r,g,_,c)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),s.props=r,s.state=_,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ds(e,t,n,r,o,l)}function ds(e,t,n,r,l,o){yc(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&qi(t,n,!1),Tt(e,t,o);r=t.stateNode,ep.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Bn(t,e.child,null,o),t.child=Bn(t,null,a,o)):Ae(e,t,a,o),t.memoizedState=r.state,l&&qi(t,n,!0),t.child}function vc(e){var t=e.stateNode;t.pendingContext?Ji(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ji(e,t.context,!1),Zs(e,t.containerInfo)}function ma(e,t,n,r,l){return Un(),Vs(l),t.flags|=256,Ae(e,t,n,r),t.child}var fs={dehydrated:null,treeContext:null,retryLane:0};function ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function xc(e,t,n){var r=t.pendingProps,l=ye.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),de(ye,l&1),e===null)return os(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zl(s,r,0,null),e=dn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ps(n),t.memoizedState=fs,e):oi(t,s));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return tp(e,t,s,r,a,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kt(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?o=Kt(a,o):(o=dn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ps(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=fs,r}return o=e.child,e=o.sibling,r=Kt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oi(e,t){return t=Zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jr(e,t,n,r){return r!==null&&Vs(r),Bn(t,e.child,null,n),e=oi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tp(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=_o(Error(T(422))),Jr(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Zl({mode:"visible",children:r.children},l,0,null),o=dn(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Bn(t,e.child,null,s),t.child.memoizedState=ps(s),t.memoizedState=fs,o);if(!(t.mode&1))return Jr(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(T(419)),r=_o(o,r,void 0),Jr(e,t,s,r)}if(a=(s&e.childLanes)!==0,We||a){if(r=Pe,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Rt(e,l),ft(r,e,l,-1))}return di(),r=_o(Error(T(421))),Jr(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=hp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Qe=Gt(l.nextSibling),Ke=t,ge=!0,ct=null,e!==null&&(et[tt++]=kt,et[tt++]=_t,et[tt++]=pn,kt=e.id,_t=e.overflow,pn=t),t=oi(t,r.children),t.flags|=4096,t)}function ga(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ss(e.return,t,n)}function Eo(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function wc(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Ae(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ga(e,n,t);else if(e.tag===19)ga(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ye,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Rl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Eo(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Rl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Eo(t,!0,n,null,o);break;case"together":Eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function np(e,t,n){switch(t.tag){case 3:vc(t),Un();break;case 5:Gu(t);break;case 1:Ge(t.type)&&kl(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;de(Ml,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?xc(e,t,n):(de(ye,ye.current&1),e=Tt(e,t,n),e!==null?e.sibling:null);de(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),de(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,gc(e,t,n)}return Tt(e,t,n)}var Sc,hs,Nc,Cc;Sc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hs=function(){};Nc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,un(vt.current);var o=null;switch(n){case"input":l=bo(e,l),r=bo(e,r),o=[];break;case"select":l=xe({},l,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":l=Ao(e,l),r=Ao(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cl)}Bo(n,r);var s;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Cc=function(e,t,n,r){n!==r&&(t.flags|=4)};function nr(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rp(e,t,n){var r=t.pendingProps;switch(Ws(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Ge(t.type)&&jl(),be(t),null;case 3:return r=t.stateNode,Fn(),me(Ve),me(Oe),qs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Ns(ct),ct=null))),hs(e,t),be(t),null;case 5:Js(t);var l=un(Dr.current);if(n=t.type,e!==null&&t.stateNode!=null)Nc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return be(t),null}if(e=un(vt.current),Kr(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[gt]=t,r[Er]=o,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(l=0;l<ir.length;l++)he(ir[l],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":ki(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":Ei(r,o),he("invalid",r)}Bo(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Qr(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Qr(r.textContent,a,e),l=["children",""+a]):yr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":Br(r),_i(r,o,!0);break;case"textarea":Br(r),Mi(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Za(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[gt]=t,e[Er]=r,Sc(e,t,!1,!1),t.stateNode=e;e:{switch(s=Fo(n,r),n){case"dialog":he("cancel",e),he("close",e),l=r;break;case"iframe":case"object":case"embed":he("load",e),l=r;break;case"video":case"audio":for(l=0;l<ir.length;l++)he(ir[l],e);l=r;break;case"source":he("error",e),l=r;break;case"img":case"image":case"link":he("error",e),he("load",e),l=r;break;case"details":he("toggle",e),l=r;break;case"input":ki(e,r),l=bo(e,r),he("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=xe({},r,{value:void 0}),he("invalid",e);break;case"textarea":Ei(e,r),l=Ao(e,r),he("invalid",e);break;default:l=r}Bo(n,l),a=l;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?eu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ja(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vr(e,c):typeof c=="number"&&vr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&he("scroll",e):c!=null&&Ds(e,o,c,s))}switch(n){case"input":Br(e),_i(e,r,!1);break;case"textarea":Br(e),Mi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Tn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Tn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)Cc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=un(Dr.current),un(vt.current),Kr(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(o=r.nodeValue!==n)&&(e=Ke,e!==null))switch(e.tag){case 3:Qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qr(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return be(t),null;case 13:if(me(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Qe!==null&&t.mode&1&&!(t.flags&128))Bu(),Un(),t.flags|=98560,o=!1;else if(o=Kr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(T(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[gt]=t}else Un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),o=!1}else ct!==null&&(Ns(ct),ct=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Me===0&&(Me=3):di())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return Fn(),hs(e,t),e===null&&kr(t.stateNode.containerInfo),be(t),null;case 10:return Xs(t.type._context),be(t),null;case 17:return Ge(t.type)&&jl(),be(t),null;case 19:if(me(ye),o=t.memoizedState,o===null)return be(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)nr(o,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Rl(e),s!==null){for(t.flags|=128,nr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ye,ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>Wn&&(t.flags|=128,r=!0,nr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Rl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return be(t),null}else 2*Se()-o.renderingStartTime>Wn&&n!==1073741824&&(t.flags|=128,r=!0,nr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=ye.current,de(ye,r?n&1|2:n&1),t):(be(t),null);case 22:case 23:return ci(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function lp(e,t){switch(Ws(t),t.tag){case 1:return Ge(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),me(Ve),me(Oe),qs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Js(t),null;case 13:if(me(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ye),null;case 4:return Fn(),null;case 10:return Xs(t.type._context),null;case 22:case 23:return ci(),null;case 24:return null;default:return null}}var qr=!1,$e=!1,op=typeof WeakSet=="function"?WeakSet:Set,H=null;function Pn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function ms(e,t,n){try{n()}catch(r){we(e,t,r)}}var ya=!1;function sp(e,t){if(Jo=wl,e=Mu(),Fs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,m=0,y=e,g=null;t:for(;;){for(var M;y!==n||l!==0&&y.nodeType!==3||(a=s+l),y!==o||r!==0&&y.nodeType!==3||(c=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(M=y.firstChild)!==null;)g=y,y=M;for(;;){if(y===e)break t;if(g===n&&++u===l&&(a=s),g===o&&++m===r&&(c=s),(M=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=M}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:e,selectionRange:n},wl=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,V=_.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?x:at(t.type,x),V);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(v){we(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return _=ya,ya=!1,_}function hr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ms(t,n,o)}l=l.next}while(l!==r)}}function Ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jc(e){var t=e.alternate;t!==null&&(e.alternate=null,jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Er],delete t[ns],delete t[Ff],delete t[Hf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kc(e){return e.tag===5||e.tag===3||e.tag===4}function va(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ys(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cl));else if(r!==4&&(e=e.child,e!==null))for(ys(e,t,n),e=e.sibling;e!==null;)ys(e,t,n),e=e.sibling}function vs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vs(e,t,n),e=e.sibling;e!==null;)vs(e,t,n),e=e.sibling}var Te=null,ut=!1;function zt(e,t,n){for(n=n.child;n!==null;)_c(e,t,n),n=n.sibling}function _c(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Bl,n)}catch{}switch(n.tag){case 5:$e||Pn(n,t);case 6:var r=Te,l=ut;Te=null,zt(e,t,n),Te=r,ut=l,Te!==null&&(ut?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ut?(e=Te,n=n.stateNode,e.nodeType===8?wo(e.parentNode,n):e.nodeType===1&&wo(e,n),Nr(e)):wo(Te,n.stateNode));break;case 4:r=Te,l=ut,Te=n.stateNode.containerInfo,ut=!0,zt(e,t,n),Te=r,ut=l;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ms(n,t,s),l=l.next}while(l!==r)}zt(e,t,n);break;case 1:if(!$e&&(Pn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,t,a)}zt(e,t,n);break;case 21:zt(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,zt(e,t,n),$e=r):zt(e,t,n);break;default:zt(e,t,n)}}function xa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new op),t.forEach(function(r){var l=mp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,ut=!1;break e;case 3:Te=a.stateNode.containerInfo,ut=!0;break e;case 4:Te=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(Te===null)throw Error(T(160));_c(o,s,l),Te=null,ut=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){we(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ec(t,e),t=t.sibling}function Ec(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),ht(e),r&4){try{hr(3,e,e.return),Ql(3,e)}catch(x){we(e,e.return,x)}try{hr(5,e,e.return)}catch(x){we(e,e.return,x)}}break;case 1:it(t,e),ht(e),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(it(t,e),ht(e),r&512&&n!==null&&Pn(n,n.return),e.flags&32){var l=e.stateNode;try{vr(l,"")}catch(x){we(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Qa(l,o),Fo(a,s);var u=Fo(a,o);for(s=0;s<c.length;s+=2){var m=c[s],y=c[s+1];m==="style"?eu(l,y):m==="dangerouslySetInnerHTML"?Ja(l,y):m==="children"?vr(l,y):Ds(l,m,y,u)}switch(a){case"input":$o(l,o);break;case"textarea":Ka(l,o);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var M=o.value;M!=null?Tn(l,!!o.multiple,M,!1):g!==!!o.multiple&&(o.defaultValue!=null?Tn(l,!!o.multiple,o.defaultValue,!0):Tn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Er]=o}catch(x){we(e,e.return,x)}}break;case 6:if(it(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(x){we(e,e.return,x)}}break;case 3:if(it(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nr(t.containerInfo)}catch(x){we(e,e.return,x)}break;case 4:it(t,e),ht(e);break;case 13:it(t,e),ht(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ai=Se())),r&4&&xa(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||m,it(t,e),$e=u):it(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(H=e,m=e.child;m!==null;){for(y=H=m;H!==null;){switch(g=H,M=g.child,g.tag){case 0:case 11:case 14:case 15:hr(4,g,g.return);break;case 1:Pn(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(x){we(r,n,x)}}break;case 5:Pn(g,g.return);break;case 22:if(g.memoizedState!==null){Sa(y);continue}}M!==null?(M.return=g,H=M):Sa(y)}m=m.sibling}e:for(m=null,y=e;;){if(y.tag===5){if(m===null){m=y;try{l=y.stateNode,u?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,c=y.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=qa("display",s))}catch(x){we(e,e.return,x)}}}else if(y.tag===6){if(m===null)try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(x){we(e,e.return,x)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;m===y&&(m=null),y=y.return}m===y&&(m=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:it(t,e),ht(e),r&4&&xa(e);break;case 21:break;default:it(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kc(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(vr(l,""),r.flags&=-33);var o=va(e);vs(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,a=va(e);ys(e,a,s);break;default:throw Error(T(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ip(e,t,n){H=e,Mc(e)}function Mc(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var l=H,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||qr;if(!s){var a=l.alternate,c=a!==null&&a.memoizedState!==null||$e;a=qr;var u=$e;if(qr=s,($e=c)&&!u)for(H=l;H!==null;)s=H,c=s.child,s.tag===22&&s.memoizedState!==null?Na(l):c!==null?(c.return=s,H=c):Na(l);for(;o!==null;)H=o,Mc(o),o=o.sibling;H=l,qr=a,$e=u}wa(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,H=o):wa(e)}}function wa(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Ql(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:at(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&la(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}la(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var y=m.dehydrated;y!==null&&Nr(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}$e||t.flags&512&&gs(t)}catch(g){we(t,t.return,g)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Sa(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Na(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ql(4,t)}catch(c){we(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){we(t,l,c)}}var o=t.return;try{gs(t)}catch(c){we(t,o,c)}break;case 5:var s=t.return;try{gs(t)}catch(c){we(t,s,c)}}}catch(c){we(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var ap=Math.ceil,Il=Lt.ReactCurrentDispatcher,si=Lt.ReactCurrentOwner,rt=Lt.ReactCurrentBatchConfig,se=0,Pe=null,je=null,Le=0,Xe=0,Rn=tn(0),Me=0,Lr=null,mn=0,Kl=0,ii=0,mr=null,He=null,ai=0,Wn=1/0,Ct=null,zl=!1,xs=null,Xt=null,el=!1,Ft=null,bl=0,gr=0,ws=null,fl=-1,pl=0;function Ue(){return se&6?Se():fl!==-1?fl:fl=Se()}function Qt(e){return e.mode&1?se&2&&Le!==0?Le&-Le:Vf.transition!==null?(pl===0&&(pl=fu()),pl):(e=ce,e!==0||(e=window.event,e=e===void 0?16:xu(e.type)),e):1}function ft(e,t,n,r){if(50<gr)throw gr=0,ws=null,Error(T(185));zr(e,n,r),(!(se&2)||e!==Pe)&&(e===Pe&&(!(se&2)&&(Kl|=n),Me===4&&Ut(e,Le)),Ye(e,r),n===1&&se===0&&!(t.mode&1)&&(Wn=Se()+500,Gl&&nn()))}function Ye(e,t){var n=e.callbackNode;Wd(e,t);var r=xl(e,e===Pe?Le:0);if(r===0)n!==null&&Ri(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ri(n),t===1)e.tag===0?Wf(Ca.bind(null,e)):Ou(Ca.bind(null,e)),Uf(function(){!(se&6)&&nn()}),n=null;else{switch(pu(r)){case 1:n=Is;break;case 4:n=cu;break;case 16:n=vl;break;case 536870912:n=du;break;default:n=vl}n=bc(n,Dc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dc(e,t){if(fl=-1,pl=0,se&6)throw Error(T(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var r=xl(e,e===Pe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$l(e,r);else{t=r;var l=se;se|=2;var o=Rc();(Pe!==e||Le!==t)&&(Ct=null,Wn=Se()+500,cn(e,t));do try{dp();break}catch(a){Pc(e,a)}while(!0);Ys(),Il.current=o,se=l,je!==null?t=0:(Pe=null,Le=0,t=Me)}if(t!==0){if(t===2&&(l=Yo(e),l!==0&&(r=l,t=Ss(e,l))),t===1)throw n=Lr,cn(e,0),Ut(e,r),Ye(e,Se()),n;if(t===6)Ut(e,r);else{if(l=e.current.alternate,!(r&30)&&!up(l)&&(t=$l(e,r),t===2&&(o=Yo(e),o!==0&&(r=o,t=Ss(e,o))),t===1))throw n=Lr,cn(e,0),Ut(e,r),Ye(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:on(e,He,Ct);break;case 3:if(Ut(e,r),(r&130023424)===r&&(t=ai+500-Se(),10<t)){if(xl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ts(on.bind(null,e,He,Ct),t);break}on(e,He,Ct);break;case 4:if(Ut(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-dt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ap(r/1960))-r,10<r){e.timeoutHandle=ts(on.bind(null,e,He,Ct),r);break}on(e,He,Ct);break;case 5:on(e,He,Ct);break;default:throw Error(T(329))}}}return Ye(e,Se()),e.callbackNode===n?Dc.bind(null,e):null}function Ss(e,t){var n=mr;return e.current.memoizedState.isDehydrated&&(cn(e,t).flags|=256),e=$l(e,t),e!==2&&(t=He,He=n,t!==null&&Ns(t)),e}function Ns(e){He===null?He=e:He.push.apply(He,e)}function up(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!pt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~ii,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),r=1<<n;e[n]=-1,t&=~r}}function Ca(e){if(se&6)throw Error(T(327));$n();var t=xl(e,0);if(!(t&1))return Ye(e,Se()),null;var n=$l(e,t);if(e.tag!==0&&n===2){var r=Yo(e);r!==0&&(t=r,n=Ss(e,r))}if(n===1)throw n=Lr,cn(e,0),Ut(e,t),Ye(e,Se()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,He,Ct),Ye(e,Se()),null}function ui(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Wn=Se()+500,Gl&&nn())}}function gn(e){Ft!==null&&Ft.tag===0&&!(se&6)&&$n();var t=se;se|=1;var n=rt.transition,r=ce;try{if(rt.transition=null,ce=1,e)return e()}finally{ce=r,rt.transition=n,se=t,!(se&6)&&nn()}}function ci(){Xe=Rn.current,me(Rn)}function cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Af(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Ws(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:Fn(),me(Ve),me(Oe),qs();break;case 5:Js(r);break;case 4:Fn();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Xs(r.type._context);break;case 22:case 23:ci()}n=n.return}if(Pe=e,je=e=Kt(e.current,null),Le=Xe=t,Me=0,Lr=null,ii=Kl=mn=0,He=mr=null,an!==null){for(t=0;t<an.length;t++)if(n=an[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}an=null}return e}function Pc(e,t){do{var n=je;try{if(Ys(),ul.current=Ll,Tl){for(var r=ve.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Tl=!1}if(hn=0,De=Ee=ve=null,pr=!1,Pr=0,si.current=null,n===null||n.return===null){Me=1,Lr=t,je=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=Le,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=a,y=m.tag;if(!(m.mode&1)&&(y===0||y===11||y===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var M=ca(s);if(M!==null){M.flags&=-257,da(M,s,a,o,t),M.mode&1&&ua(o,u,t),t=M,c=u;var _=t.updateQueue;if(_===null){var x=new Set;x.add(c),t.updateQueue=x}else _.add(c);break e}else{if(!(t&1)){ua(o,u,t),di();break e}c=Error(T(426))}}else if(ge&&a.mode&1){var V=ca(s);if(V!==null){!(V.flags&65536)&&(V.flags|=256),da(V,s,a,o,t),Vs(Hn(c,a));break e}}o=c=Hn(c,a),Me!==4&&(Me=2),mr===null?mr=[o]:mr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=pc(o,c,t);ra(o,f);break e;case 1:a=c;var d=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xt===null||!Xt.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=hc(o,a,t);ra(o,v);break e}}o=o.return}while(o!==null)}Lc(n)}catch(E){t=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Rc(){var e=Il.current;return Il.current=Ll,e===null?Ll:e}function di(){(Me===0||Me===3||Me===2)&&(Me=4),Pe===null||!(mn&268435455)&&!(Kl&268435455)||Ut(Pe,Le)}function $l(e,t){var n=se;se|=2;var r=Rc();(Pe!==e||Le!==t)&&(Ct=null,cn(e,t));do try{cp();break}catch(l){Pc(e,l)}while(!0);if(Ys(),se=n,Il.current=r,je!==null)throw Error(T(261));return Pe=null,Le=0,Me}function cp(){for(;je!==null;)Tc(je)}function dp(){for(;je!==null&&!zd();)Tc(je)}function Tc(e){var t=zc(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Lc(e):je=t,si.current=null}function Lc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lp(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,je=null;return}}else if(n=rp(n,t,Xe),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Me===0&&(Me=5)}function on(e,t,n){var r=ce,l=rt.transition;try{rt.transition=null,ce=1,fp(e,t,n,r)}finally{rt.transition=l,ce=r}return null}function fp(e,t,n,r){do $n();while(Ft!==null);if(se&6)throw Error(T(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Vd(e,o),e===Pe&&(je=Pe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,bc(vl,function(){return $n(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rt.transition,rt.transition=null;var s=ce;ce=1;var a=se;se|=4,si.current=null,sp(e,n),Ec(n,e),Tf(qo),wl=!!Jo,qo=Jo=null,e.current=n,ip(n),bd(),se=a,ce=s,rt.transition=o}else e.current=n;if(el&&(el=!1,Ft=e,bl=l),o=e.pendingLanes,o===0&&(Xt=null),Ad(n.stateNode),Ye(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(zl)throw zl=!1,e=xs,xs=null,e;return bl&1&&e.tag!==0&&$n(),o=e.pendingLanes,o&1?e===ws?gr++:(gr=0,ws=e):gr=0,nn(),null}function $n(){if(Ft!==null){var e=pu(bl),t=rt.transition,n=ce;try{if(rt.transition=null,ce=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,bl=0,se&6)throw Error(T(331));var l=se;for(se|=4,H=e.current;H!==null;){var o=H,s=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(H=u;H!==null;){var m=H;switch(m.tag){case 0:case 11:case 15:hr(8,m,o)}var y=m.child;if(y!==null)y.return=m,H=y;else for(;H!==null;){m=H;var g=m.sibling,M=m.return;if(jc(m),m===u){H=null;break}if(g!==null){g.return=M,H=g;break}H=M}}}var _=o.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var V=x.sibling;x.sibling=null,x=V}while(x!==null)}}H=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,H=s;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hr(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,H=f;break e}H=o.return}}var d=e.current;for(H=d;H!==null;){s=H;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,H=h;else e:for(s=d;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ql(9,a)}}catch(E){we(a,a.return,E)}if(a===s){H=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,H=v;break e}H=a.return}}if(se=l,nn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Bl,e)}catch{}r=!0}return r}finally{ce=n,rt.transition=t}}return!1}function ja(e,t,n){t=Hn(n,t),t=pc(e,t,1),e=Yt(e,t,1),t=Ue(),e!==null&&(zr(e,1,t),Ye(e,t))}function we(e,t,n){if(e.tag===3)ja(e,e,n);else for(;t!==null;){if(t.tag===3){ja(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=Hn(n,e),e=hc(t,e,1),t=Yt(t,e,1),e=Ue(),t!==null&&(zr(t,1,e),Ye(t,e));break}}t=t.return}}function pp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Le&n)===n&&(Me===4||Me===3&&(Le&130023424)===Le&&500>Se()-ai?cn(e,0):ii|=n),Ye(e,t)}function Ic(e,t){t===0&&(e.mode&1?(t=Wr,Wr<<=1,!(Wr&130023424)&&(Wr=4194304)):t=1);var n=Ue();e=Rt(e,t),e!==null&&(zr(e,t,n),Ye(e,n))}function hp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ic(e,n)}function mp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),Ic(e,n)}var zc;zc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,np(e,t,n);We=!!(e.flags&131072)}else We=!1,ge&&t.flags&1048576&&Au(t,El,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dl(e,t),e=t.pendingProps;var l=An(t,Oe.current);bn(t,n),l=ti(null,t,r,e,l,n);var o=ni();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(o=!0,kl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ks(t),l.updater=Xl,t.stateNode=l,l._reactInternals=t,as(t,r,e,n),t=ds(null,t,r,!0,o,n)):(t.tag=0,ge&&o&&Hs(t),Ae(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=yp(r),e=at(r,e),l){case 0:t=cs(null,t,r,e,n);break e;case 1:t=ha(null,t,r,e,n);break e;case 11:t=fa(null,t,r,e,n);break e;case 14:t=pa(null,t,r,at(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:at(r,l),cs(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:at(r,l),ha(e,t,r,l,n);case 3:e:{if(vc(t),e===null)throw Error(T(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Vu(e,t),Pl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Hn(Error(T(423)),t),t=ma(e,t,r,n,l);break e}else if(r!==l){l=Hn(Error(T(424)),t),t=ma(e,t,r,n,l);break e}else for(Qe=Gt(t.stateNode.containerInfo.firstChild),Ke=t,ge=!0,ct=null,n=Hu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),r===l){t=Tt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Gu(t),e===null&&os(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,es(r,l)?s=null:o!==null&&es(r,o)&&(t.flags|=32),yc(e,t),Ae(e,t,s,n),t.child;case 6:return e===null&&os(t),null;case 13:return xc(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bn(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:at(r,l),fa(e,t,r,l,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,de(Ml,r._currentValue),r._currentValue=s,o!==null)if(pt(o.value,s)){if(o.children===l.children&&!Ve.current){t=Tt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Mt(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ss(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(T(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ss(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ae(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,bn(t,n),l=lt(l),r=r(l),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,l=at(r,t.pendingProps),l=at(r.type,l),pa(e,t,r,l,n);case 15:return mc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:at(r,l),dl(e,t),t.tag=1,Ge(r)?(e=!0,kl(t)):e=!1,bn(t,n),fc(t,r,l),as(t,r,l,n),ds(null,t,r,!0,e,n);case 19:return wc(e,t,n);case 22:return gc(e,t,n)}throw Error(T(156,t.tag))};function bc(e,t){return uu(e,t)}function gp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new gp(e,t,n,r)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yp(e){if(typeof e=="function")return fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rs)return 11;if(e===Ts)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hl(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")fi(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Sn:return dn(n.children,l,o,t);case Ps:s=8,l|=8;break;case To:return e=nt(12,n,t,l|2),e.elementType=To,e.lanes=o,e;case Lo:return e=nt(13,n,t,l),e.elementType=Lo,e.lanes=o,e;case Io:return e=nt(19,n,t,l),e.elementType=Io,e.lanes=o,e;case Ga:return Zl(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wa:s=10;break e;case Va:s=9;break e;case Rs:s=11;break e;case Ts:s=14;break e;case $t:s=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=nt(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function dn(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function Zl(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Ga,e.lanes=n,e.stateNode={isHidden:!1},e}function Mo(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function Do(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vp(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function pi(e,t,n,r,l,o,s,a,c){return e=new vp(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ks(o),e}function xp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $c(e){if(!e)return Jt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ge(n))return $u(e,n,t)}return t}function Oc(e,t,n,r,l,o,s,a,c){return e=pi(n,r,!0,e,l,o,s,a,c),e.context=$c(null),n=e.current,r=Ue(),l=Qt(n),o=Mt(r,l),o.callback=t??null,Yt(n,o,l),e.current.lanes=l,zr(e,l,r),Ye(e,r),e}function Jl(e,t,n,r){var l=t.current,o=Ue(),s=Qt(l);return n=$c(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(l,t,s),e!==null&&(ft(e,l,s,o),al(e,l,s)),s}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ka(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hi(e,t){ka(e,t),(e=e.alternate)&&ka(e,t)}function wp(){return null}var Ac=typeof reportError=="function"?reportError:function(e){console.error(e)};function mi(e){this._internalRoot=e}ql.prototype.render=mi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Jl(e,t,null,null)};ql.prototype.unmount=mi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){Jl(null,e,null,null)}),t[Pt]=null}};function ql(e){this._internalRoot=e}ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=gu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&vu(e)}};function gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _a(){}function Sp(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var u=Ol(s);o.call(u)}}var s=Oc(t,r,e,0,null,!1,!1,"",_a);return e._reactRootContainer=s,e[Pt]=s.current,kr(e.nodeType===8?e.parentNode:e),gn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var u=Ol(c);a.call(u)}}var c=pi(e,0,!1,null,null,!1,!1,"",_a);return e._reactRootContainer=c,e[Pt]=c.current,kr(e.nodeType===8?e.parentNode:e),gn(function(){Jl(t,c,n,r)}),c}function to(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var a=l;l=function(){var c=Ol(s);a.call(c)}}Jl(t,s,e,l)}else s=Sp(n,t,e,l,r);return Ol(s)}hu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sr(t.pendingLanes);n!==0&&(zs(t,n|1),Ye(t,Se()),!(se&6)&&(Wn=Se()+500,nn()))}break;case 13:gn(function(){var r=Rt(e,1);if(r!==null){var l=Ue();ft(r,e,1,l)}}),hi(e,1)}};bs=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Ue();ft(t,e,134217728,n)}hi(e,134217728)}};mu=function(e){if(e.tag===13){var t=Qt(e),n=Rt(e,t);if(n!==null){var r=Ue();ft(n,e,t,r)}hi(e,t)}};gu=function(){return ce};yu=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};Wo=function(e,t,n){switch(t){case"input":if($o(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Vl(r);if(!l)throw Error(T(90));Xa(r),$o(r,l)}}}break;case"textarea":Ka(e,n);break;case"select":t=n.value,t!=null&&Tn(e,!!n.multiple,t,!1)}};ru=ui;lu=gn;var Np={usingClientEntryPoint:!1,Events:[$r,kn,Vl,tu,nu,ui]},rr={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cp={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iu(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Bl=tl.inject(Cp),yt=tl}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gi(t))throw Error(T(200));return xp(e,t,null,n)};Je.createRoot=function(e,t){if(!gi(e))throw Error(T(299));var n=!1,r="",l=Ac;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=pi(e,1,!1,null,null,n,!1,r,l),e[Pt]=t.current,kr(e.nodeType===8?e.parentNode:e),new mi(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=iu(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return gn(e)};Je.hydrate=function(e,t,n){if(!eo(t))throw Error(T(200));return to(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!gi(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=Ac;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Oc(t,null,e,1,n??null,l,!1,o,s),e[Pt]=t.current,kr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ql(t)};Je.render=function(e,t,n){if(!eo(t))throw Error(T(200));return to(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!eo(e))throw Error(T(40));return e._reactRootContainer?(gn(function(){to(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Je.unstable_batchedUpdates=ui;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eo(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return to(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Uc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uc)}catch(e){console.error(e)}}Uc(),Ua.exports=Je;var jp=Ua.exports,Bc,Ea=jp;Bc=Ea.createRoot,Ea.hydrateRoot;const Fc=k.createContext(void 0),kp=({children:e})=>{const[t,n]=k.useState(!1),[r,l]=k.useState(null),[o,s]=k.useState(!1),[a,c]=k.useState(null),[u,m]=k.useState(null),[y,g]=k.useState("medicine"),[M,_]=k.useState(0),[x,V]=k.useState(!1),[f,d]=k.useState(null),[h,v]=k.useState("edit"),[E,w]=k.useState(!1),[$,I]=k.useState(null),[te,S]=k.useState(!1),[Q,oe]=k.useState(null),[ae,Ne]=k.useState(!1),F=()=>{sessionStorage.removeItem("user_session"),n(!1),l(null)},Z=()=>{_(G=>G+1)},D=G=>{d(G),v("edit"),V(!0)},C=()=>{const G={GUID:`new_medbox_${Date.now()}`,name:"",box_type:"",width:[],width_index:0,med_info:[]};d(G),v("add"),V(!0)},P=()=>{V(!1),d(null),v("edit")},N=G=>{I(G),w(!0)},L=()=>{w(!1),I(null)},B=G=>{oe(G),S(!0)},K=()=>{S(!1),oe(null)};return i.jsx(Fc.Provider,{value:{isAuthenticated:t,setIsAuthenticated:n,currentUser:r,setCurrentUser:l,logout:F,sidebarOpen:o,setSidebarOpen:s,selectedDepartmentType:a,setSelectedDepartmentType:c,apiDepartmentData:u,setApiDepartmentData:m,viewMode:y,setViewMode:g,refreshTrigger:M,triggerRefresh:Z,medBoxModalOpen:x,setMedBoxModalOpen:V,selectedMedBox:f,setSelectedMedBox:d,openMedBoxModal:D,closeMedBoxModal:P,modalMode:h,setModalMode:v,openAddMedBoxModal:C,listDrawModalOpen:E,setListDrawModalOpen:w,selectedListDraw:$,setSelectedListDraw:I,openListDrawModal:N,closeListDrawModal:L,gridDrawModalOpen:te,setGridDrawModalOpen:S,selectedGridDraw:Q,setSelectedGridDraw:oe,openGridDrawModal:B,closeGridDrawModal:K,isLoadingMedMap:ae,setIsLoadingMedMap:Ne},children:e})},xt=()=>{const e=k.useContext(Fc);if(e===void 0)throw new Error("useDrugMap must be used within a DrugMapProvider");return e},_p={"zh-TW":{"nav.title":"藥品地圖","nav.home":"返回首頁","nav.expandSidebar":"展開側邊欄","nav.collapseSidebar":"收合側邊欄","topbar.medicine":"藥品","topbar.department":"部門","topbar.language":"中文","topbar.logout":"登出","sidebar.drugMap":"藥品地圖","sidebar.closeSidebar":"關閉側邊欄","sidebar.departmentCategories":"部門分類","sidebar.departments":"個部門","canvas.lockCanvas":"鎖定畫布","canvas.unlockCanvas":"解鎖畫布","type.dispensingStation":"調劑台","type.warehouse":"藥庫","type.medBoxShelf":"藥盒層架","type.gridDraw":"格線抽屜","type.listDraw":"抽屜","type.medBox":"藥盒","type.containers":"個容器","modal.medBoxSettings":"藥盒設定","modal.addMedBox":"新增藥盒","modal.listDrawSettings":"抽屜設定","modal.gridDrawSettings":"格線抽屜設定","modal.settings":"編輯設定","modal.add":"新增藥盒","form.medBoxName":"藥盒名稱","form.medBoxType":"藥盒類型","form.widthSelection":"寬度選擇","form.ipAddress":"IP 位址","form.drugInfo":"藥品資料","form.drawerName":"抽屜名稱","form.drugList":"藥品清單","form.drugCode":"藥碼","form.drugName":"藥名","form.chineseName":"中文名","form.drugSearch":"藥品搜尋","placeholder.medBoxName":"請輸入 藥盒名稱 位址","placeholder.ipAddress":"請輸入 IP 位址","placeholder.drawerName":"請輸入抽屜名稱","placeholder.gridDrawName":"請輸入格線抽屜名稱","placeholder.drugSearch":"請輸入 藥碼/藥名/中文名","button.cancel":"取消","button.save":"儲存","button.add":"新增","button.edit":"編輯","button.change":"變更","button.remove":"移除藥品","button.search":"搜尋","button.merge":"合併","button.unmerge":"取消合併","status.noDrugData":"此藥盒尚未配置藥品資料","status.newMedBoxNoDrug":"新藥盒尚未配置藥品資料","status.drawerNoDrug":"此抽屜尚未配置藥品","status.gridDrawNotConfigured":"此格線抽屜尚未配置","status.noDrugInfo":"無藥品資料","status.drugListEmpty":"藥品清單為空","status.noContent":"No content available","status.notSet":"未設定","status.notAdded":"未加入藥品","status.searchResults":"搜尋結果將顯示於此區域","status.selectCellsForDrug":"請選取合併格子以顯示藥品資訊","status.selectedCellsNoDrug":"選取的格子無藥品資料","status.loadingMedMapData":"正在載入藥品地圖資料...","status.loadingMedMapHint":"請稍候，系統正在處理部門資料","footer.copyright":"Copyright ©2025 鴻森智能科技","login.title":"藥品地圖系統","login.subtitle":"請登入以繼續使用系統","login.userId":"帳號","login.userIdPlaceholder":"請輸入使用者帳號","login.password":"密碼","login.passwordPlaceholder":"請輸入密碼","login.loginButton":"登入","login.loggingIn":"登入中..."},en:{"nav.title":"Drug Map","nav.home":"Back to Home","nav.expandSidebar":"Expand Sidebar","nav.collapseSidebar":"Collapse Sidebar","topbar.medicine":"Medicine","topbar.department":"Department","topbar.language":"English","topbar.logout":"Logout","sidebar.drugMap":"Drug Map","sidebar.closeSidebar":"Close Sidebar","sidebar.departmentCategories":"Department Categories","sidebar.departments":"Departments","canvas.lockCanvas":"Lock Canvas","canvas.unlockCanvas":"Unlock Canvas","type.dispensingStation":"Dispensing Station","type.warehouse":"Warehouse","type.medBoxShelf":"Medicine Box Shelf","type.gridDraw":"Grid Drawer","type.listDraw":"List Drawer","type.medBox":"Medicine Box","type.containers":"Containers","modal.medBoxSettings":"Medicine Box Settings","modal.addMedBox":"Add Medicine Box","modal.listDrawSettings":"Drawer Settings","modal.gridDrawSettings":"Grid Drawer Settings","modal.settings":"Edit Settings","modal.add":"Add Medicine Box","form.medBoxName":"Medicine Box Name","form.medBoxType":"Medicine Box Type","form.widthSelection":"Width Selection","form.ipAddress":"IP Address","form.drugInfo":"Drug Information","form.drawerName":"Drawer Name","form.drugList":"Drug List","form.drugCode":"Drug Code","form.drugName":"Drug Name","form.chineseName":"Chinese Name","form.drugSearch":"Drug Search","placeholder.medBoxName":"Enter medicine box name","placeholder.ipAddress":"Enter IP address","placeholder.drawerName":"Enter drawer name","placeholder.gridDrawName":"Enter grid drawer name","placeholder.drugSearch":"Enter drug code/name/Chinese name","button.cancel":"Cancel","button.save":"Save","button.add":"Add","button.edit":"Edit","button.change":"Change","button.remove":"Remove Drug","button.search":"Search","button.merge":"Merge","button.unmerge":"Unmerge","status.noDrugData":"This medicine box has no drug data configured","status.newMedBoxNoDrug":"New medicine box has no drug data configured","status.drawerNoDrug":"This drawer has no drugs configured","status.gridDrawNotConfigured":"This grid drawer is not configured","status.noDrugInfo":"No drug information","status.drugListEmpty":"Drug list is empty","status.noContent":"No content available","status.notSet":"Not set","status.notAdded":"No drugs added","status.searchResults":"Search results will be displayed here","status.selectCellsForDrug":"Select merged cells to display drug information","status.selectedCellsNoDrug":"Selected cells have no drug data","status.searching":"Searching...","status.noSearchResults":"No search results found","status.loadingMedMapData":"Loading medicine map data...","status.loadingMedMapHint":"Please wait while we process department data","footer.copyright":"Copyright ©2025 Hongsen Intelligent Technology","login.title":"Drug Map System","login.subtitle":"Please login to continue","login.userId":"ID","login.userIdPlaceholder":"Enter your user ID","login.password":"Password","login.passwordPlaceholder":"Enter your password","login.loginButton":"Login","login.loggingIn":"Logging in..."}},Hc=k.createContext(void 0),Ep=({children:e})=>{const[t,n]=k.useState("zh-TW"),r=l=>_p[t][l]||l;return i.jsx(Hc.Provider,{value:{language:t,setLanguage:n,t:r},children:e})},st=()=>{const e=k.useContext(Hc);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:c,...u},m)=>k.createElement("svg",{ref:m,...Mp,width:l,height:l,stroke:r,strokeWidth:s?Number(o)*24/Number(l):o,className:["lucide",`lucide-${Dp(e)}`,a].join(" "),...u},[...t.map(([y,g])=>k.createElement(y,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ke("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ke("ListX",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"m19 10-4 4",key:"1tz659"}],["path",{d:"m15 10 4 4",key:"1n7nei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ke("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ke("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ke("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Up=()=>{const{sidebarOpen:e,setSidebarOpen:t}=xt(),{t:n}=st();return i.jsx("div",{className:"fixed top-4 left-4 z-30",children:i.jsx("nav",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-2 py-1",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("a",{href:"../frontpage",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:n("nav.home"),children:i.jsx(yi,{className:"w-5 h-5"})}),i.jsx("div",{className:"ml-2 text-lg font-semibold text-gray-900",children:n("nav.title")}),i.jsx("button",{onClick:()=>t(!e),className:"ml-8 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:n(e?"nav.collapseSidebar":"nav.expandSidebar"),children:e?i.jsx(Ma,{className:"w-6 h-6"}):i.jsx(Ma,{className:"w-6 h-6"})})]})})})},Bp=()=>{const{viewMode:e,setViewMode:t,logout:n,currentUser:r}=xt(),{language:l,setLanguage:o,t:s}=st(),[a,c]=fd.useState(!1),u=()=>{o(l==="zh-TW"?"en":"zh-TW")};return i.jsx("div",{className:"fixed top-4 right-4 z-30",children:i.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-2 py-1 sm:px-3 sm:py-2",children:i.jsxs("div",{className:"flex items-center gap-2 lg:gap-0 lg:space-x-2 flex-col lg:flex-row relative",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>t("medicine"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md transition-all duration-300 ease-in-out transform ${e==="medicine"?"bg-white text-green-600 shadow-sm scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102"}`,children:[i.jsx(Op,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:s("topbar.medicine")})]}),i.jsxs("button",{onClick:()=>t("department"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md transition-all duration-300 ease-in-out transform ${e==="department"?"bg-white text-blue-600 shadow-sm scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102"}`,children:[i.jsx(Wc,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:s("topbar.department")})]})]}),i.jsx("button",{onClick:()=>c(!a),className:"lg:hidden flex items-center justify-center p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",children:a?i.jsx(Rp,{className:"w-4 h-4"}):i.jsx(Vc,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:`
            flex items-center gap-2 lg:gap-0 lg:space-x-2 flex-col lg:flex-row
            lg:flex lg:opacity-100 lg:max-h-none
            transition-all duration-300 ease-in-out overflow-hidden
            ${a?"flex opacity-100 max-h-96":"hidden opacity-0 max-h-0 lg:flex lg:opacity-100 lg:max-h-none"}
          `,children:[i.jsx("div",{className:"mx-1 w-full lg:w-px lg:h-6 h-px bg-gray-300"}),i.jsxs("button",{onClick:u,className:"w-full lg:w-auto flex justify-center items-center space-x-2 px-3 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors border",children:[i.jsx(Ip,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:s("topbar.language")})]}),i.jsx("div",{className:"w-full lg:w-px lg:h-6 h-px bg-gray-300"}),r&&i.jsx("div",{className:"w-full lg:w-auto flex justify-center items-center space-x-2 px-3 py-1.5 bg-gray-50 border border-gray-200 rounded-lg",children:i.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.Name})}),i.jsxs("button",{onClick:n,className:"w-full lg:w-auto flex items-center space-x-2 px-3 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-700 border border-red-200 rounded-lg transition-colors justify-center",children:[i.jsx($p,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:s("topbar.logout")})]})]})]})})})};class Fp{constructor(){this.config=null,this.isConfigLoaded=!1}async loadConfig(){var t;if(this.config&&this.isConfigLoaded)return this.config;try{const n=await fetch("../config.txt");if(!n.ok)throw new Error(`Failed to load config: ${n.status}`);const r=await n.text();if(this.config=JSON.parse(r),this.isConfigLoaded=!0,!((t=this.config)!=null&&t.domain))throw new Error("Invalid config: missing domain");return this.config}catch(n){throw console.error("Failed to load API config:",n),new Error("API configuration not available")}}async request(t,n={}){const l=`${(await this.loadConfig()).domain}${t}`,o={method:"POST",headers:{"Content-Type":"application/json",...n.headers},...n};try{const s=await fetch(l,o);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){throw console.error(`API request failed for ${t}:`,s),s}}async login(t){const n={Data:{ID:t.ID.trim(),Password:t.Password}};return this.request("/api/session/login",{method:"POST",body:JSON.stringify(n)})}async getDepartments(t={}){return this.request("/api/ServerSetting/get_name",{method:"POST",body:JSON.stringify(t)})}async getMedicineCloud(t={}){return this.request("/api/MED_page/get_med_cloud",{method:"POST",body:JSON.stringify({})})}async searchMedicine(t="",n="N"){try{const r=await this.getMedicineCloud();if(r.Code!==200||!r.Data)return console.error("API returned error:",r),[];let l=r.Data;if(l=l.filter(o=>o.DRUGKIND===n),l=l.filter(o=>o.FILE_STATUS!=="關檔中"),t.trim()){const o=t.toLowerCase();l=l.filter(s=>s.CODE&&s.CODE.toLowerCase().includes(o)||s.CHT_NAME&&s.CHT_NAME.toLowerCase().includes(o)||s.NAME&&s.NAME.toLowerCase().includes(o))}return l}catch(r){return console.error("Medicine search failed:",r),[]}}async getMedMapByDepartment(t){const n={Data:{},ValueAry:[t]};return this.request("/api/medMap/get_medMap_by_department",{method:"POST",body:JSON.stringify(n)})}async getConfig(){return this.loadConfig()}async checkConnection(){try{return await this.loadConfig(),!0}catch(t){return console.error("API connection check failed:",t),!1}}resetConfig(){this.config=null,this.isConfigLoaded=!1}}const Vn=new Fp;class Hp{convertMedMapApiToFakeData(t){console.log("🔄 開始轉換 MedMap API 資料到假資料格式"),console.log("📥 原始 API 資料:",t);try{Array.isArray(t)||(console.warn("⚠️ API 資料不是陣列格式，嘗試包裝成陣列"),t=[t]);const n=t.map((r,l)=>this.convertSingleDepartment(r,l));return console.log("✅ MedMap 資料轉換完成，結果:",n),n}catch(n){return console.error("❌ MedMap 資料轉換失敗:",n),[]}}convertSingleDepartment(t,n){const r={GUID:t.GUID||t.guid||`dept_${n}_${Date.now()}`,Master_GUID:t.Master_GUID,type:t.sys_ServerSetting.type||"",name:t.sys_ServerSetting.name||"",gird_position:t.position,contents:t.medMap_Section,department_type:t.sys_ServerSetting["department_type "],class:0};return Array.isArray(t.medMap_Section)&&t.medMap_Section.forEach((l,o)=>{r.contents[o]={GUID:l.GUID,MASTER_GUID:l.Master_GUID,name:`父容器_${o}`,type:"parent_container",class:1,gird_position:l.position,contents:[]},Array.isArray(l.sub_section)&&l.sub_section.forEach((s,a)=>{let c={GUID:s.GUID,MASTER_GUID:s.Master_GUID,name:`子容器_${a}`,type:"sub_container",class:2,gird_position:s.position,contents:[],oriMaxCol:0};r.contents[o].contents[a]=c;let u=0;Array.isArray(s.shelf)&&Array.isArray(s.drawer)&&(s.shelf.forEach((m,y)=>{let g={GUID:m.GUID,MASTER_GUID:m.Master_GUID,name:`層架_${y}`,class:3,gird_position:m.position,contents:[]};m.medMapBox?(g.type="dispensing_shelves",m.medMapBox.forEach((_,x)=>{let V={GUID:_.GUID,MASTER_GUID:_.Master_GUID,name:"藥盒",class:4,gird_position:_.position,ip:_.ip_box,box_type:"2.13",width:_.width,height:_.height,med_info:[],type:"med_box",device_type:_.storage.DeviceType},f={name:_.storage.Name,code:_.storage.Code,cht_name:_.storage.ChineseName};V.med_info[0]=f,g.contents.push(V)})):g.type="store_shelves";let M=m.position.split(",")[1];u<+M&&(u=+M,r.contents[o].contents[a].oriMaxCol=+u),r.contents[o].contents[a].contents.push(g)}),s.drawer.forEach((m,y)=>{let g={GUID:m.GUID,MASTER_GUID:m.Master_GUID,name:`抽屜 ${y}`,class:3,gird_position:m.position,ip:m.ip_drawer,drawer_type:m.drawer.DrawerType};if(m.drawer.Boxes)if(g.type="grid_draw",g.name=`格線抽屜 ${y}`,g.Boxes=[],Array.isArray(m.drawer.Boxes)){let _=m.drawer.Boxes;console.log(_),_.forEach((x,V)=>{let f=[];Array.isArray(x)&&x.forEach((d,h)=>{let v={Row:d.Row,Column:d.Column,Width:1,Height:1,Slave:d.Slave,SlaveBox_Row:d.SlaveBox_Row,SlaveBox_Column:d.SlaveBox_Column,MasterBox_Column:d.MasterBox_Column,MasterBox_Row:d.MasterBox_Row,Name:d.Name,Code:d.Code,ChineseName:d.ChineseName,GUID:d.GUID};f.push(v)}),g.Boxes.push(f)})}else g.Boxes=m.drawer.Boxes;else g.type="list_draw",g.name=`清單抽屜 ${y}`;let M=m.position.split(",")[1];u<+M&&(u=+M,r.contents[o].contents[a].oriMaxCol=+u),r.contents[o].contents[a].contents.push(g)}))})}),r}convertSingleComponent(t,n,r){var o,s,a,c,u;const l={GUID:t.GUID||t.guid||`comp_${n}_${Date.now()}`,type:this.mapComponentType(t.type||t.component_type||"unknown"),name:t.name||t.component_name||`組件_${n}`,position:{x:((o=t.position)==null?void 0:o.x)||t.x||50+n*200,y:((s=t.position)==null?void 0:s.y)||t.y||50+n*150},dimensions:{width:((a=t.dimensions)==null?void 0:a.width)||t.width||180,height:((c=t.dimensions)==null?void 0:c.height)||t.height||120,depth:((u=t.dimensions)==null?void 0:u.depth)||t.depth||30},med_box:t.med_box||t.medBox||t.medicine_boxes||[],MASTER_GUID:r};return t.components&&Array.isArray(t.components)&&(l.components=t.components.map((m,y)=>this.convertSingleComponent(m,y,l.GUID))),Object.keys(t).forEach(m=>{["GUID","type","name","position","dimensions","med_box","components"].includes(m)||(l[m]=t[m])}),l}mapDepartmentType(t){return{dispensing_station:"調劑台",warehouse:"藥庫",pharmacy:"藥局",storage:"儲存區"}[t]||t}mapComponentType(t){return{medicine_box_shelf:"med_box_shelf",medicine_shelf:"normal_shelf",grid_drawer:"grid_draw",list_drawer:"list_draw",medicine_box:"med_box",parent_container:"parent_container",sub_container:"sub_container",dispensing_shelves:"dispensing_shelves",store_shelves:"store_shelves"}[t]||t}validateConvertedData(t){try{if(!Array.isArray(t))return console.error("❌ 轉換後的資料不是陣列格式"),!1;for(const n of t){if(!n.GUID||!n.type||!n.name)return console.error("❌ 部門資料缺少必要欄位:",n),!1;if(!n.gird_position||typeof n.gird_position!="string")return console.error("❌ 部門位置資料格式錯誤:",n.gird_position),!1;if(n.components&&Array.isArray(n.components)){for(const r of n.components)if(!r.GUID||!r.type)return console.error("❌ 組件資料缺少必要欄位:",r),!1}}return console.log("✅ 轉換後的資料結構驗證通過"),!0}catch(n){return console.error("❌ 資料驗證過程中發生錯誤:",n),!1}}generateConversionReport(t,n){const r={timestamp:new Date().toISOString(),originalDataCount:Array.isArray(t)?t.length:0,convertedDataCount:n.length,conversionSuccess:n.length>0,totalComponents:n.reduce((l,o)=>{var s;return l+(((s=o.components)==null?void 0:s.length)||0)},0),departmentTypes:[...new Set(n.map(l=>l.type))],componentTypes:[...new Set(n.flatMap(l=>{var o;return((o=l.components)==null?void 0:o.map(s=>s.type))||[]}))]};return console.log("📊 資料轉換報告:",r),r}}const Po=new Hp,Wp=()=>{const{sidebarOpen:e,setSidebarOpen:t,selectedDepartmentType:n,setSelectedDepartmentType:r,setApiDepartmentData:l,isLoadingMedMap:o,setIsLoadingMedMap:s}=xt(),{t:a}=st(),[c,u]=k.useState(new Set),[m,y]=k.useState([]),[g,M]=k.useState(!0),[_,x]=k.useState([]);k.useEffect(()=>{(async()=>{M(!0);try{const E=await Vn.getDepartments();E.Code===200&&E.Data?(console.log(E.Data),y(E.Data)):(console.error("API returned error:",E),y([]))}catch(E){console.error("Failed to fetch department data:",E),y([])}finally{M(!1)}})()},[]);const V=m.reduce((v,E)=>{const w=E["department_type "];return v[w]||(v[w]=[]),v[w].push(E),v},{}),f=v=>{const E=new Set(c);E.has(v)?E.delete(v):E.add(v),u(E)},d=async v=>{console.log("🏢 選擇部門:",v),r(v),await h(v),t(!1)},h=async v=>{console.log("🚀 開始取得藥品地圖資料，部門類型:",v),s(!0);try{const E=await Vn.getMedMapByDepartment(v);if(E.Code===200&&E.Data){console.log("📡 API 回傳成功:",E.Data);const w=Po.convertMedMapApiToFakeData(E.Data);if(!Po.validateConvertedData(w)){console.error("❌ 轉換後的資料驗證失敗"),x([]);return}const I=Po.generateConversionReport(E.Data,w);x(w),l(w),console.log("💾 已暫存轉換後的資料到狀態中"),console.log("📊 最終轉換結果:",w),console.log("📋 轉換報告:",I)}else console.error("❌ API 回傳錯誤:",E),x([]),l(null)}catch(E){console.error("💥 取得藥品地圖資料失敗:",E),x([]),l(null)}finally{s(!1)}};return i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>t(!1)}),i.jsx("div",{className:`fixed w-80 bg-white/95 backdrop-blur-sm shadow-xl border border-gray-200/50 z-50 transform transition-all duration-300 ease-in-out h-screen h-svh ${e?"translate-x-0 opacity-100":"-translate-x-full opacity-0"}`,children:i.jsxs("div",{className:"flex flex-col h-screen h-svh",children:[i.jsx("div",{className:"flex-shrink-0 px-4 py-2 border-b border-gray-200/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("a",{href:"../front_page",className:"text-gray-600 hover:text-gray-900 transition-colors p-2 rounded-lg hover:bg-gray-100/50",title:a("nav.home"),children:i.jsx(yi,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:a("sidebar.drugMap")})]}),i.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:a("sidebar.closeSidebar"),children:i.jsx(bp,{className:"w-6 h-6"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-gray-500",children:"Loading departments..."})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-4",children:a("sidebar.departmentCategories")}),Object.entries(V).map(([v,E])=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("button",{onClick:()=>d(v),disabled:o,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 border ${n===v?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:shadow-sm border-transparent"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[v==="B1F"?i.jsx(Wc,{className:"w-4 h-4"}):i.jsx(Ap,{className:"w-4 h-4"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:v}),i.jsxs("div",{className:"text-xs text-gray-500",children:[E.length," ",a("sidebar.departments")]})]})]}),i.jsx("div",{onClick:w=>{w.stopPropagation(),f(v)},className:"p-1 hover:bg-gray-200/50 rounded transition-colors",children:c.has(v)?i.jsx(Vc,{className:"w-4 h-4"}):i.jsx(Pp,{className:"w-4 h-4"})})]}),c.has(v)&&i.jsx("div",{className:"ml-6 space-y-2",children:E.map(w=>i.jsx("div",{className:"p-3 text-base text-gray-600 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"font-medium text-gray-800",children:w.name}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.type==="調劑台"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:w.type})]})},w.GUID))})]},v))]})})]})})]})},Vp=()=>{const{t:e}=st();return i.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-30",children:i.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-4 py-2",children:i.jsx("p",{className:"text-sm text-gray-600 font-medium whitespace-nowrap",children:e("footer.copyright")})})})},Gp=({component:e,scale:t,isLocked:n})=>{const r=k.useRef(null),{t:l}=st(),[o,s]=k.useState(!1),[a,c]=k.useState({x:0,y:0}),[u,m]=k.useState(e.position),[y,g]=k.useState(null),[M,_]=k.useState({x:0,y:0}),{position:x,dimensions:V,name:f,type:d}=e,h=k.useCallback(F=>{if(!n)return;F.preventDefault(),F.stopPropagation();const Z=r.current;if(!Z)return;Z.setPointerCapture(F.pointerId);const D=Z.getBoundingClientRect(),C=F.clientX-D.left,P=F.clientY-D.top;c({x:C,y:P}),s(!0)},[n]),v=k.useCallback(F=>{if(!o||!n)return;F.preventDefault(),F.stopPropagation();const Z=r.current;if(!Z)return;const D=Z.closest("[data-canvas-content]");if(!D)return;const C=D.getBoundingClientRect(),P=(F.clientX-C.left-a.x)/t,N=(F.clientY-C.top-a.y)/t;m({x:P,y:N})},[o,a,t,n]),E=k.useCallback(F=>{if(!o||!n)return;F.preventDefault(),F.stopPropagation();const Z=r.current;Z&&Z.releasePointerCapture(F.pointerId),s(!1)},[o,n]),w=k.useCallback(F=>{if(!n)return;F.preventDefault(),F.stopPropagation();const Z=r.current;if(!Z)return;const D=F.touches[0];if(!D)return;g(D.identifier);const C=Z.getBoundingClientRect(),P=D.clientX-C.left,N=D.clientY-C.top;c({x:P,y:N}),_({x:D.clientX,y:D.clientY}),s(!0)},[n]),$=k.useCallback(F=>{if(!o||!n||y===null)return;F.preventDefault(),F.stopPropagation();const Z=r.current;if(!Z)return;const D=Array.from(F.touches).find(B=>B.identifier===y);if(!D)return;const C=Z.closest("[data-canvas-content]");if(!C)return;const P=C.getBoundingClientRect(),N=(D.clientX-P.left-a.x)/t,L=(D.clientY-P.top-a.y)/t;m({x:N,y:L})},[o,a,t,n,y]),I=k.useCallback(F=>{!o||!n||y===null||!Array.from(F.changedTouches).some(D=>D.identifier===y)||(F.preventDefault(),F.stopPropagation(),s(!1),g(null),_({x:0,y:0}))},[o,n,y]),te=k.useCallback(F=>{!o||!n||y===null||!Array.from(F.changedTouches).some(D=>D.identifier===y)||(F.preventDefault(),F.stopPropagation(),m(e.position),s(!1),g(null),_({x:0,y:0}))},[o,n,y,e.position]),S=F=>{switch(F){case"調劑台":return"bg-orange-50 border-orange-400";case"藥庫":return"bg-indigo-50 border-indigo-400";default:return"bg-gray-50 border-gray-400"}},Q=F=>{switch(F){case"調劑台":return"bg-orange-200 text-gray-900";case"藥庫":return"bg-indigo-200 text-gray-900";default:return"bg-gray-100 text-gray-800"}},oe=F=>{switch(F){case"調劑台":return"bg-orange-600 text-white";case"藥庫":return"bg-indigo-600 text-white";default:return"bg-gray-600 text-white"}},ae=F=>{const Z=F==="調劑台"?"type.dispensingStation":F==="藥庫"?"type.warehouse":"type."+F;return l(Z)||F},Ne=F=>{var Z;if(F==="調劑台"||F==="藥庫")return i.jsxs("div",{className:"flex-1 flex items-center justify-center p-1 space-x-2",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-800",children:((Z=e.components)==null?void 0:Z.length)||0}),i.jsx("div",{className:"text-sm text-gray-600",children:l("type.containers")})]});switch(F){case"med_box_shelf":return i.jsx("div",{className:"h-full bg-blue-100 grid grid-cols-6 gap-4 p-3 items-center",children:Array.from({length:6},(D,C)=>i.jsx("div",{className:"w-full h-full bg-blue-200 border border-blue-400 rounded shadow-sm"},C))});case"normal_shelf":return i.jsx("div",{className:"h-full bg-green-100 flex items-center justify-center p-3",children:i.jsx("div",{className:"text-sm text-gray-600 text-center",children:l("status.noContent")})});case"grid_draw":return i.jsx("div",{className:"h-full bg-purple-100 grid grid-cols-4 gap-2 p-3",children:Array.from({length:16},(D,C)=>i.jsx("div",{className:"w-full h-6 bg-purple-200 border border-purple-400 rounded"},C))});case"list_draw":return i.jsx("div",{className:"h-full bg-purple-100 flex flex-col gap-2 p-3",children:Array.from({length:4},(D,C)=>i.jsx("div",{className:"w-full h-8 bg-purple-200 border border-purple-400 rounded flex items-center px-2",children:i.jsxs("div",{className:"text-xs text-gray-600",children:["Item ",C+1]})},C))});default:return i.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:l("status.noContent")})}};return i.jsxs("div",{ref:r,className:`flex flex-col absolute border-2 rounded-lg shadow-lg hover:shadow-xl ${S(d)} overflow-hidden ${n?"cursor-move":"cursor-default"} ${o?"shadow-2xl scale-105 z-50":""}`,style:{left:u.x,top:u.y,width:V.width,height:V.height,minWidth:d==="調劑台"||d==="藥庫"?"120px":"180px",minHeight:d==="調劑台"||d==="藥庫"?"60px":"120px",userSelect:"none",touchAction:"none",transition:o?"none":"transform 0.2s ease-out, box-shadow 0.2s ease-out"},onPointerDown:h,onPointerMove:v,onPointerUp:E,onTouchStart:w,onTouchMove:$,onTouchEnd:I,onTouchCancel:te,children:[i.jsxs("div",{className:`w-full h-auto flex items-center justify-between p-2 border-b border-gray-200 ${Q(d)}`,children:[i.jsx("div",{className:"flex space-x-2 flex-1 min-w-0",children:i.jsxs("div",{className:"min-w-0 flex gap-4",children:[i.jsx("div",{className:"font-semibold text-lg truncate",children:f}),i.jsx("div",{className:`text-sm truncate py-1 px-3 rounded-2xl ${oe(d)}`,children:ae(d)})]})}),i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors flex-shrink-0",onClick:F=>{F.stopPropagation()},title:"Settings",children:i.jsx(Et,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"flex-1 flex bg-white",children:Ne(d)})]})},Yp=({children:e})=>{const t=k.useRef(null),{selectedDepartmentType:n,apiDepartmentData:r}=xt(),{t:l}=st(),[o,s]=k.useState({x:0,y:0,scale:1}),[a,c]=k.useState(!1),[u,m]=k.useState(!1),[y,g]=k.useState({x:0,y:0}),[M,_]=k.useState(!1),x=()=>{try{const D=localStorage.getItem("med_map_anchor");return D?JSON.parse(D):[]}catch(D){return console.error("Error reading canvas states from localStorage:",D),[]}},V=(D,C,P,N)=>{try{const L=x(),B=L.findIndex(G=>G.department===D&&G.canvasType===C),K={department:D,canvasType:C,scale:P,position:N};B>=0?L[B]=K:L.push(K),localStorage.setItem("med_map_anchor",JSON.stringify(L))}catch(L){console.error("Error saving canvas state to localStorage:",L)}},f=(D,C)=>x().find(N=>N.department===D&&N.canvasType===C)||null;k.useEffect(()=>{if(n){const D=f(n,"InfiniteCanvas");if(D)s({x:D.position.x,y:D.position.y,scale:D.scale});else{const C={x:0,y:0,scale:1};s(C),V(n,"InfiniteCanvas",C.scale,C)}}},[n]),k.useEffect(()=>{if(!n)return;const D=setTimeout(()=>{V(n,"InfiniteCanvas",o.scale,{x:o.x,y:o.y})},500);return()=>clearTimeout(D)},[o,n]),k.useEffect(()=>{const D=P=>{P.code==="Space"&&!P.repeat&&(P.preventDefault(),_(!0))},C=P=>{P.code==="Space"&&(P.preventDefault(),_(!1),c(!1))};return window.addEventListener("keydown",D),window.addEventListener("keyup",C),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",C)}},[]);const d=k.useCallback(D=>{var P;if(u)return;if(D.altKey&&!navigator.userAgent.includes("Mac")||D.metaKey&&navigator.userAgent.includes("Mac")){D.preventDefault();const N=(P=t.current)==null?void 0:P.getBoundingClientRect();if(!N)return;const L=D.clientX-N.left,B=D.clientY-N.top,K=D.deltaY>0?.9:1.1,G=Math.max(.1,Math.min(5,o.scale*K)),le=G/o.scale,Y=L-(L-o.x)*le,z=B-(B-o.y)*le;s({x:Y,y:z,scale:G})}},[o,u]),h=k.useCallback(D=>{u||!M||(c(!0),g({x:D.clientX,y:D.clientY}),D.preventDefault())},[u,M]),v=k.useCallback(D=>{if(!a||u)return;const C=D.clientX-y.x,P=D.clientY-y.y;s(N=>({...N,x:N.x+C,y:N.y+P})),g({x:D.clientX,y:D.clientY})},[a,y,u]),E=k.useCallback(()=>{c(!1)},[]),[w,$]=k.useState(null),[I,te]=k.useState({x:0,y:0}),S=D=>{if(D.length<2)return null;const C=D[0],P=D[1];return Math.sqrt(Math.pow(P.clientX-C.clientX,2)+Math.pow(P.clientY-C.clientY,2))},Q=D=>{if(D.length===1)return{x:D[0].clientX,y:D[0].clientY};const C=D[0],P=D[1];return{x:(C.clientX+P.clientX)/2,y:(C.clientY+P.clientY)/2}},oe=k.useCallback(D=>{if(!u){if(D.touches.length===2){const C=S(D.touches),P=Q(D.touches);$(C),te(P)}else if(D.touches.length===1){const C=D.touches[0];g({x:C.clientX,y:C.clientY}),c(!0)}}},[u]),ae=k.useCallback(D=>{var C;if(!u){if(D.preventDefault(),D.touches.length===2&&w!==null){const P=S(D.touches),N=Q(D.touches);if(P&&w){const L=(C=t.current)==null?void 0:C.getBoundingClientRect();if(!L)return;const B=P/w,K=Math.max(.1,Math.min(5,o.scale*B)),G=N.x-L.left,le=N.y-L.top,Y=K/o.scale,z=G-(G-o.x)*Y,ne=le-(le-o.y)*Y;s({x:z,y:ne,scale:K}),$(P),te(N)}}else if(D.touches.length===1&&a){const P=D.touches[0],N=P.clientX-y.x,L=P.clientY-y.y;s(B=>({...B,x:B.x+N,y:B.y+L})),g({x:P.clientX,y:P.clientY})}}},[o,w,a,y,u]),Ne=k.useCallback(()=>{$(null),c(!1)},[]);k.useEffect(()=>{const D=t.current;if(D)return D.addEventListener("wheel",d,{passive:!1}),()=>D.removeEventListener("wheel",d)},[d]),k.useCallback(()=>{s({x:0,y:0,scale:1})},[]);const Z=(()=>{if(!r||r.length===0)return[];const D=r,C=[];for(const P of D)P.type==="調劑台"||P.type==="藥庫"?C.push({GUID:P.GUID,type:P.type,name:P.name,position:P.position,dimensions:P.dimensions,med_box:[],MASTER_GUID:P.GUID,components:P.components||[]}):P.components&&P.components.length>0&&C.push(...P.components);return C})();return i.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-50",children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex gap-2",children:i.jsx("button",{onClick:()=>m(!u),className:`p-3 rounded-lg shadow-lg transition-colors ${u?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,title:l(u?"canvas.unlockCanvas":"canvas.lockCanvas"),children:u?i.jsx(Gc,{className:"w-6 h-6"}):i.jsx(Yc,{className:"w-6 h-6"})})}),i.jsx("div",{ref:t,className:`w-full h-full relative ${M&&!u?"cursor-grab":"cursor-default"} ${a?"cursor-grabbing":""}`,onMouseDown:h,onMouseMove:v,onMouseUp:E,onMouseLeave:E,onTouchStart:oe,onTouchMove:ae,onTouchEnd:Ne,children:i.jsxs("div",{className:"absolute inset-0 origin-top-left",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${o.scale})`,transformOrigin:"0 0"},children:[i.jsx("div",{className:"absolute",style:{left:-1e4,top:-1e4,width:2e4,height:2e4,backgroundImage:`
                linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
              `,backgroundSize:"50px 50px"}}),i.jsxs("div",{className:"relative","data-canvas-content":!0,children:[Z.map(D=>i.jsx(Gp,{component:D,scale:o.scale,isLocked:u},D.GUID)),e]})]})})]})},nl=({content:e})=>{const{openMedBoxModal:t,openAddMedBoxModal:n,openListDrawModal:r,openGridDrawModal:l}=xt(),{t:o}=st(),s=m=>{switch(m){case"parent_container":return"bg-orange-100";case"sub_container":return"bg-blue-100";case"dispensing_shelves":case"store_shelves":return"bg-green-100";case"med_box":return"bg-yellow-100";case"grid_draw":case"list_draw":return"bg-violet-100";default:return"bg-gray-100"}},a=m=>{switch(m){case"parent_container":return"border-orange-200";case"sub_container":return"border-blue-200";case"dispensing_shelves":case"store_shelves":return"border-green-200";case"med_box":return"border-yellow-200";case"grid_draw":case"list_draw":return"border-violet-200";default:return"border-gray-200"}},c=m=>{switch(m){case"parent_container":return"bg-orange-400";case"sub_container":return"bg-blue-400";case"dispensing_shelves":case"store_shelves":return"bg-green-400";case"med_box":return"bg-yellow-400";case"grid_draw":case"list_draw":return"bg-violet-400";default:return"bg-gray-200"}},u=m=>{switch(m){case"parent_container":return"";case"sub_container":return"";case"dispensing_shelves":return o("type.medBoxShelf");case"grid_draw":return o("type.gridDraw");case"list_draw":return o("type.listDraw");case"med_box":return o("type.medBox");default:return m}};switch(e.type){case"sub_container":case"parent_container":return null;case"med_box":return i.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${s(e.type||0)} ${a(e.type||0)}`,children:[i.jsx("div",{className:"flex items-center mr-4",children:e.type!="parent_container"?i.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${c(e.type)}`,children:u(e.type)}):null}),i.jsx("div",{className:"flex items-center space-x-1",children:i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:m=>{m.stopPropagation(),t(e)},title:o("modal.settings"),children:i.jsx(Et,{className:"w-6 h-6 text-gray-600"})})})]});case"dispensing_shelves":return i.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${s(e.type||0)} ${a(e.type||0)}`,children:[i.jsx("div",{className:"flex items-center mr-4 space-x-3",children:e.type!="parent_container"?i.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${c(e.type)}`,children:u(e.type)}):null}),i.jsx("div",{className:"flex items-center space-x-1",children:i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:m=>{m.stopPropagation(),n()},title:o("modal.add"),children:i.jsx(no,{className:"w-6 h-6 text-green-700"})})})]});case"list_draw":return i.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${s(e.type||0)} ${a(e.type||0)}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[i.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?i.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${c(e.type)}`,children:u(e.type)}):null]}),i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:m=>{m.stopPropagation(),r(e)},title:o("modal.settings"),children:i.jsx(Et,{className:"w-6 h-6 text-gray-600"})})]});case"grid_draw":return i.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${s(e.type||0)} ${a(e.type||0)}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[i.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?i.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${c(e.type)}`,children:u(e.type)}):null]}),i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:m=>{m.stopPropagation(),l(e)},title:o("modal.settings"),children:i.jsx(Et,{className:"w-6 h-6 text-gray-600"})})]});default:return i.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${s(e.type||0)} ${a(e.type||0)}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[i.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?i.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${c(e.type)}`,children:u(e.type)}):null]}),e.type!=="none"&&i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:o("modal.settings"),children:i.jsx(Et,{className:"w-6 h-6 text-gray-600"})})]})}},Xp=({children:e})=>{const t=k.useRef(null),{selectedDepartmentType:n,apiDepartmentData:r,refreshTrigger:l}=xt(),[o,s]=k.useState({x:0,y:0,scale:1}),[a,c]=k.useState(!1),[u,m]=k.useState(!1),[y,g]=k.useState({x:0,y:0}),[M,_]=k.useState(!1),[x,V]=k.useState({isDragging:!1,draggedContainer:null,draggedElement:null,floatingElement:null,originalParent:null,originalPosition:"",originalIndex:-1,mouseOffset:{x:0,y:0},isMobileDrag:!1,originalData:null}),[f,d]=k.useState(null),h=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,v=8,E=()=>{try{const p=localStorage.getItem("med_map_anchor");return p?JSON.parse(p):[]}catch(p){return console.error("Error reading canvas states from localStorage:",p),[]}},w=(p,A,R,j)=>{try{const U=E(),O=U.findIndex(J=>J.department===p&&J.canvasType===A),X={department:p,canvasType:A,scale:R,position:j};O>=0?U[O]=X:U.push(X),localStorage.setItem("med_map_anchor",JSON.stringify(U))}catch(U){console.error("Error saving canvas state to localStorage:",U)}},$=(p,A)=>E().find(j=>j.department===p&&j.canvasType===A)||null;k.useEffect(()=>{if(n){const p=$(n,"drugCanvas");if(p)s({x:p.position.x,y:p.position.y,scale:p.scale});else{const A={x:0,y:0,scale:1};s(A),w(n,"drugCanvas",A.scale,A)}}},[n]),k.useEffect(()=>{if(!n)return;const p=setTimeout(()=>{w(n,"drugCanvas",o.scale,{x:o.x,y:o.y})},500);return()=>clearTimeout(p)},[o,n]);const I=p=>["dispensing_shelves","store_shelves","grid_draw","list_draw","med_box"].includes(p),te=p=>({dispensing_shelves:["dispensing_shelves","store_shelves","grid_draw","list_draw","sub_container"],store_shelves:["dispensing_shelves","store_shelves","grid_draw","list_draw","sub_container"],grid_draw:["dispensing_shelves","store_shelves","grid_draw","list_draw","sub_container"],list_draw:["dispensing_shelves","store_shelves","grid_draw","list_draw","sub_container"],med_box:["med_box","dispensing_shelves"]})[p]||[],S=p=>{const[A,R]=p.split(",").map(Number);return{row:A||0,col:R||0}},Q=(p,A)=>`${p},${A}`,oe=(p,A)=>{const R=(U,O=null)=>{if(U.GUID===p)return{container:U,parent:O};if(U.contents)for(const X of U.contents){const J=R(X,U);if(J)return J}return null},j=fe();for(const U of j){const O=R(U);if(O)return O}return null},ae=(p,A)=>{if(!p.contents)return;const{sortedContents:R,maxRow:j,maxCol:U}=_e(p.contents),O=A;if(!O)return;const X=S(O.gird_position);console.log(j),console.log(U),console.log(O),console.log(X);for(let J=0;J<R.length;J++){const W=R[J],b=S(W.gird_position);if(b.row===X.row&&b.col>X.col)W.gird_position=Q(b.row,b.col-1);else if(b.row>X.row){const ee=b.col===0?U:b.col-1,q=b.col===0?b.row-1:b.row;W.gird_position=Q(q,ee)}}return console.log("移除更新其餘容器",R),R},Ne=(p,A,R,j,U)=>{p.contents||(p.contents=[]);let O=Math.max(1,...p.contents.map(W=>S(W.gird_position||"0,0").col+1)),X=Math.max(1,...p.contents.map(W=>S(W.gird_position||"0,0").row+1));console.log("--------",p),console.log("目標容器最大列",O),console.log("目標容器最大行",X),p.type=="sub_container"&&(O=+p.oriMaxCol+1),U!=null&&U==="right"&&A.type!=="med_box"&&j==O&&(R=R+1,p.contents.filter(b=>`${R},0`==b.gird_position).length>0?j=O-1:j=0),console.log(R),console.log(j);const J=p.contents.filter(W=>{const b=S(W.gird_position||"0,0");return b.row>R||b.row===R&&b.col>=j});J.sort((W,b)=>{const ee=S(W.gird_position||"0,0"),q=S(b.gird_position||"0,0");return ee.row!==q.row?q.row-ee.row:q.col-ee.col}),console.log("會做變更的目標容器",J),J.forEach(W=>{const b=S(W.gird_position||"0,0");let ee=b.row,q=b.col;W.type==="med_box"||q<O-1?q+=1:(ee+=1,q=0),W.gird_position=`${ee},${q}`,console.log(`Shifted container ${W.GUID} from ${b.row},${b.col} to ${ee},${q}`)}),A.gird_position=`${R},${j}`,A.MASTER_GUID=p.GUID,console.log(`Inserted container ${A.GUID} at position ${R},${j}`),p.contents.push(A)},F=(p,A,R)=>{const j=p.getBoundingClientRect(),U=j.left+j.width/2,O=j.top+j.height/2,X=A-U,J=R-O;return Math.abs(X)>Math.abs(J)?X>0?"right":"left":J>0?"bottom":"top"},Z=(p,A,R)=>{if(!u||!I(p.type))return;R.preventDefault(),R.stopPropagation();const j=h(),U="touches"in R?R.touches[0].clientX:("pointerId"in R,R.clientX),O="touches"in R?R.touches[0].clientY:("pointerId"in R,R.clientY),X=A.getBoundingClientRect(),J={x:U-X.left,y:O-X.top},W=oe(p.GUID);if(!W)return;console.log("拖曳目標",p),console.log("拖曳目標",W);const b=A.cloneNode(!0);if(b.style.position="fixed",b.style.left=`${U-J.x}px`,b.style.top=`${O-J.y}px`,b.style.width=`${X.width}px`,b.style.height=`${X.height}px`,b.style.zIndex="9999",b.style.opacity="0.8",b.style.boxShadow="0 10px 25px rgba(0,0,0,0.3)",b.style.pointerEvents="none",document.body.appendChild(b),j){const ee=W.parent.contents.findIndex(q=>q.GUID===p.GUID);V({isDragging:!0,draggedContainer:p,draggedElement:A,floatingElement:b,originalParent:W.parent,originalPosition:p.gird_position,originalIndex:ee,mouseOffset:J,isMobileDrag:!0,originalData:JSON.parse(JSON.stringify(W))})}else{const ee=W.parent.contents.findIndex(Re=>Re.GUID===p.GUID);W.parent.contents.splice(ee,1),console.log(ee);const q=W.parent,pe=ae(W.parent,p);W.parent.contents=pe,console.log(W.parent),V({isDragging:!0,draggedContainer:p,draggedElement:A,floatingElement:b,originalParent:q,originalPosition:p.gird_position,originalIndex:ee,mouseOffset:J,isMobileDrag:!1,originalData:null})}},D=p=>{if(!x.isDragging||!x.floatingElement)return;const A="touches"in p?p.touches[0].clientX:p.clientX,R="touches"in p?p.touches[0].clientY:p.clientY;x.floatingElement.style.left=`${A-x.mouseOffset.x}px`,x.floatingElement.style.top=`${R-x.mouseOffset.y}px`;const j=document.elementFromPoint(A,R),U=j==null?void 0:j.closest("[data-container-guid]");if(U){const O=U.getAttribute("data-container-guid"),X=oe(O);if(X&&te(x.draggedContainer.type).includes(X.container.type)){const W=F(U,A,R);if(x.draggedContainer.type==="med_box"&&!["left","right"].includes(W)){d(null);return}d({container:X.container,direction:W,element:U});return}}d(null)},C=p=>{if(!x.isDragging)return;x.floatingElement&&document.body.removeChild(x.floatingElement);let A=null,R=null,j=null;if(console.log("Drop Target:",f),console.log("Is Mobile Drag:",x.isMobileDrag),x.isMobileDrag)if(f){A=f.direction,j=f.container;const U=oe(x.draggedContainer.GUID);if(U){const ee=U.parent.contents.findIndex(pe=>pe.GUID===x.draggedContainer.GUID);U.parent.contents.splice(ee,1);const q=ae(U.parent,x.draggedContainer);U.parent.contents=q}const O=S(f.container.gird_position||"0,0");let X=O.row,J=O.col;switch(f.direction){case"top":X=Math.max(0,O.row);break;case"bottom":X=O.row+1;break;case"left":J=Math.max(0,O.col);break;case"right":J=O.col+1;break}const W=oe(f.container.MASTER_GUID||f.container.GUID);let b=(W==null?void 0:W.container)||f.container;if(x.draggedContainer.type==="med_box"&&f.container.type!=="med_box")if(console.log("藥盒移動目標到層架上"),b=f.container,b.contents.length>0){let ee=0,q=0;b.contents.forEach(pe=>{const Re=S(pe.gird_position||"0,0").row,Qn=S(pe.gird_position||"0,0").col;ee>Re&&(ee=Re),q>Qn&&(q=Qn)});for(let pe=0;pe<=q;pe++)for(let Re=0;Re<=ee;Re++){const Qn=`${pe},${Re}`;b.contents.filter(Qc=>Qc.grid_position===Qn).length===0&&(X=pe,J=Re)}}else X=0,J=0;R=b,Ne(b,x.draggedContainer,X,J,f.direction)}else A=null,j=null,R=x.originalParent;else if(f){A=f.direction,j=f.container;const U=S(f.container.gird_position||"0,0");let O=U.row,X=U.col;switch(f.direction){case"top":O=Math.max(0,U.row);break;case"bottom":O=U.row+1;break;case"left":X=Math.max(0,U.col);break;case"right":X=U.col+1;break}const J=oe(f.container.MASTER_GUID||f.container.GUID);let W=(J==null?void 0:J.container)||f.container;if(x.draggedContainer.type==="med_box"&&f.container.type!=="med_box")if(console.log("藥盒移動目標到層架上"),W=f.container,W.contents.length>0){let b=0,ee=0;W.contents.forEach(q=>{const pe=S(q.gird_position||"0,0").row,Re=S(q.gird_position||"0,0").col;b>pe&&(b=pe),ee>Re&&(ee=Re)});for(let q=0;q<=ee;q++)for(let pe=0;pe<=b;pe++){const Re=`${q},${pe}`;W.contents.filter(vi=>vi.grid_position===Re).length===0&&(O=q,X=pe)}}else O=0,X=0;R=W,Ne(W,x.draggedContainer,O,X,f.direction)}else{A=null,j=null,R=x.originalParent,x.draggedContainer.gird_position=x.originalPosition;const U=S(x.originalPosition||"0,0").row,O=S(x.originalPosition||"0,0").col;Ne(x.originalParent,x.draggedContainer,U,O,null)}V({isDragging:!1,draggedContainer:null,draggedElement:null,floatingElement:null,originalParent:null,originalPosition:"",originalIndex:-1,mouseOffset:{x:0,y:0},isMobileDrag:!1,originalData:null}),d(null),console.log("Drop Direction:",A),console.log("Parent Object:",R),console.log("Target Object:",j)};k.useEffect(()=>{if(x.isDragging)if(h()){const A=U=>{U.preventDefault(),D(U)},R=U=>C(),j=U=>C();return document.addEventListener("pointermove",A,{passive:!1}),document.addEventListener("pointerup",R),document.addEventListener("pointercancel",j),()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",R),document.removeEventListener("pointercancel",j)}}else{const A=O=>D(O),R=O=>C(),j=O=>{O.preventDefault(),D(O)},U=O=>C();return document.addEventListener("mousemove",A),document.addEventListener("mouseup",R),document.addEventListener("touchmove",j,{passive:!1}),document.addEventListener("touchend",U),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",R),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",U)}}},[x.isDragging,f]),k.useEffect(()=>{const p=R=>{R.code==="Space"&&!R.repeat&&(R.preventDefault(),_(!0))},A=R=>{R.code==="Space"&&(R.preventDefault(),_(!1),c(!1))};return window.addEventListener("keydown",p),window.addEventListener("keyup",A),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",A)}},[]);const P=k.useCallback(p=>{var R;if(u)return;if(p.altKey&&!navigator.userAgent.includes("Mac")||p.metaKey&&navigator.userAgent.includes("Mac")){p.preventDefault();const j=(R=t.current)==null?void 0:R.getBoundingClientRect();if(!j)return;const U=p.clientX-j.left,O=p.clientY-j.top,X=p.deltaY>0?.9:1.1,J=Math.max(.1,Math.min(5,o.scale*X)),W=J/o.scale,b=U-(U-o.x)*W,ee=O-(O-o.y)*W;s({x:b,y:ee,scale:J})}},[o,u]),N=k.useCallback(p=>{u||!M||(c(!0),g({x:p.clientX,y:p.clientY}),p.preventDefault())},[u,M]),L=k.useCallback(p=>{if(!a||u)return;const A=p.clientX-y.x,R=p.clientY-y.y;s(j=>({...j,x:j.x+A,y:j.y+R})),g({x:p.clientX,y:p.clientY})},[a,y,u]),B=k.useCallback(()=>{c(!1)},[]),[K,G]=k.useState(null),[le,Y]=k.useState({x:0,y:0}),z=p=>{if(p.length<2)return null;const A=p[0],R=p[1];return Math.sqrt(Math.pow(R.clientX-A.clientX,2)+Math.pow(R.clientY-A.clientY,2))},ne=p=>{if(p.length===1)return{x:p[0].clientX,y:p[0].clientY};const A=p[0],R=p[1];return{x:(A.clientX+R.clientX)/2,y:(A.clientY+R.clientY)/2}},Ce=k.useCallback(p=>{if(!u){if(p.touches.length===2){const A=z(p.touches),R=ne(p.touches);G(A),Y(R)}else if(p.touches.length===1){const A=p.touches[0];g({x:A.clientX,y:A.clientY}),c(!0)}}},[u]),ue=k.useCallback(p=>{var A;if(!u){if(p.preventDefault(),p.touches.length===2&&K!==null){const R=z(p.touches),j=ne(p.touches);if(R&&K){const U=(A=t.current)==null?void 0:A.getBoundingClientRect();if(!U)return;const O=R/K,X=Math.max(.1,Math.min(5,o.scale*O)),J=j.x-U.left,W=j.y-U.top,b=X/o.scale,ee=J-(J-o.x)*b,q=W-(W-o.y)*b;s({x:ee,y:q,scale:X}),G(R),Y(j)}}else if(p.touches.length===1&&a){const R=p.touches[0],j=R.clientX-y.x,U=R.clientY-y.y;s(O=>({...O,x:O.x+j,y:O.y+U})),g({x:R.clientX,y:R.clientY})}}},[o,K,a,y,u]),ie=k.useCallback(()=>{G(null),c(!1)},[]);k.useEffect(()=>{const p=t.current;if(p)return p.addEventListener("wheel",P,{passive:!1}),()=>p.removeEventListener("wheel",P)},[P]);const fe=()=>!r||r.length===0?[]:r,_e=p=>{if(!p||p.length===0)return{sortedContents:[],maxRow:0,maxCol:0};const A=p.map(O=>({...O,gridPos:S(O.gird_position||"0,0")})),R=Math.max(...A.map(O=>O.gridPos.row),0),j=Math.max(...A.map(O=>O.gridPos.col),0);return{sortedContents:A.sort((O,X)=>O.gridPos.row!==X.gridPos.row?O.gridPos.row-X.gridPos.row:O.gridPos.col-X.gridPos.col),maxRow:R,maxCol:j}},wt=fe(),St=Math.max(...wt.map(p=>S(p.gird_position||"0,0").row),0),Nt=Math.max(...wt.map(p=>S(p.gird_position||"0,0").col),0),rn=p=>{const A=j=>{if(j.width&&Array.isArray(j.width)&&typeof j.width_index=="number"&&j.width_index>=0&&j.width_index<j.width.length){const O=parseFloat(j.width[j.width_index]);if(!isNaN(O)){const X=O*20;return Math.max(168,X)}}return 168},R=j=>{switch(j){case"parent_container":return"bg-orange-50 border-orange-300";case"sub_container":return"bg-transparent border-blue-300";case"dispensing_shelves":case"store_shelves":return"bg-green-50 border-green-300";case"med_box":return"bg-yellow-50 border-yellow-300";case"grid_draw":case"list_draw":return"bg-violet-50 border-violet-300";default:return"bg-gray-50 border-gray-300"}};switch(p.type){case"med_box":return A(p),i.jsxs("div",{"data-container-guid":p.GUID,className:`${p.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${R(p.type||0)} min-h-[80px] flex flex-col flex-shrink-0 h-full overflow-hidden`,children:[i.jsx("div",{onMouseDown:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onTouchStart:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onPointerDown:u&&I(p.type)&&h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,className:u&&I(p.type)?"cursor-move":"",children:i.jsx(nl,{content:p})}),i.jsx("div",{className:"flex-1 p-1 ",children:It(p)})]},p.GUID);case"sub_container":case"parent_container":return i.jsxs("div",{"data-container-guid":p.GUID,className:`${R(p.type||0)} min-h-[80px] flex flex-col h-full`,children:[i.jsx("div",{onMouseDown:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onTouchStart:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onPointerDown:u&&I(p.type)&&h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,className:u&&I(p.type)?"cursor-move":"",children:i.jsx(nl,{content:p})}),i.jsx("div",{className:"flex-1",children:It(p)})]},p.GUID);case"grid_draw":return i.jsxs("div",{"data-container-guid":p.GUID,className:`${p.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${R(p.type||0)} min-h-[80px] flex flex-col h-full overflow-hidden`,children:[i.jsx("div",{onMouseDown:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onTouchStart:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onPointerDown:u&&I(p.type)&&h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,className:u&&I(p.type)?"cursor-move":"",children:i.jsx(nl,{content:p})}),i.jsx("div",{className:"flex-1 p-1 flex items-center",children:It(p)})]},p.GUID);default:return i.jsxs("div",{"data-container-guid":p.GUID,className:`${p.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${R(p.type||0)} min-h-[80px] flex flex-col h-full overflow-hidden ${p.type=="none"?"opacity-0":""}`,children:[i.jsx("div",{onMouseDown:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onTouchStart:u&&I(p.type)&&!h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,onPointerDown:u&&I(p.type)&&h()?j=>Z(p,j.currentTarget.closest("[data-container-guid]"),j):void 0,className:u&&I(p.type)?"cursor-move":"",children:i.jsx(nl,{content:p})}),i.jsx("div",{className:"flex-1 p-1",children:It(p)})]},p.GUID)}},It=p=>{const A=(R,j,U)=>{const O=Array(j+1).fill(null).map(()=>Array(U+1).fill(!1)),X={};return R.forEach(J=>{const W=S(J.gird_position||"0,0");X[`${W.row},${W.col}`]=J,O[W.row][W.col]=!0}),i.jsx("table",{className:"w-full h-full",style:{borderCollapse:"none",borderSpacing:"0px"},children:i.jsx("tbody",{children:Array.from({length:j+1},(J,W)=>i.jsx("tr",{className:"h-full",style:{height:`${100/(j+1)}%`,minHeight:"80px"},children:Array.from({length:U+1},(b,ee)=>{const q=`${W},${ee}`,pe=X[q];return pe?i.jsxs("td",{className:"align-top bg-transparent",style:{width:`${100/(U+1)}%`,height:`${100/(j+1)}%`,minHeight:"80px",border:"none",position:"relative"},children:[rn(pe),(f==null?void 0:f.container.GUID)===pe.GUID&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:i.jsx("div",{className:`absolute bg-blue-400 opacity-50 ${f.direction==="top"?"top-0 left-0 right-0 h-1":f.direction==="bottom"?"bottom-0 left-0 right-0 h-1":f.direction==="left"?"left-0 top-0 bottom-0 w-1":"right-0 top-0 bottom-0 w-1"}`})})]},ee):i.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(U+1)}%`,height:`${100/(j+1)}%`,minHeight:"80px",border:"none"},children:i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"空位"})},ee)})},W))})})};switch(p.type){case"parent_container":case"sub_container":if(p.contents&&p.contents.length>0){const{sortedContents:b,maxRow:ee,maxCol:q}=_e(p.contents);return A(b,ee,q)}else return i.jsx("table",{className:"bg-transparent w-full h-full",style:{borderCollapse:"separate",borderSpacing:"0px"},children:i.jsx("tbody",{children:i.jsx("tr",{})})});case"dispensing_shelves":case"store_shelves":case"none":if(p.contents&&p.contents.length>0){const{sortedContents:b,maxRow:ee,maxCol:q}=_e(p.contents);return A(b,ee,q)}else return i.jsx("table",{className:"bg-transparent w-full h-full",style:{borderCollapse:"separate",borderSpacing:"0px"},children:i.jsx("tbody",{children:i.jsx("tr",{children:i.jsx("td",{className:"p-4 text-center text-gray-500 bg-transparent",children:i.jsx("div",{className:"text-base",children:"無內容"})})})})});case"grid_draw":const R=Math.max(...p.Boxes.flat().map(b=>+b.Row+ +b.Height-1)),j=Math.max(...p.Boxes.flat().map(b=>+b.Column+ +b.Width-1)),U=R+1,O=j+1,X=p.Boxes.flat(),J=Array(U).fill(null).map(()=>Array(O).fill(!1)),W={};return X.forEach(b=>{b.Slave||(W[`${b.Row},${b.Column}`]=b)}),X.forEach(b=>{if(!b.Slave&&(b.Width>1||b.Height>1))for(let ee=b.Row;ee<b.Row+b.Height;ee++)for(let q=b.Column;q<b.Column+b.Width;q++)(ee!==b.Row||q!==b.Column)&&(J[ee][q]=!0)}),i.jsxs("div",{className:"bg-violet-100 h-20 flex ml-2 mt-2 mb-6 rounded-xl border-2 border-violet-400 w-[140px] items-center justify-center",children:[i.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%] rounded-xl"}),i.jsx("div",{className:"h-[80%] border-2 border-violet-400 w-[82%] mx-1",children:i.jsx("div",{className:"flex items-center justify-center text-base text-violet-400 h-[100%]"})}),i.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%]"})]});case"list_draw":return i.jsxs("div",{className:"bg-violet-100 h-20 flex ml-2 mt-2 mb-6 rounded-xl border-2 border-violet-400 w-[140px] items-center justify-center",children:[i.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%] rounded-xl"}),i.jsx("div",{className:"h-[80%] border-2 border-violet-400 w-[82%] mx-1",children:i.jsx("div",{className:"flex items-center justify-center text-base text-violet-400 h-[100%]"})}),i.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%]"})]});case"med_box":return p.med_info&&p.med_info.length>0?i.jsxs("div",{className:"text-base text-center min-h-[40px] flex items-center justify-center flex-col",children:[i.jsx("div",{className:"w-full text-gray-700 font-semibold text-left px-1",children:p.name}),i.jsx("div",{className:"text-gray-700",children:p.med_info[0].code}),i.jsxs("div",{className:"text-gray-700 w-full flex justify-between px-1",children:[i.jsxs("div",{children:[p.box_type,"吋"]}),i.jsxs("div",{children:[p.width[p.width_index],"cm"]})]})]}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:i.jsx("div",{className:"text-base",children:"空藥盒"})});default:return p.contents&&p.contents.length>0?i.jsx("div",{className:"space-y-2",children:p.contents.map(b=>rn(b))}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:i.jsxs("div",{className:"text-base",children:["未知類型: ",p.type]})})}},Xc=p=>{if(S(p.gird_position||"0,0"),p.type!=="調劑台"&&p.type!=="藥庫")return null;const A=R=>{if(!R||R.length===0)return i.jsx("table",{className:"w-full h-full border-none",children:i.jsx("tbody",{children:i.jsx("tr",{children:i.jsx("td",{className:"p-4 text-center text-gray-500",children:i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"text-base",children:"內容將在此處顯示"})})})})})});const{sortedContents:j,maxRow:U,maxCol:O}=_e(R),X=Array(U+1).fill(null).map(()=>Array(O+1).fill(!1)),J={};return j.forEach(W=>{const b=S(W.gird_position||"0,0");J[`${b.row},${b.col}`]=W,X[b.row][b.col]=!0}),i.jsx("table",{className:"w-full h-full",style:{borderCollapse:"none",borderSpacing:"0px"},children:i.jsx("tbody",{children:Array.from({length:U+1},(W,b)=>i.jsx("tr",{className:"h-full",children:Array.from({length:O+1},(ee,q)=>{const pe=`${b},${q}`,Re=J[pe];return Re?i.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(O+1)}%`,height:`${100/(U+1)}%`,minHeight:"120px",border:"none"},children:rn(Re)},q):i.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(O+1)}%`,height:`${100/(U+1)}%`,minHeight:"120px",border:"1px dashed #e5e7eb"},children:i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"空位"})},q)})},b))})})};return i.jsxs("div",{"data-container-guid":p.GUID,className:"border-2 rounded-lg shadow-lg bg-orange-50 border-orange-300 min-h-[120px] flex flex-col overflow-hidden w-full h-full",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b-2 bg-orange-100 border-b-orange-200",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:"text-lg font-semibold text-gray-800",children:p.name})}),i.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:R=>{R.stopPropagation()},title:"編輯設定",children:i.jsx(Et,{className:"w-6 h-6 text-gray-600"})})]}),i.jsx("div",{className:`flex-1 bg-orange-50 ${(f==null?void 0:f.container.GUID)===p.GUID?"ring-2 ring-blue-400 ring-inset":""}`,children:A(p.contents||[])})]},p.GUID)};return i.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-50",children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex gap-2",children:i.jsx("button",{onClick:()=>m(!u),className:`rounded-lg shadow-lg p-2 transition-colors ${u?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,title:u?"Unlock Canvas":"Lock Canvas",children:u?i.jsx(Gc,{className:"w-6 h-6"}):i.jsx(Yc,{className:"w-6 h-6"})})}),i.jsx("div",{ref:t,className:`w-full h-full relative ${M&&!u?"cursor-grab":"cursor-default"} ${a?"cursor-grabbing":""}`,onMouseDown:N,onMouseMove:L,onMouseUp:B,onMouseLeave:B,onTouchStart:Ce,onTouchMove:ue,onTouchEnd:ie,children:i.jsxs("div",{className:"absolute inset-0 origin-top-left",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${o.scale})`,transformOrigin:"0 0"},children:[i.jsx("div",{className:"relative","data-canvas-content":!0,children:i.jsx("table",{className:"h-full",style:{borderCollapse:"separate",borderSpacing:`${v}px`,minWidth:"fit-content",minHeight:"fit-content"},children:i.jsx("tbody",{children:Array.from({length:St+1},(p,A)=>i.jsx("tr",{children:Array.from({length:Nt+1},(R,j)=>{const U=wt.find(O=>{const X=S(O.gird_position||"0,0");return X.row===A&&X.col===j});return U?i.jsx("td",{className:"align-top",style:{minWidth:"150px",minHeight:"120px",border:"none"},children:Xc(U)},j):i.jsx("td",{className:"align-top",style:{minWidth:"150px",minHeight:"120px",border:"none"},children:i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-base"})},j)})},A))})})}),e]},`canvas-content-${l}`)})]})},bt=[{name:"2.13吋",box_type:"2.13",width:["7.5"],unit:"cm"},{name:"2.9吋",type:"2.9",width:["10","15","20"],unit:"cm"},{name:"4.2吋",type:"4.2",width:["11","16"],unit:"cm"}],Qp=()=>{const{medBoxModalOpen:e,closeMedBoxModal:t,selectedMedBox:n,triggerRefresh:r,modalMode:l}=xt(),{t:o}=st(),[s,a]=k.useState(0),[c,u]=k.useState({}),[m,y]=k.useState(""),[g,M]=k.useState(""),[_,x]=k.useState("N"),[V,f]=k.useState([]),[d,h]=k.useState(!1);k.useEffect(()=>{if(n&&e)if(l==="add"){a(0);const S={};bt.forEach((Q,oe)=>{S[oe]=0}),u(S),y("")}else{const S=bt.findIndex(Q=>Q.box_type===n.box_type||Q.type===n.box_type);if(S>=0){a(S);const oe=bt[S].width.findIndex(Ne=>{var F;return Ne===((F=n.width)==null?void 0:F[n.width_index||0])}),ae={};bt.forEach((Ne,F)=>{F===S?ae[F]=oe>=0?oe:0:ae[F]=0}),u(ae)}else{a(0);const Q={};bt.forEach((oe,ae)=>{Q[ae]=0}),u(Q)}y(n.ip||"")}},[n,e,l]);const v=S=>{a(S)},E=(S,Q)=>{u(oe=>({...oe,[S]:Q}))},w=()=>{if(!n)return;const S=bt[s],Q=c[s]||0;if(l==="add"){const oe={...n,box_type:S.box_type||S.type||S.name,width:S.width,width_index:Q,ip:m,name:`新藥盒_${Date.now()}`};console.log("Adding new med box:",oe)}else n.box_type=S.box_type||S.type||S.name,n.width=S.width,n.width_index=Q,n.ip=m;r(),t()},$=()=>{t()},I=async()=>{h(!0);try{const S=await Vn.searchMedicine(g,_);f(S)}catch(S){console.error("Search failed:",S),f([])}finally{h(!1)}},te=S=>{n&&(n.med_info=[{id:S.GUID||`${Date.now()}_${Math.random()}`,name:S.NAME,cht_name:S.CHT_NAME,code:S.CODE}],r())};return!e||!n?null:i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:$}),i.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:S=>S.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Et,{className:"w-6 h-6 text-gray-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:o(l==="add"?"modal.addMedBox":"modal.medBoxSettings")})]}),i.jsx("button",{onClick:$,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Al,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"gap-16 flex",children:[i.jsxs("div",{className:"space-y-1 min-w-[260px]",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.medBoxName")}),i.jsx("input",{type:"text",value:(n==null?void 0:n.name)||"",onChange:S=>y(S.target.value),placeholder:(n==null?void 0:n.name)||(n==null?void 0:n.ip)||o("placeholder.medBoxName"),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors w-64"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.ipAddress")}),i.jsx("div",{className:"flex items-center",children:i.jsx("input",{type:"text",onChange:S=>y(S.target.value),placeholder:(n==null?void 0:n.ip)||(n==null?void 0:n.name)||o("placeholder.ipAddress"),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors w-64"})})]})]}),i.jsxs("div",{className:"flex gap-16",children:[i.jsxs("div",{className:"space-y-1 min-w-[260px]",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.medBoxType")}),i.jsx("div",{className:"flex gap-4 justify-between",children:bt.map((S,Q)=>i.jsxs("label",{className:`flex items-center px-4 py-2 border-2 rounded-lg cursor-pointer transition-all ${s===Q?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("input",{type:"radio",name:"boxType",value:Q,checked:s===Q,onChange:()=>v(Q),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 hidden"}),i.jsx("div",{children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})})]},Q))})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.widthSelection")}),bt.map((S,Q)=>i.jsx("div",{className:`flex gap-4 ${s===Q?"block":"hidden"}`,children:S.width.map((oe,ae)=>i.jsxs("label",{className:`flex items-center justify-center px-4 py-2 border-2 rounded-lg cursor-pointer transition-all ${s===Q&&(c[Q]||0)===ae?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("input",{type:"radio",name:`width-${Q}`,value:ae,checked:s===Q&&(c[Q]||0)===ae,onChange:()=>E(Q,ae),className:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500 hidden"}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[oe," ",S.unit]})})]},`${Q}-${ae}`))},Q))]})]}),i.jsxs("div",{className:"flex gap-6",children:[l==="edit"&&i.jsxs("div",{className:"space-y-2 w-[50%]",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o("form.drugInfo")}),i.jsx("div",{children:n!=null&&n.med_info&&n.med_info.length>0?i.jsx("div",{children:n.med_info.map((S,Q)=>i.jsxs("div",{className:"space-y-2 p-4 border border-gray-200 rounded-lg min-h-[262px] max-h-[262px]",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[o("form.drugCode"),":"]}),i.jsx("div",{className:"text-base text-gray-900 mt-1",children:S.code||o("status.notSet")})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[o("form.drugName"),":"]}),i.jsx("div",{className:"text-base text-gray-900 mt-1",children:S.name||o("status.notSet")})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[o("form.chineseName"),":"]}),i.jsx("div",{className:"text-base text-gray-900 mt-1",children:S.cht_name||o("status.notSet")})]})]},Q))}):i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-8 px-4 text-center space-y-4",children:i.jsx("div",{className:"text-gray-500 text-base",children:o("status.noDrugData")})})})]}),l==="add"&&i.jsxs("div",{className:"space-y-2 w-[50%]",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.drugInfo")}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-2 px-4 min-h-[262px] max-h-[262px]",children:i.jsx("div",{className:"text-center py-8 space-y-4",children:i.jsx("div",{className:"text-gray-500 text-base",children:o("status.newMedBoxNoDrug")})})})]}),i.jsxs("div",{className:"space-y-2 w-[50%]",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o("form.drugSearch")}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("input",{type:"text",value:g,onChange:S=>M(S.target.value),placeholder:o("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),i.jsxs("select",{value:_,onChange:S=>x(S.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"管制級別",children:[i.jsx("option",{value:"N",children:"N"}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"})]}),i.jsxs("button",{onClick:I,disabled:d,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[d&&i.jsx(qt,{className:"w-4 h-4 animate-spin"}),o("button.search")]})]}),i.jsx("div",{className:"bg-white border rounded p-3 min-h-[220px] max-h-[220px] overflow-y-auto",children:d?i.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[i.jsx(qt,{className:"w-5 h-5 animate-spin mr-2"}),o("status.searching")]}):V.length>0?i.jsx("div",{className:"space-y-1",children:V.map((S,Q)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:S.NAME}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:S.CHT_NAME}),i.jsx("div",{className:"text-xs text-gray-400 font-mono",children:S.CODE})]}),i.jsx("button",{onClick:()=>te(S),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:o("button.add"),children:i.jsx(no,{className:"w-4 h-4"})})]},S.GUID||Q))}):i.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:o(g||_!=="N"?"status.noSearchResults":"status.searchResults")})})]})]})]})}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 py-2 px-4 border-t border-gray-200",children:[i.jsx("button",{onClick:$,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:o("button.cancel")}),i.jsx("button",{onClick:w,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:o(l==="add"?"button.add":"button.save")})]})]})]})},Kp=()=>{const{listDrawModalOpen:e,closeListDrawModal:t,selectedListDraw:n,triggerRefresh:r}=xt(),{t:l}=st(),[o,s]=k.useState(""),[a,c]=k.useState([]),[u,m]=k.useState(""),[y,g]=k.useState("N"),[M,_]=k.useState([]),[x,V]=k.useState(!1);k.useEffect(()=>{n&&e&&(s(n.name||""),c(n.med_info||[]))},[n,e]);const f=w=>{c($=>$.filter(I=>I.code!==w))},d=async()=>{V(!0);try{const w=await Vn.searchMedicine(u,y);_(w)}catch(w){console.error("Search failed:",w),_([])}finally{V(!1)}},h=w=>{const $={id:w.GUID||`${Date.now()}_${Math.random()}`,name:w.NAME,cht_name:w.CHT_NAME,code:w.CODE};c(I=>I.some(S=>S.code===$.code)?I:[...I,$])},v=()=>{n&&(n.name=o,n.med_info=a,r(),t())},E=()=>{t()};return!e||!n?null:i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:E}),i.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:w=>w.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Et,{className:"w-6 h-6 text-gray-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l("modal.listDrawSettings")})]}),i.jsx("button",{onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Al,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"flex-1 px-4 py-1 overflow-y-auto",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l("form.drawerName")}),i.jsx("input",{type:"text",value:o,onChange:w=>s(w.target.value),placeholder:(n==null?void 0:n.name)||l("placeholder.drawerName"),className:"w-full px-2 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-base"})]}),i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("div",{className:"space-y-2 w-[50%]",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l("form.drugList")}),a.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-2",children:a.map(w=>i.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-1 hover:border-gray-300 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{children:[w.code&&i.jsx("div",{children:i.jsx("div",{className:"text-sm text-gray-900 font-mono",children:w.code})}),i.jsx("div",{children:i.jsx("div",{className:"text-sm text-gray-900 font-medium",children:w.name||l("status.notSet")})}),i.jsx("div",{children:i.jsx("div",{className:"text-sm text-gray-900",children:w.cht_name||l("status.notSet")})})]})}),i.jsx("button",{onClick:()=>f(w.code),className:"ml-3 p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",title:l("button.remove"),children:i.jsx(Al,{className:"w-5 h-5"})})]})},w.id))}):i.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-gray-500 text-lg mb-2",children:l("status.drawerNoDrug")}),i.jsx("div",{className:"text-gray-400 text-sm",children:l("status.drugListEmpty")})]})})]}),i.jsxs("div",{className:"space-y-2 w-[50%]",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l("form.drugSearch")}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("input",{type:"text",value:u,onChange:w=>m(w.target.value),placeholder:l("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),i.jsxs("select",{value:y,onChange:w=>g(w.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"管制級別",children:[i.jsx("option",{value:"N",children:"N"}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"})]}),i.jsxs("button",{onClick:d,disabled:x,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[x&&i.jsx(qt,{className:"w-4 h-4 animate-spin"}),l("button.search")]})]}),i.jsx("div",{className:"bg-white border rounded p-3 min-h-[300px] max-h-[300px] overflow-y-auto",children:x?i.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[i.jsx(qt,{className:"w-5 h-5 animate-spin mr-2"}),l("status.searching")]}):M.length>0?i.jsx("div",{className:"space-y-1",children:M.map((w,$)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:w.NAME}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:w.CHT_NAME}),i.jsx("div",{className:"text-xs text-gray-400 font-mono",children:w.CODE})]}),i.jsx("button",{onClick:()=>h(w),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:l("button.add"),children:i.jsx(no,{className:"w-4 h-4"})})]},w.GUID||$))}):i.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:l(u||y!=="N"?"status.noSearchResults":"status.searchResults")})})]})]})]})}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[i.jsx("button",{onClick:E,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:l("button.cancel")}),i.jsx("button",{onClick:v,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:l("button.save")})]})]})]})},Zp=()=>{const{gridDrawModalOpen:e,closeGridDrawModal:t,selectedGridDraw:n,triggerRefresh:r}=xt(),{t:l}=st(),[o,s]=k.useState(""),[a,c]=k.useState(!1),[u,m]=k.useState(null),[y,g]=k.useState(""),[M,_]=k.useState("N"),[x,V]=k.useState([]),[f,d]=k.useState(!1);k.useEffect(()=>{n&&e&&s(n.name||"")},[n,e]);const h=()=>{n&&(n.name=o,r(),t())},v=()=>{t()},E=(N,L)=>{if(!u)return!1;const B=Math.min(u.startRow,u.endRow),K=Math.max(u.startRow,u.endRow),G=Math.min(u.startCol,u.endCol),le=Math.max(u.startCol,u.endCol);return N>=B&&N<=K&&L>=G&&L<=le},w=()=>{if(!u||!(n!=null&&n.Boxes))return[];const N=n.Boxes.flat(),L=Math.min(u.startRow,u.endRow),B=Math.max(u.startRow,u.endRow),K=Math.min(u.startCol,u.endCol),G=Math.max(u.startCol,u.endCol),le=[];return N.forEach(Y=>{if(!Y.Slave){const z=Y.Row+Y.Height-1,ne=Y.Column+Y.Width-1;Y.Width>1||Y.Height>1?Y.Row>=L&&z<=B&&Y.Column>=K&&ne<=G&&le.push(Y):Y.Row>=L&&Y.Row<=B&&Y.Column>=K&&Y.Column<=G&&le.push(Y)}}),le},$=()=>{if(!u||!(n!=null&&n.Boxes))return!1;const N=w();if(N.length===0)return!1;const L=Math.min(u.startRow,u.endRow),B=Math.max(u.startRow,u.endRow),K=Math.min(u.startCol,u.endCol),G=Math.max(u.startCol,u.endCol),le=Array(B-L+1).fill(null).map(()=>Array(G-K+1).fill(!1));N.forEach(Y=>{for(let z=Y.Row;z<Y.Row+Y.Height;z++)for(let ne=Y.Column;ne<Y.Column+Y.Width;ne++)z>=L&&z<=B&&ne>=K&&ne<=G&&(le[z-L][ne-K]=!0)});for(let Y=0;Y<le.length;Y++)for(let z=0;z<le[Y].length;z++)if(!le[Y][z])return!1;return!0},I=()=>{const N=w();if(!u)return{canMerge:!1,canUnmerge:!1};if(N.length===0)return{canMerge:!1,canUnmerge:!1};const L=N.some(K=>K.Width>1||K.Height>1||K.Slave);if(N.length===1){const K=N[0];return{canMerge:!1,canUnmerge:K.Width>1||K.Height>1}}return{canMerge:$(),canUnmerge:L}},{canMerge:te,canUnmerge:S}=I(),Q=async()=>{d(!0);try{const N=await Vn.searchMedicine(y,M);V(N)}catch(N){console.error("Search failed:",N),V([])}finally{d(!1)}},oe=N=>{if(!u||!(n!=null&&n.Boxes))return;const L=w();if(L.length===0)return;const B=L[0];B.Code=N.CODE,B.Name=N.NAME,B.ChineseName=N.CHT_NAME,r()},ae=(N,L,B,K)=>{if(!(n!=null&&n.Boxes))return{minRow:N,maxRow:L,minCol:B,maxCol:K};const G=n.Boxes.flat();let le=N,Y=L,z=B,ne=K,Ce=!0;for(;Ce;)Ce=!1,G.forEach(ue=>{if(ue.Slave)return;const ie=ue.Row+ue.Height-1,fe=ue.Column+ue.Width-1;!(ue.Row>Y||ie<le||ue.Column>ne||fe<z)&&(ue.Row<le&&(le=ue.Row,Ce=!0),ie>Y&&(Y=ie,Ce=!0),ue.Column<z&&(z=ue.Column,Ce=!0),fe>ne&&(ne=fe,Ce=!0))});return{minRow:le,maxRow:Y,minCol:z,maxCol:ne}},Ne=(N,L,B)=>{B.preventDefault(),c(!0),m({startRow:N,startCol:L,endRow:N,endCol:L})},F=(N,L)=>{if(!a||!u)return;const B=Math.min(u.startRow,N),K=Math.max(u.startRow,N),G=Math.min(u.startCol,L),le=Math.max(u.startCol,L),Y=ae(B,K,G,le);m(z=>z?{startRow:z.startRow,startCol:z.startCol,endRow:N>=z.startRow?Y.maxRow:Y.minRow,endCol:L>=z.startCol?Y.maxCol:Y.minCol}:null)},Z=()=>{if(c(!1),u&&(n!=null&&n.Boxes)){const N=Math.min(u.startRow,u.endRow),L=Math.max(u.startRow,u.endRow),B=Math.min(u.startCol,u.endCol),K=Math.max(u.startCol,u.endCol),G=ae(N,L,B,K);m(le=>le?{startRow:G.minRow,startCol:G.minCol,endRow:G.maxRow,endCol:G.maxCol}:null)}},D=()=>{if(!te||!(n!=null&&n.Boxes)||!u)return;const N=w();if(N.length<2||!$())return;const L=Math.min(u.startRow,u.endRow),B=Math.max(u.startRow,u.endRow),K=Math.min(u.startCol,u.endCol),G=Math.max(u.startCol,u.endCol),le=G-K+1,Y=B-L+1;let z=N.find(ie=>ie.Row===L&&ie.Column===K);z||(z=N[0],z.Row=L,z.Column=K);const Ce=N.sort((ie,fe)=>ie.Row!==fe.Row?ie.Row-fe.Row:ie.Column-fe.Column).find(ie=>ie.Code||ie.Name||ie.ChineseName);z.Width=le,z.Height=Y,z.Slave=!1,Ce&&Ce!==z&&(z.Code=Ce.Code,z.Name=Ce.Name,z.ChineseName=Ce.ChineseName),n.Boxes.flat().forEach(ie=>{ie.Row>=L&&ie.Row<=B&&ie.Column>=K&&ie.Column<=G&&ie!==z&&(ie.Slave=!0,ie.SlaveBox_Row=L,ie.SlaveBox_Column=K,ie.Width=1,ie.Height=1,delete ie.Code,delete ie.Name,delete ie.ChineseName)}),m(null),r()},C=()=>{if(!S||!(n!=null&&n.Boxes)||!u||w().length===0)return;const L=Math.min(u.startRow,u.endRow),B=Math.max(u.startRow,u.endRow),K=Math.min(u.startCol,u.endCol),G=Math.max(u.startCol,u.endCol);n.Boxes.flat().filter(z=>!!(z.Row>=L&&z.Row<=B&&z.Column>=K&&z.Column<=G||z.Slave&&z.SlaveBox_Row>=L&&z.SlaveBox_Row<=B&&z.SlaveBox_Column>=K&&z.SlaveBox_Column<=G)).forEach(z=>{z.Width=1,z.Height=1,z.Slave=!1,z.SlaveBox_Row=-1,z.SlaveBox_Column=-1,delete z.Code,delete z.Name,delete z.ChineseName}),m(null),r()},P=()=>{if(!(n!=null&&n.Boxes)||n.Boxes.length===0)return i.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(zp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("div",{className:"text-gray-500 text-lg mb-2",children:l("status.gridDrawNotConfigured")}),i.jsx("div",{className:"text-gray-400 text-sm",children:l("status.noDrugInfo")})]})});const N=n.Boxes.flat(),L=Math.max(...N.map(z=>z.Row+z.Height-1)),B=Math.max(...N.map(z=>z.Column+z.Width-1)),K=L+1,G=B+1,le=Array(K).fill(null).map(()=>Array(G).fill(!1)),Y={};return N.forEach(z=>{z.Slave||(Y[`${z.Row},${z.Column}`]=z)}),N.forEach(z=>{if(!z.Slave&&(z.Width>1||z.Height>1))for(let ne=z.Row;ne<z.Row+z.Height;ne++)for(let Ce=z.Column;Ce<z.Column+z.Width;Ce++)(ne!==z.Row||Ce!==z.Column)&&(le[ne][Ce]=!0)}),i.jsx("div",{className:"rounded-lg",children:i.jsx("table",{className:"w-full",children:i.jsx("tbody",{children:Array.from({length:K},(z,ne)=>i.jsx("tr",{children:Array.from({length:G},(Ce,ue)=>{if(le[ne][ue])return null;const ie=`${ne},${ue}`,fe=Y[ie];return fe?i.jsx("td",{className:`border border-gray-400 pt-1 pl-1 align-top cursor-pointer select-none ${E(ne,ue)?"bg-blue-200":"bg-white hover:bg-gray-100"}`,style:{width:`${100/G}%`,minHeight:"40px",height:`${50*fe.Height}px`,maxHeight:`${50*fe.Height}px`},colSpan:fe.Width,rowSpan:fe.Height,onMouseDown:_e=>Ne(ne,ue,_e),onMouseEnter:()=>F(ne,ue),onMouseUp:Z,onTouchStart:_e=>Ne(ne,ue,_e),onTouchMove:_e=>{_e.preventDefault();const wt=_e.touches[0],St=document.elementFromPoint(wt.clientX,wt.clientY),Nt=St==null?void 0:St.closest("td");if(Nt){const rn=parseInt(Nt.getAttribute("data-row")||"0"),It=parseInt(Nt.getAttribute("data-col")||"0");F(rn,It)}},onTouchEnd:Z,"data-row":ne,"data-col":ue,children:i.jsx("div",{className:"h-full flex flex-col",children:fe.Code||fe.Name||fe.ChineseName?i.jsxs(i.Fragment,{children:[fe.Code&&i.jsx("div",{className:"text-xs font-mono text-gray-600",children:fe.Code}),fe.Name&&i.jsx("div",{className:"text-xs font-medium text-gray-900",children:fe.Name}),fe.ChineseName&&i.jsx("div",{className:"text-xs text-gray-700",children:fe.ChineseName})]}):i.jsx("div",{className:"h-full flex justify-center items-center text-xs text-gray-400 italic text-center",children:l("status.notAdded")})})},ue):i.jsx("td",{className:`border border-gray-300 p-2 align-top cursor-pointer select-none ${E(ne,ue)?"border-1 border-blue-500 bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,style:{width:`${100/G}%`,minWidth:"80px",minHeight:"80px"},onMouseDown:_e=>Ne(ne,ue,_e),onMouseEnter:()=>F(ne,ue),onMouseUp:Z,onTouchStart:_e=>Ne(ne,ue,_e),onTouchMove:_e=>{_e.preventDefault();const wt=_e.touches[0],St=document.elementFromPoint(wt.clientX,wt.clientY),Nt=St==null?void 0:St.closest("td");if(Nt){const rn=parseInt(Nt.getAttribute("data-row")||"0"),It=parseInt(Nt.getAttribute("data-col")||"0");F(rn,It)}},onTouchEnd:Z,"data-row":ne,"data-col":ue,children:i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-xs",children:l("status.notAdded")})},ue)})},ne))})})})};return!e||!n?null:i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:v}),i.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:N=>N.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Et,{className:"w-6 h-6 text-gray-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l("modal.gridDrawSettings")})]}),i.jsx("button",{onClick:v,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Al,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:[i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h3",{className:"text-lg whitespace-nowrap font-medium text-gray-900",children:l("form.drawerName")}),i.jsx("input",{type:"text",value:o,onChange:N=>s(N.target.value),placeholder:(n==null?void 0:n.name)||l("placeholder.gridDrawName"),className:"px-2 py-1 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-base"})]}),i.jsx("div",{className:"space-y-1",children:P()})]}),i.jsxs("div",{className:"py-2 flex space-x-4",children:[i.jsx("div",{className:"grid grid-cols-1 gap-2 w-[10%]",children:i.jsxs("div",{className:"grid grid-cols-1 gap-2 items-strat",children:[i.jsx("button",{onClick:D,disabled:!te,className:`px-4 py-2 rounded transition-colors ${te?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l("button.merge")}),i.jsx("button",{onClick:C,disabled:!S,className:`px-4 py-2 rounded transition-colors ${S?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l("button.unmerge")})]})}),i.jsx("div",{className:"space-y-2 w-[30%]",children:(()=>{const N=w(),L=N.find(B=>!B.Slave);return L&&(L.Code||L.Name||L.ChineseName)?i.jsxs("div",{className:"border border-blue-200 rounded-lg p-2 space-y-1 h-full",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-900 mb-1",children:l("form.drugCode")}),i.jsx("div",{className:"text-base text-gray-900",children:L.Code||"-"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-900  mb-1",children:l("form.drugName")}),i.jsx("div",{className:"text-base text-gray-900",children:L.Name||"-"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-900 mb-1",children:l("form.chineseName")}),i.jsx("div",{className:"text-base text-gray-900",children:L.ChineseName||"-"})]})]}):i.jsx("div",{className:"bg-gray-50 border h-full border-gray-200 rounded-lg p-3 text-center",children:i.jsx("div",{className:"text-gray-500 h-full w-full flex justify-center items-center",children:u&&N.length>0?l("status.selectedCellsNoDrug"):l("status.selectCellsForDrug")})})})()}),i.jsxs("div",{className:"w-[60%]",children:[i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("input",{type:"text",value:y,onChange:N=>g(N.target.value),placeholder:l("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),i.jsxs("select",{value:M,onChange:N=>_(N.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"管制級別",children:[i.jsx("option",{value:"N",children:"N"}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"})]}),i.jsxs("button",{onClick:Q,disabled:f,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[f&&i.jsx(qt,{className:"w-4 h-4 animate-spin"}),l("button.search")]})]}),i.jsx("div",{className:"bg-white border rounded p-3 min-h-[150px] max-h-[150px] overflow-y-auto",children:f?i.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[i.jsx(qt,{className:"w-5 h-5 animate-spin mr-2"}),l("status.searching")]}):x.length>0?i.jsx("div",{className:"space-y-1",children:x.map((N,L)=>i.jsxs("div",{className:"flex items-center justify-between p-1 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:N.NAME}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:N.CHT_NAME}),i.jsx("div",{className:"text-xs text-gray-400 font-mono",children:N.CODE})]}),i.jsx("button",{onClick:()=>oe(N),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:l("button.add"),children:i.jsx(no,{className:"w-4 h-4"})})]},N.GUID||L))}):i.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:l(y||M!=="N"?"status.noSearchResults":"status.searchResults")})})]})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[i.jsx("button",{onClick:v,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:l("button.cancel")}),i.jsx("button",{onClick:h,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:l("button.save")})]})]}),i.jsx("div",{className:"fixed inset-0 pointer-events-none",onMouseUp:Z,onTouchEnd:Z})]})]})},Jp=({isOpen:e,onLoginSuccess:t})=>{const{t:n}=st(),[r,l]=k.useState(""),[o,s]=k.useState(""),[a,c]=k.useState(!1),[u,m]=k.useState(!1),[y,g]=k.useState(""),M=async x=>{if(x.preventDefault(),!r.trim()||!o.trim()){g("Please enter both ID and password");return}m(!0),g("");try{const V=await Vn.login({ID:r.trim(),Password:o});if(V.Code===200&&V.Data){const f={...V.Data,loginTime:new Date().toISOString()};sessionStorage.setItem("user_session",JSON.stringify(f)),t(f)}else g(V.Result||"Login failed")}catch(V){console.error("Login failed:",V),g("Network error. Please try again.")}finally{m(!1)}},_=x=>{x.key==="Enter"&&!u&&M(x)};return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:n("login.title")}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 md:p-6",children:[y&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-red-600 text-sm",children:y})}),i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 mb-2",children:n("login.userId")}),i.jsx("input",{id:"userId",type:"text",value:r,onChange:x=>l(x.target.value),onKeyPress:_,placeholder:n("login.userIdPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:u,autoComplete:"username"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:n("login.password")}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",type:a?"text":"password",value:o,onChange:x=>s(x.target.value),onKeyPress:_,placeholder:n("login.passwordPlaceholder"),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:u,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:u,children:a?i.jsx(Tp,{className:"w-5 h-5"}):i.jsx(Lp,{className:"w-5 h-5"})})]})]}),i.jsx("button",{type:"submit",disabled:u||!r.trim()||!o.trim(),className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:u?i.jsxs(i.Fragment,{children:[i.jsx(qt,{className:"w-5 h-5 animate-spin mr-2"}),n("login.loggingIn")]}):i.jsx(i.Fragment,{children:n("login.loginButton")})})]})]})]})]}):null},qp=({isVisible:e,message:t})=>{const{t:n}=st();return e?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),i.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center p-8",children:i.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-2xl px-8 py-6 flex flex-col items-center space-y-4 min-w-[280px]",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:i.jsx(yi,{className:"w-8 h-8 text-blue-600"})}),i.jsx("div",{className:"text-xl font-semibold text-gray-900",children:n("nav.title")})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(qt,{className:"w-8 h-8 text-blue-600 animate-spin"}),i.jsx("div",{className:"text-lg font-medium text-gray-700",children:t||n("status.loadingMedMapData")})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full animate-pulse",style:{width:"100%"}})}),i.jsx("div",{className:"text-sm text-gray-500 text-center max-w-xs",children:n("status.loadingMedMapHint")})]})})]}):null};function eh(){const{selectedDepartmentType:e,viewMode:t,isAuthenticated:n,setIsAuthenticated:r,setCurrentUser:l,isLoadingMedMap:o}=xt();k.useEffect(()=>{(()=>{try{const c=sessionStorage.getItem("user_session");if(c){const u=JSON.parse(c);u.GUID&&u.ID&&u.Name?(l(u),r(!0)):sessionStorage.removeItem("user_session")}}catch(c){console.error("Error checking session:",c),sessionStorage.removeItem("user_session")}})()},[r,l]);const s=a=>{l(a),r(!0)};return n?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Up,{}),i.jsx(Bp,{}),i.jsx(Wp,{}),i.jsx("div",{className:"fixed inset-0",children:i.jsx("div",{className:"w-full h-full",children:t==="department"?i.jsx(Yp,{}):i.jsx(Xp,{})})}),i.jsx(Vp,{}),i.jsx(Qp,{}),i.jsx(Kp,{}),i.jsx(Zp,{}),i.jsx(qp,{isVisible:o})]}):i.jsx(Jp,{isOpen:!0,onLoginSuccess:s})}function th(){return i.jsx(Ep,{children:i.jsx(kp,{children:i.jsx(eh,{})})})}Bc(document.getElementById("root")).render(i.jsx(k.StrictMode,{children:i.jsx(th,{})}));
