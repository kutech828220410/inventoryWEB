(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ii={exports:{}},Hs={},$i={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=Symbol.for("react.element"),nd=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),od=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),ad=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),ud=Symbol.for("react.memo"),dd=Symbol.for("react.lazy"),ja=Symbol.iterator;function fd(e){return e===null||typeof e!="object"?null:(e=ja&&e[ja]||e["@@iterator"],typeof e=="function"?e:null)}var Ai={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Li=Object.assign,Oi={};function qn(e,t,n){this.props=e,this.context=t,this.refs=Oi,this.updater=n||Ai}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zi(){}zi.prototype=qn.prototype;function Ml(e,t,n){this.props=e,this.context=t,this.refs=Oi,this.updater=n||Ai}var bl=Ml.prototype=new zi;bl.constructor=Ml;Li(bl,qn.prototype);bl.isPureReactComponent=!0;var Ca=Array.isArray,Ui=Object.prototype.hasOwnProperty,Dl={current:null},Bi={key:!0,ref:!0,__self:!0,__source:!0};function Fi(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Ui.call(t,r)&&!Bi.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:Ur,type:e,key:o,ref:a,props:s,_owner:Dl.current}}function pd(e,t){return{$$typeof:Ur,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function El(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ur}function hd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _a=/\/+/g;function ao(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hd(""+e.key):t.toString(36)}function cs(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ur:case nd:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ao(a,0):r,Ca(s)?(n="",e!=null&&(n=e.replace(_a,"$&/")+"/"),cs(s,t,n,"",function(d){return d})):s!=null&&(El(s)&&(s=pd(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_a,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ca(e))for(var i=0;i<e.length;i++){o=e[i];var c=r+ao(o,i);a+=cs(o,t,n,c,s)}else if(c=fd(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=r+ao(o,i++),a+=cs(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Hr(e,t,n){if(e==null)return e;var r=[],s=0;return cs(e,r,"","",function(o){return t.call(n,o,s++)}),r}function md(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},us={transition:null},gd={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:us,ReactCurrentOwner:Dl};function Gi(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Hr,forEach:function(e,t,n){Hr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hr(e,function(){t++}),t},toArray:function(e){return Hr(e,function(t){return t})||[]},only:function(e){if(!El(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=qn;fe.Fragment=rd;fe.Profiler=od;fe.PureComponent=Ml;fe.StrictMode=sd;fe.Suspense=cd;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gd;fe.act=Gi;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Li({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Dl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Ui.call(t,c)&&!Bi.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:Ur,type:e.type,key:s,ref:o,props:r,_owner:a}};fe.createContext=function(e){return e={$$typeof:ad,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ld,_context:e},e.Consumer=e};fe.createElement=Fi;fe.createFactory=function(e){var t=Fi.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:id,render:e}};fe.isValidElement=El;fe.lazy=function(e){return{$$typeof:dd,_payload:{_status:-1,_result:e},_init:md}};fe.memo=function(e,t){return{$$typeof:ud,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=us.transition;us.transition={};try{e()}finally{us.transition=t}};fe.unstable_act=Gi;fe.useCallback=function(e,t){return Qe.current.useCallback(e,t)};fe.useContext=function(e){return Qe.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Qe.current.useEffect(e,t)};fe.useId=function(){return Qe.current.useId()};fe.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Qe.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};fe.useRef=function(e){return Qe.current.useRef(e)};fe.useState=function(e){return Qe.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Qe.current.useTransition()};fe.version="18.3.1";$i.exports=fe;var j=$i.exports;const yd=td(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=j,vd=Symbol.for("react.element"),wd=Symbol.for("react.fragment"),Nd=Object.prototype.hasOwnProperty,Sd=xd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jd={key:!0,ref:!0,__self:!0,__source:!0};function Vi(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Nd.call(t,r)&&!jd.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vd,type:e,key:o,ref:a,props:s,_owner:Sd.current}}Hs.Fragment=wd;Hs.jsx=Vi;Hs.jsxs=Vi;Ii.exports=Hs;var l=Ii.exports,Hi={exports:{}},it={},Wi={exports:{}},Xi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(h,D){var A=h.length;h.push(D);e:for(;0<A;){var T=A-1>>>1,L=h[T];if(0<s(L,D))h[T]=D,h[A]=L,A=T;else break e}}function n(h){return h.length===0?null:h[0]}function r(h){if(h.length===0)return null;var D=h[0],A=h.pop();if(A!==D){h[0]=A;e:for(var T=0,L=h.length,Z=L>>>1;T<Z;){var q=2*(T+1)-1,re=h[q],ee=q+1,he=h[ee];if(0>s(re,A))ee<L&&0>s(he,re)?(h[T]=he,h[ee]=A,T=ee):(h[T]=re,h[q]=A,T=q);else if(ee<L&&0>s(he,A))h[T]=he,h[ee]=A,T=ee;else break e}}return D}function s(h,D){var A=h.sortIndex-D.sortIndex;return A!==0?A:h.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],d=[],p=1,x=null,m=3,b=!1,C=!1,k=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(h){for(var D=n(d);D!==null;){if(D.callback===null)r(d);else if(D.startTime<=h)r(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(d)}}function S(h){if(k=!1,y(h),!C)if(n(c)!==null)C=!0,pe(E);else{var D=n(d);D!==null&&P(S,D.startTime-h)}}function E(h,D){C=!1,k&&(k=!1,g(H),H=-1),b=!0;var A=m;try{for(y(D),x=n(c);x!==null&&(!(x.expirationTime>D)||h&&!ye());){var T=x.callback;if(typeof T=="function"){x.callback=null,m=x.priorityLevel;var L=T(x.expirationTime<=D);D=e.unstable_now(),typeof L=="function"?x.callback=L:x===n(c)&&r(c),y(D)}else r(c);x=n(c)}if(x!==null)var Z=!0;else{var q=n(d);q!==null&&P(S,q.startTime-D),Z=!1}return Z}finally{x=null,m=A,b=!1}}var M=!1,B=null,H=-1,ce=5,W=-1;function ye(){return!(e.unstable_now()-W<ce)}function ne(){if(B!==null){var h=e.unstable_now();W=h;var D=!0;try{D=B(!0,h)}finally{D?O():(M=!1,B=null)}}else M=!1}var O;if(typeof u=="function")O=function(){u(ne)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,de=Q.port2;Q.port1.onmessage=ne,O=function(){de.postMessage(null)}}else O=function(){v(ne,0)};function pe(h){B=h,M||(M=!0,O())}function P(h,D){H=v(function(){h(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(h){h.callback=null},e.unstable_continueExecution=function(){C||b||(C=!0,pe(E))},e.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<h?Math.floor(1e3/h):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(h){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var A=m;m=D;try{return h()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(h,D){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var A=m;m=h;try{return D()}finally{m=A}},e.unstable_scheduleCallback=function(h,D,A){var T=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?T+A:T):A=T,h){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=A+L,h={id:p++,callback:D,priorityLevel:h,startTime:A,expirationTime:L,sortIndex:-1},A>T?(h.sortIndex=A,t(d,h),n(c)===null&&h===n(d)&&(k?(g(H),H=-1):k=!0,P(S,A-T))):(h.sortIndex=L,t(c,h),C||b||(C=!0,pe(E))),h},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(h){var D=m;return function(){var A=m;m=D;try{return h.apply(this,arguments)}finally{m=A}}}})(Xi);Wi.exports=Xi;var Cd=Wi.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=j,at=Cd;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yi=new Set,jr={};function Cn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(jr[e]=t,e=0;e<t.length;e++)Yi.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=Object.prototype.hasOwnProperty,kd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ka={},Ma={};function Md(e){return Io.call(Ma,e)?!0:Io.call(ka,e)?!1:kd.test(e)?Ma[e]=!0:(ka[e]=!0,!1)}function bd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dd(e,t,n,r){if(t===null||typeof t>"u"||bd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pl=/[\-:]([a-z])/g;function Tl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pl,Tl);Fe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pl,Tl);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pl,Tl);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rl(e,t,n,r){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dd(t,n,s,r)&&(n=null),r||s===null?Md(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=_d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wr=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),$o=Symbol.for("react.profiler"),Qi=Symbol.for("react.provider"),Ki=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),Ao=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Al=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Ji=Symbol.for("react.offscreen"),ba=Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=ba&&e[ba]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,io;function ur(e){if(io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);io=t&&t[1]||""}return`
`+io+e}var co=!1;function uo(e,t){if(!e||co)return"";co=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,i=o.length-1;1<=a&&0<=i&&s[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==o[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{co=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ur(e):""}function Ed(e){switch(e.tag){case 5:return ur(e.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 2:case 15:return e=uo(e.type,!1),e;case 11:return e=uo(e.type.render,!1),e;case 1:return e=uo(e.type,!0),e;default:return""}}function Oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bn:return"Fragment";case Mn:return"Portal";case $o:return"Profiler";case Il:return"StrictMode";case Ao:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ki:return(e.displayName||"Context")+".Consumer";case Qi:return(e._context.displayName||"Context")+".Provider";case $l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Al:return t=e.displayName||null,t!==null?t:Oo(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Oo(e(t))}catch{}}return null}function Pd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oo(t);case 8:return t===Il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qi(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Td(e){var t=qi(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){e._valueTracker||(e._valueTracker=Td(e))}function Zi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qi(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Da(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ec(e,t){t=t.checked,t!=null&&Rl(e,"checked",t,!1)}function Uo(e,t){ec(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bo(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ea(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bo(e,t,n){(t!=="number"||Ns(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var dr=Array.isArray;function zn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(dr(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function tc(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ta(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yr,rc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rd=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(e){Rd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hr[t]=hr[e]})});function sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hr.hasOwnProperty(e)&&hr[e]?(""+t).trim():t+"px"}function oc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Id=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(Id[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xo=null,Un=null,Bn=null;function Ra(e){if(e=Gr(e)){if(typeof Xo!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Ks(t),Xo(e.stateNode,e.type,t))}}function lc(e){Un?Bn?Bn.push(e):Bn=[e]:Un=e}function ac(){if(Un){var e=Un,t=Bn;if(Bn=Un=null,Ra(e),t)for(e=0;e<t.length;e++)Ra(t[e])}}function ic(e,t){return e(t)}function cc(){}var fo=!1;function uc(e,t,n){if(fo)return e(t,n);fo=!0;try{return ic(e,t,n)}finally{fo=!1,(Un!==null||Bn!==null)&&(cc(),ac())}}function _r(e,t){var n=e.stateNode;if(n===null)return null;var r=Ks(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Yo=!1;if(zt)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Yo=!1}function $d(e,t,n,r,s,o,a,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var mr=!1,Ss=null,js=!1,Qo=null,Ad={onError:function(e){mr=!0,Ss=e}};function Ld(e,t,n,r,s,o,a,i,c){mr=!1,Ss=null,$d.apply(Ad,arguments)}function Od(e,t,n,r,s,o,a,i,c){if(Ld.apply(this,arguments),mr){if(mr){var d=Ss;mr=!1,Ss=null}else throw Error(G(198));js||(js=!0,Qo=d)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ia(e){if(_n(e)!==e)throw Error(G(188))}function zd(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ia(s),e;if(o===r)return Ia(s),t;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=o;break}if(i===r){a=!0,r=s,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=s;break}if(i===r){a=!0,r=o,n=s;break}i=i.sibling}if(!a)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function fc(e){return e=zd(e),e!==null?pc(e):null}function pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pc(e);if(t!==null)return t;e=e.sibling}return null}var hc=at.unstable_scheduleCallback,$a=at.unstable_cancelCallback,Ud=at.unstable_shouldYield,Bd=at.unstable_requestPaint,Ie=at.unstable_now,Fd=at.unstable_getCurrentPriorityLevel,Ol=at.unstable_ImmediatePriority,mc=at.unstable_UserBlockingPriority,Cs=at.unstable_NormalPriority,Gd=at.unstable_LowPriority,gc=at.unstable_IdlePriority,Ws=null,Pt=null;function Vd(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ws,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Xd,Hd=Math.log,Wd=Math.LN2;function Xd(e){return e>>>=0,e===0?32:31-(Hd(e)/Wd|0)|0}var Qr=64,Kr=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _s(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=fr(i):(o&=a,o!==0&&(r=fr(o)))}else a=n&~s,a!==0?r=fr(a):o!==0&&(r=fr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Yd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ct(o),i=1<<a,c=s[a];c===-1?(!(i&n)||i&r)&&(s[a]=Yd(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function Ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=Qr;return Qr<<=1,!(Qr&4194240)&&(Qr=64),e}function po(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function Kd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function zl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var we=0;function xc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vc,Ul,wc,Nc,Sc,Jo=!1,Jr=[],Jt=null,qt=null,Zt=null,kr=new Map,Mr=new Map,Xt=[],Jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function sr(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Gr(t),t!==null&&Ul(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qd(e,t,n,r,s){switch(t){case"focusin":return Jt=sr(Jt,e,t,n,r,s),!0;case"dragenter":return qt=sr(qt,e,t,n,r,s),!0;case"mouseover":return Zt=sr(Zt,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return kr.set(o,sr(kr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Mr.set(o,sr(Mr.get(o)||null,e,t,n,r,s)),!0}return!1}function jc(e){var t=hn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=dc(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){wc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wo=r,n.target.dispatchEvent(r),Wo=null}else return t=Gr(n),t!==null&&Ul(t),e.blockedOn=n,!1;t.shift()}return!0}function La(e,t,n){ds(e)&&n.delete(t)}function Zd(){Jo=!1,Jt!==null&&ds(Jt)&&(Jt=null),qt!==null&&ds(qt)&&(qt=null),Zt!==null&&ds(Zt)&&(Zt=null),kr.forEach(La),Mr.forEach(La)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Zd)))}function br(e){function t(s){return or(s,e)}if(0<Jr.length){or(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jt!==null&&or(Jt,e),qt!==null&&or(qt,e),Zt!==null&&or(Zt,e),kr.forEach(t),Mr.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)jc(n),n.blockedOn===null&&Xt.shift()}var Fn=Gt.ReactCurrentBatchConfig,ks=!0;function ef(e,t,n,r){var s=we,o=Fn.transition;Fn.transition=null;try{we=1,Bl(e,t,n,r)}finally{we=s,Fn.transition=o}}function tf(e,t,n,r){var s=we,o=Fn.transition;Fn.transition=null;try{we=4,Bl(e,t,n,r)}finally{we=s,Fn.transition=o}}function Bl(e,t,n,r){if(ks){var s=qo(e,t,n,r);if(s===null)jo(e,t,r,Ms,n),Aa(e,r);else if(qd(s,e,t,n,r))r.stopPropagation();else if(Aa(e,r),t&4&&-1<Jd.indexOf(e)){for(;s!==null;){var o=Gr(s);if(o!==null&&vc(o),o=qo(e,t,n,r),o===null&&jo(e,t,r,Ms,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else jo(e,t,r,null,n)}}var Ms=null;function qo(e,t,n,r){if(Ms=null,e=Ll(r),e=hn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function Cc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fd()){case Ol:return 1;case mc:return 4;case Cs:case Gd:return 16;case gc:return 536870912;default:return 16}default:return 16}}var Qt=null,Fl=null,fs=null;function _c(){if(fs)return fs;var e,t=Fl,n=t.length,r,s="value"in Qt?Qt.value:Qt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return fs=s.slice(e,1<r?1-r:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qr(){return!0}function Oa(){return!1}function ct(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qr:Oa,this.isPropagationStopped=Oa,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=ct(Zn),Fr=Pe({},Zn,{view:0,detail:0}),nf=ct(Fr),ho,mo,lr,Xs=Pe({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&e.type==="mousemove"?(ho=e.screenX-lr.screenX,mo=e.screenY-lr.screenY):mo=ho=0,lr=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:mo}}),za=ct(Xs),rf=Pe({},Xs,{dataTransfer:0}),sf=ct(rf),of=Pe({},Fr,{relatedTarget:0}),go=ct(of),lf=Pe({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),af=ct(lf),cf=Pe({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uf=ct(cf),df=Pe({},Zn,{data:0}),Ua=ct(df),ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hf[e])?!!t[e]:!1}function Vl(){return mf}var gf=Pe({},Fr,{key:function(e){if(e.key){var t=ff[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yf=ct(gf),xf=Pe({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=ct(xf),vf=Pe({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),wf=ct(vf),Nf=Pe({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sf=ct(Nf),jf=Pe({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cf=ct(jf),_f=[9,13,27,32],Hl=zt&&"CompositionEvent"in window,gr=null;zt&&"documentMode"in document&&(gr=document.documentMode);var kf=zt&&"TextEvent"in window&&!gr,kc=zt&&(!Hl||gr&&8<gr&&11>=gr),Fa=" ",Ga=!1;function Mc(e,t){switch(e){case"keyup":return _f.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Mf(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(Ga=!0,Fa);case"textInput":return e=t.data,e===Fa&&Ga?null:e;default:return null}}function bf(e,t){if(Dn)return e==="compositionend"||!Hl&&Mc(e,t)?(e=_c(),fs=Fl=Qt=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kc&&t.locale!=="ko"?null:t.data;default:return null}}var Df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Df[e.type]:t==="textarea"}function Dc(e,t,n,r){lc(r),t=bs(t,"onChange"),0<t.length&&(n=new Gl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,Dr=null;function Ef(e){Uc(e,0)}function Ys(e){var t=Tn(e);if(Zi(t))return e}function Pf(e,t){if(e==="change")return t}var Ec=!1;if(zt){var yo;if(zt){var xo="oninput"in document;if(!xo){var Ha=document.createElement("div");Ha.setAttribute("oninput","return;"),xo=typeof Ha.oninput=="function"}yo=xo}else yo=!1;Ec=yo&&(!document.documentMode||9<document.documentMode)}function Wa(){yr&&(yr.detachEvent("onpropertychange",Pc),Dr=yr=null)}function Pc(e){if(e.propertyName==="value"&&Ys(Dr)){var t=[];Dc(t,Dr,e,Ll(e)),uc(Ef,t)}}function Tf(e,t,n){e==="focusin"?(Wa(),yr=t,Dr=n,yr.attachEvent("onpropertychange",Pc)):e==="focusout"&&Wa()}function Rf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ys(Dr)}function If(e,t){if(e==="click")return Ys(t)}function $f(e,t){if(e==="input"||e==="change")return Ys(t)}function Af(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Af;function Er(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Io.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function Xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ya(e,t){var n=Xa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xa(n)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=Ns();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ns(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lf(e){var t=Rc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(r!==null&&Wl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ya(n,o);var a=Ya(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Of=zt&&"documentMode"in document&&11>=document.documentMode,En=null,Zo=null,xr=null,el=!1;function Qa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;el||En==null||En!==Ns(r)||(r=En,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xr&&Er(xr,r)||(xr=r,r=bs(Zo,"onSelect"),0<r.length&&(t=new Gl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}function Zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},vo={},Ic={};zt&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Qs(e){if(vo[e])return vo[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ic)return vo[e]=t[n];return e}var $c=Qs("animationend"),Ac=Qs("animationiteration"),Lc=Qs("animationstart"),Oc=Qs("transitionend"),zc=new Map,Ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){zc.set(e,t),Cn(t,[e])}for(var wo=0;wo<Ka.length;wo++){var No=Ka[wo],zf=No.toLowerCase(),Uf=No[0].toUpperCase()+No.slice(1);cn(zf,"on"+Uf)}cn($c,"onAnimationEnd");cn(Ac,"onAnimationIteration");cn(Lc,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Oc,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bf=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function Ja(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Od(r,t,void 0,e),e.currentTarget=null}function Uc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==o&&s.isPropagationStopped())break e;Ja(s,i,d),o=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,d=i.currentTarget,i=i.listener,c!==o&&s.isPropagationStopped())break e;Ja(s,i,d),o=c}}}if(js)throw e=Qo,js=!1,Qo=null,e}function Ce(e,t){var n=t[ol];n===void 0&&(n=t[ol]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function So(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var es="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[es]){e[es]=!0,Yi.forEach(function(n){n!=="selectionchange"&&(Bf.has(n)||So(n,!1,e),So(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[es]||(t[es]=!0,So("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(Cc(t)){case 1:var s=ef;break;case 4:s=tf;break;default:s=Bl}n=s.bind(null,t,n,e),s=void 0,!Yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jo(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=hn(i),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}i=i.parentNode}}r=r.return}uc(function(){var d=o,p=Ll(n),x=[];e:{var m=zc.get(e);if(m!==void 0){var b=Gl,C=e;switch(e){case"keypress":if(ps(n)===0)break e;case"keydown":case"keyup":b=yf;break;case"focusin":C="focus",b=go;break;case"focusout":C="blur",b=go;break;case"beforeblur":case"afterblur":b=go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=wf;break;case $c:case Ac:case Lc:b=af;break;case Oc:b=Sf;break;case"scroll":b=nf;break;case"wheel":b=Cf;break;case"copy":case"cut":case"paste":b=uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ba}var k=(t&4)!==0,v=!k&&e==="scroll",g=k?m!==null?m+"Capture":null:m;k=[];for(var u=d,y;u!==null;){y=u;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=_r(u,g),S!=null&&k.push(Tr(u,S,y)))),v)break;u=u.return}0<k.length&&(m=new b(m,C,null,n,p),x.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",m&&n!==Wo&&(C=n.relatedTarget||n.fromElement)&&(hn(C)||C[Ut]))break e;if((b||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,b?(C=n.relatedTarget||n.toElement,b=d,C=C?hn(C):null,C!==null&&(v=_n(C),C!==v||C.tag!==5&&C.tag!==6)&&(C=null)):(b=null,C=d),b!==C)){if(k=za,S="onMouseLeave",g="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(k=Ba,S="onPointerLeave",g="onPointerEnter",u="pointer"),v=b==null?m:Tn(b),y=C==null?m:Tn(C),m=new k(S,u+"leave",b,n,p),m.target=v,m.relatedTarget=y,S=null,hn(p)===d&&(k=new k(g,u+"enter",C,n,p),k.target=y,k.relatedTarget=v,S=k),v=S,b&&C)t:{for(k=b,g=C,u=0,y=k;y;y=kn(y))u++;for(y=0,S=g;S;S=kn(S))y++;for(;0<u-y;)k=kn(k),u--;for(;0<y-u;)g=kn(g),y--;for(;u--;){if(k===g||g!==null&&k===g.alternate)break t;k=kn(k),g=kn(g)}k=null}else k=null;b!==null&&qa(x,m,b,k,!1),C!==null&&v!==null&&qa(x,v,C,k,!0)}}e:{if(m=d?Tn(d):window,b=m.nodeName&&m.nodeName.toLowerCase(),b==="select"||b==="input"&&m.type==="file")var E=Pf;else if(Va(m))if(Ec)E=$f;else{E=Rf;var M=Tf}else(b=m.nodeName)&&b.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=If);if(E&&(E=E(e,d))){Dc(x,E,n,p);break e}M&&M(e,m,d),e==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Bo(m,"number",m.value)}switch(M=d?Tn(d):window,e){case"focusin":(Va(M)||M.contentEditable==="true")&&(En=M,Zo=d,xr=null);break;case"focusout":xr=Zo=En=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,Qa(x,n,p);break;case"selectionchange":if(Of)break;case"keydown":case"keyup":Qa(x,n,p)}var B;if(Hl)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Dn?Mc(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(kc&&n.locale!=="ko"&&(Dn||H!=="onCompositionStart"?H==="onCompositionEnd"&&Dn&&(B=_c()):(Qt=p,Fl="value"in Qt?Qt.value:Qt.textContent,Dn=!0)),M=bs(d,H),0<M.length&&(H=new Ua(H,e,null,n,p),x.push({event:H,listeners:M}),B?H.data=B:(B=bc(n),B!==null&&(H.data=B)))),(B=kf?Mf(e,n):bf(e,n))&&(d=bs(d,"onBeforeInput"),0<d.length&&(p=new Ua("onBeforeInput","beforeinput",null,n,p),x.push({event:p,listeners:d}),p.data=B))}Uc(x,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=_r(e,n),o!=null&&r.unshift(Tr(e,o,s)),o=_r(e,t),o!=null&&r.push(Tr(e,o,s))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qa(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,d=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&d!==null&&(i=d,s?(c=_r(n,o),c!=null&&a.unshift(Tr(n,c,i))):s||(c=_r(n,o),c!=null&&a.push(Tr(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Ff=/\r\n?/g,Gf=/\u0000|\uFFFD/g;function Za(e){return(typeof e=="string"?e:""+e).replace(Ff,`
`).replace(Gf,"")}function ts(e,t,n){if(t=Za(t),Za(e)!==t&&n)throw Error(G(425))}function Ds(){}var tl=null,nl=null;function rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sl=typeof setTimeout=="function"?setTimeout:void 0,Vf=typeof clearTimeout=="function"?clearTimeout:void 0,ei=typeof Promise=="function"?Promise:void 0,Hf=typeof queueMicrotask=="function"?queueMicrotask:typeof ei<"u"?function(e){return ei.resolve(null).then(e).catch(Wf)}:sl;function Wf(e){setTimeout(function(){throw e})}function Co(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),br(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);br(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ti(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),Et="__reactFiber$"+er,Rr="__reactProps$"+er,Ut="__reactContainer$"+er,ol="__reactEvents$"+er,Xf="__reactListeners$"+er,Yf="__reactHandles$"+er;function hn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ti(e);e!==null;){if(n=e[Et])return n;e=ti(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[Et]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Ks(e){return e[Rr]||null}var ll=[],Rn=-1;function un(e){return{current:e}}function _e(e){0>Rn||(e.current=ll[Rn],ll[Rn]=null,Rn--)}function je(e,t){Rn++,ll[Rn]=e.current,e.current=t}var ln={},We=un(ln),et=un(!1),vn=ln;function Wn(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function Es(){_e(et),_e(We)}function ni(e,t,n){if(We.current!==ln)throw Error(G(168));je(We,t),je(et,n)}function Fc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,Pd(e)||"Unknown",s));return Pe({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,vn=We.current,je(We,e),je(et,et.current),!0}function ri(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=Fc(e,t,vn),r.__reactInternalMemoizedMergedChildContext=e,_e(et),_e(We),je(We,e)):_e(et),je(et,n)}var $t=null,Js=!1,_o=!1;function Gc(e){$t===null?$t=[e]:$t.push(e)}function Qf(e){Js=!0,Gc(e)}function dn(){if(!_o&&$t!==null){_o=!0;var e=0,t=we;try{var n=$t;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,Js=!1}catch(s){throw $t!==null&&($t=$t.slice(e+1)),hc(Ol,dn),s}finally{we=t,_o=!1}}return null}var In=[],$n=0,Ts=null,Rs=0,dt=[],ft=0,wn=null,At=1,Lt="";function fn(e,t){In[$n++]=Rs,In[$n++]=Ts,Ts=e,Rs=t}function Vc(e,t,n){dt[ft++]=At,dt[ft++]=Lt,dt[ft++]=wn,wn=e;var r=At;e=Lt;var s=32-Ct(r)-1;r&=~(1<<s),n+=1;var o=32-Ct(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,At=1<<32-Ct(t)+s|n<<s|r,Lt=o+e}else At=1<<o|n<<s|r,Lt=e}function Xl(e){e.return!==null&&(fn(e,1),Vc(e,1,0))}function Yl(e){for(;e===Ts;)Ts=In[--$n],In[$n]=null,Rs=In[--$n],In[$n]=null;for(;e===wn;)wn=dt[--ft],dt[ft]=null,Lt=dt[--ft],dt[ft]=null,At=dt[--ft],dt[ft]=null}var lt=null,ot=null,ke=!1,St=null;function Hc(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:At,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ot=null,!0):!1;default:return!1}}function al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function il(e){if(ke){var t=ot;if(t){var n=t;if(!si(e,t)){if(al(e))throw Error(G(418));t=en(n.nextSibling);var r=lt;t&&si(e,t)?Hc(r,n):(e.flags=e.flags&-4097|2,ke=!1,lt=e)}}else{if(al(e))throw Error(G(418));e.flags=e.flags&-4097|2,ke=!1,lt=e}}}function oi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function ns(e){if(e!==lt)return!1;if(!ke)return oi(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rl(e.type,e.memoizedProps)),t&&(t=ot)){if(al(e))throw Wc(),Error(G(418));for(;t;)Hc(e,t),t=en(t.nextSibling)}if(oi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?en(e.stateNode.nextSibling):null;return!0}function Wc(){for(var e=ot;e;)e=en(e.nextSibling)}function Xn(){ot=lt=null,ke=!1}function Ql(e){St===null?St=[e]:St.push(e)}var Kf=Gt.ReactCurrentBatchConfig;function ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=s.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function rs(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function li(e){var t=e._init;return t(e._payload)}function Xc(e){function t(g,u){if(e){var y=g.deletions;y===null?(g.deletions=[u],g.flags|=16):y.push(u)}}function n(g,u){if(!e)return null;for(;u!==null;)t(g,u),u=u.sibling;return null}function r(g,u){for(g=new Map;u!==null;)u.key!==null?g.set(u.key,u):g.set(u.index,u),u=u.sibling;return g}function s(g,u){return g=sn(g,u),g.index=0,g.sibling=null,g}function o(g,u,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<u?(g.flags|=2,u):y):(g.flags|=2,u)):(g.flags|=1048576,u)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,u,y,S){return u===null||u.tag!==6?(u=To(y,g.mode,S),u.return=g,u):(u=s(u,y),u.return=g,u)}function c(g,u,y,S){var E=y.type;return E===bn?p(g,u,y.props.children,S,y.key):u!==null&&(u.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ht&&li(E)===u.type)?(S=s(u,y.props),S.ref=ar(g,u,y),S.return=g,S):(S=ws(y.type,y.key,y.props,null,g.mode,S),S.ref=ar(g,u,y),S.return=g,S)}function d(g,u,y,S){return u===null||u.tag!==4||u.stateNode.containerInfo!==y.containerInfo||u.stateNode.implementation!==y.implementation?(u=Ro(y,g.mode,S),u.return=g,u):(u=s(u,y.children||[]),u.return=g,u)}function p(g,u,y,S,E){return u===null||u.tag!==7?(u=xn(y,g.mode,S,E),u.return=g,u):(u=s(u,y),u.return=g,u)}function x(g,u,y){if(typeof u=="string"&&u!==""||typeof u=="number")return u=To(""+u,g.mode,y),u.return=g,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Wr:return y=ws(u.type,u.key,u.props,null,g.mode,y),y.ref=ar(g,null,u),y.return=g,y;case Mn:return u=Ro(u,g.mode,y),u.return=g,u;case Ht:var S=u._init;return x(g,S(u._payload),y)}if(dr(u)||nr(u))return u=xn(u,g.mode,y,null),u.return=g,u;rs(g,u)}return null}function m(g,u,y,S){var E=u!==null?u.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:i(g,u,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wr:return y.key===E?c(g,u,y,S):null;case Mn:return y.key===E?d(g,u,y,S):null;case Ht:return E=y._init,m(g,u,E(y._payload),S)}if(dr(y)||nr(y))return E!==null?null:p(g,u,y,S,null);rs(g,y)}return null}function b(g,u,y,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,i(u,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wr:return g=g.get(S.key===null?y:S.key)||null,c(u,g,S,E);case Mn:return g=g.get(S.key===null?y:S.key)||null,d(u,g,S,E);case Ht:var M=S._init;return b(g,u,y,M(S._payload),E)}if(dr(S)||nr(S))return g=g.get(y)||null,p(u,g,S,E,null);rs(u,S)}return null}function C(g,u,y,S){for(var E=null,M=null,B=u,H=u=0,ce=null;B!==null&&H<y.length;H++){B.index>H?(ce=B,B=null):ce=B.sibling;var W=m(g,B,y[H],S);if(W===null){B===null&&(B=ce);break}e&&B&&W.alternate===null&&t(g,B),u=o(W,u,H),M===null?E=W:M.sibling=W,M=W,B=ce}if(H===y.length)return n(g,B),ke&&fn(g,H),E;if(B===null){for(;H<y.length;H++)B=x(g,y[H],S),B!==null&&(u=o(B,u,H),M===null?E=B:M.sibling=B,M=B);return ke&&fn(g,H),E}for(B=r(g,B);H<y.length;H++)ce=b(B,g,H,y[H],S),ce!==null&&(e&&ce.alternate!==null&&B.delete(ce.key===null?H:ce.key),u=o(ce,u,H),M===null?E=ce:M.sibling=ce,M=ce);return e&&B.forEach(function(ye){return t(g,ye)}),ke&&fn(g,H),E}function k(g,u,y,S){var E=nr(y);if(typeof E!="function")throw Error(G(150));if(y=E.call(y),y==null)throw Error(G(151));for(var M=E=null,B=u,H=u=0,ce=null,W=y.next();B!==null&&!W.done;H++,W=y.next()){B.index>H?(ce=B,B=null):ce=B.sibling;var ye=m(g,B,W.value,S);if(ye===null){B===null&&(B=ce);break}e&&B&&ye.alternate===null&&t(g,B),u=o(ye,u,H),M===null?E=ye:M.sibling=ye,M=ye,B=ce}if(W.done)return n(g,B),ke&&fn(g,H),E;if(B===null){for(;!W.done;H++,W=y.next())W=x(g,W.value,S),W!==null&&(u=o(W,u,H),M===null?E=W:M.sibling=W,M=W);return ke&&fn(g,H),E}for(B=r(g,B);!W.done;H++,W=y.next())W=b(B,g,H,W.value,S),W!==null&&(e&&W.alternate!==null&&B.delete(W.key===null?H:W.key),u=o(W,u,H),M===null?E=W:M.sibling=W,M=W);return e&&B.forEach(function(ne){return t(g,ne)}),ke&&fn(g,H),E}function v(g,u,y,S){if(typeof y=="object"&&y!==null&&y.type===bn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wr:e:{for(var E=y.key,M=u;M!==null;){if(M.key===E){if(E=y.type,E===bn){if(M.tag===7){n(g,M.sibling),u=s(M,y.props.children),u.return=g,g=u;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ht&&li(E)===M.type){n(g,M.sibling),u=s(M,y.props),u.ref=ar(g,M,y),u.return=g,g=u;break e}n(g,M);break}else t(g,M);M=M.sibling}y.type===bn?(u=xn(y.props.children,g.mode,S,y.key),u.return=g,g=u):(S=ws(y.type,y.key,y.props,null,g.mode,S),S.ref=ar(g,u,y),S.return=g,g=S)}return a(g);case Mn:e:{for(M=y.key;u!==null;){if(u.key===M)if(u.tag===4&&u.stateNode.containerInfo===y.containerInfo&&u.stateNode.implementation===y.implementation){n(g,u.sibling),u=s(u,y.children||[]),u.return=g,g=u;break e}else{n(g,u);break}else t(g,u);u=u.sibling}u=Ro(y,g.mode,S),u.return=g,g=u}return a(g);case Ht:return M=y._init,v(g,u,M(y._payload),S)}if(dr(y))return C(g,u,y,S);if(nr(y))return k(g,u,y,S);rs(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,u!==null&&u.tag===6?(n(g,u.sibling),u=s(u,y),u.return=g,g=u):(n(g,u),u=To(y,g.mode,S),u.return=g,g=u),a(g)):n(g,u)}return v}var Yn=Xc(!0),Yc=Xc(!1),Is=un(null),$s=null,An=null,Kl=null;function Jl(){Kl=An=$s=null}function ql(e){var t=Is.current;_e(Is),e._currentValue=t}function cl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gn(e,t){$s=e,Kl=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if($s===null)throw Error(G(308));An=e,$s.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var mn=null;function Zl(e){mn===null?mn=[e]:mn.push(e)}function Qc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Zl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Bt(e,n)}return s=r.interleaved,s===null?(t.next=t,Zl(r)):(t.next=s.next,s.next=t),r.interleaved=t,Bt(e,n)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zl(e,n)}}function ai(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function As(e,t,n,r){var s=e.updateQueue;Wt=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==a&&(i===null?p.firstBaseUpdate=d:i.next=d,p.lastBaseUpdate=c))}if(o!==null){var x=s.baseState;a=0,p=d=c=null,i=o;do{var m=i.lane,b=i.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:b,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var C=e,k=i;switch(m=t,b=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){x=C.call(b,x,m);break e}x=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,m=typeof C=="function"?C.call(b,x,m):C,m==null)break e;x=Pe({},x,m);break e;case 2:Wt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[i]:m.push(i))}else b={eventTime:b,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(d=p=b,c=x):p=p.next=b,a|=m;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;m=i,i=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(c=x),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Sn|=a,e.lanes=a,e.memoizedState=x}}function ii(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Vr={},Tt=un(Vr),Ir=un(Vr),$r=un(Vr);function gn(e){if(e===Vr)throw Error(G(174));return e}function ta(e,t){switch(je($r,t),je(Ir,e),je(Tt,Vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Go(t,e)}_e(Tt),je(Tt,t)}function Qn(){_e(Tt),_e(Ir),_e($r)}function Jc(e){gn($r.current);var t=gn(Tt.current),n=Go(t,e.type);t!==n&&(je(Ir,e),je(Tt,n))}function na(e){Ir.current===e&&(_e(Tt),_e(Ir))}var De=un(0);function Ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ko=[];function ra(){for(var e=0;e<ko.length;e++)ko[e]._workInProgressVersionPrimary=null;ko.length=0}var ms=Gt.ReactCurrentDispatcher,Mo=Gt.ReactCurrentBatchConfig,Nn=0,Ee=null,Ae=null,Oe=null,Os=!1,vr=!1,Ar=0,Jf=0;function Ge(){throw Error(G(321))}function sa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,s,o){if(Nn=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=e===null||e.memoizedState===null?tp:np,e=n(r,s),vr){o=0;do{if(vr=!1,Ar=0,25<=o)throw Error(G(301));o+=1,Oe=Ae=null,t.updateQueue=null,ms.current=rp,e=n(r,s)}while(vr)}if(ms.current=zs,t=Ae!==null&&Ae.next!==null,Nn=0,Oe=Ae=Ee=null,Os=!1,t)throw Error(G(300));return e}function la(){var e=Ar!==0;return Ar=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function yt(){if(Ae===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Oe===null?Ee.memoizedState:Oe.next;if(t!==null)Oe=t,Ae=e;else{if(e===null)throw Error(G(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Lr(e,t){return typeof t=="function"?t(e):t}function bo(e){var t=yt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Ae,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=a=null,c=null,d=o;do{var p=d.lane;if((Nn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var x={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=x,a=r):c=c.next=x,Ee.lanes|=p,Sn|=p}d=d.next}while(d!==null&&d!==o);c===null?a=r:c.next=i,kt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ee.lanes|=o,Sn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=yt(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);kt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function qc(){}function Zc(e,t){var n=Ee,r=yt(),s=t(),o=!kt(r.memoizedState,s);if(o&&(r.memoizedState=s,Ze=!0),r=r.queue,aa(nu.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Or(9,tu.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(G(349));Nn&30||eu(n,t,s)}return s}function eu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tu(e,t,n,r){t.value=n,t.getSnapshot=r,ru(t)&&su(e)}function nu(e,t,n){return n(function(){ru(t)&&su(e)})}function ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function su(e){var t=Bt(e,1);t!==null&&_t(t,e,1,-1)}function ci(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,Ee,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ou(){return yt().memoizedState}function gs(e,t,n,r){var s=Dt();Ee.flags|=e,s.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function qs(e,t,n,r){var s=yt();r=r===void 0?null:r;var o=void 0;if(Ae!==null){var a=Ae.memoizedState;if(o=a.destroy,r!==null&&sa(r,a.deps)){s.memoizedState=Or(t,n,o,r);return}}Ee.flags|=e,s.memoizedState=Or(1|t,n,o,r)}function ui(e,t){return gs(8390656,8,e,t)}function aa(e,t){return qs(2048,8,e,t)}function lu(e,t){return qs(4,2,e,t)}function au(e,t){return qs(4,4,e,t)}function iu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cu(e,t,n){return n=n!=null?n.concat([e]):null,qs(4,4,iu.bind(null,t,e),n)}function ia(){}function uu(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function du(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fu(e,t,n){return Nn&21?(kt(n,t)||(n=yc(),Ee.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function qf(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Mo.transition;Mo.transition={};try{e(!1),t()}finally{we=n,Mo.transition=r}}function pu(){return yt().memoizedState}function Zf(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hu(e))mu(t,n);else if(n=Qc(e,t,n,r),n!==null){var s=Ye();_t(n,e,r,s),gu(n,t,r)}}function ep(e,t,n){var r=rn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hu(e))mu(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(s.hasEagerState=!0,s.eagerState=i,kt(i,a)){var c=t.interleaved;c===null?(s.next=s,Zl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Qc(e,t,s,r),n!==null&&(s=Ye(),_t(n,e,r,s),gu(n,t,r))}}function hu(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function mu(e,t){vr=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zl(e,n)}}var zs={readContext:gt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},tp={readContext:gt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:ui,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gs(4194308,4,iu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return gs(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zf.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:ci,useDebugValue:ia,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=ci(!1),t=e[0];return e=qf.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=Dt();if(ke){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),ze===null)throw Error(G(349));Nn&30||eu(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ui(nu.bind(null,r,o,e),[e]),r.flags|=2048,Or(9,tu.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dt(),t=ze.identifierPrefix;if(ke){var n=Lt,r=At;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},np={readContext:gt,useCallback:uu,useContext:gt,useEffect:aa,useImperativeHandle:cu,useInsertionEffect:lu,useLayoutEffect:au,useMemo:du,useReducer:bo,useRef:ou,useState:function(){return bo(Lr)},useDebugValue:ia,useDeferredValue:function(e){var t=yt();return fu(t,Ae.memoizedState,e)},useTransition:function(){var e=bo(Lr)[0],t=yt().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Zc,useId:pu,unstable_isNewReconciler:!1},rp={readContext:gt,useCallback:uu,useContext:gt,useEffect:aa,useImperativeHandle:cu,useInsertionEffect:lu,useLayoutEffect:au,useMemo:du,useReducer:Do,useRef:ou,useState:function(){return Do(Lr)},useDebugValue:ia,useDeferredValue:function(e){var t=yt();return Ae===null?t.memoizedState=e:fu(t,Ae.memoizedState,e)},useTransition:function(){var e=Do(Lr)[0],t=yt().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Zc,useId:pu,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ul(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zs={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=rn(e),o=Ot(r,s);o.payload=t,n!=null&&(o.callback=n),t=tn(e,o,s),t!==null&&(_t(t,e,s,r),hs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=rn(e),o=Ot(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=tn(e,o,s),t!==null&&(_t(t,e,s,r),hs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=rn(e),s=Ot(n,r);s.tag=2,t!=null&&(s.callback=t),t=tn(e,s,r),t!==null&&(_t(t,e,r,n),hs(t,e,r))}};function di(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Er(n,r)||!Er(s,o):!0}function yu(e,t,n){var r=!1,s=ln,o=t.contextType;return typeof o=="object"&&o!==null?o=gt(o):(s=tt(t)?vn:We.current,r=t.contextTypes,o=(r=r!=null)?Wn(e,s):ln),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function fi(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function dl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ea(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gt(o):(o=tt(t)?vn:We.current,s.context=Wn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ul(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zs.enqueueReplaceState(s,s.state,null),As(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=Ed(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Eo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function xu(e,t,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,Sl=r),fl(e,t)},n}function vu(e,t,n){n=Ot(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fl(e,t),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function pi(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=xp.bind(null,e,t,n),t.then(e,e))}function hi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mi(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ot(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var op=Gt.ReactCurrentOwner,Ze=!1;function Xe(e,t,n,r){t.child=e===null?Yc(t,null,n,r):Yn(t,e.child,n,r)}function gi(e,t,n,r,s){n=n.render;var o=t.ref;return Gn(t,s),r=oa(e,t,n,r,o,s),n=la(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ke&&n&&Xl(t),t.flags|=1,Xe(e,t,r,s),t.child)}function yi(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!ga(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,wu(e,t,o,r,s)):(e=ws(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Er,n(a,r)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=sn(o,r),e.ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Er(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return pl(e,t,n,r,s)}function Nu(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(On,st),st|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(On,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(On,st),st|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,je(On,st),st|=r;return Xe(e,t,s,n),t.child}function Su(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pl(e,t,n,r,s){var o=tt(n)?vn:We.current;return o=Wn(t,o),Gn(t,s),n=oa(e,t,n,r,o,s),r=la(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ke&&r&&Xl(t),t.flags|=1,Xe(e,t,n,s),t.child)}function xi(e,t,n,r,s){if(tt(n)){var o=!0;Ps(t)}else o=!1;if(Gn(t,s),t.stateNode===null)ys(e,t),yu(t,n,r),dl(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=gt(d):(d=tt(n)?vn:We.current,d=Wn(t,d));var p=n.getDerivedStateFromProps,x=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==d)&&fi(t,a,r,d),Wt=!1;var m=t.memoizedState;a.state=m,As(t,r,a,s),c=t.memoizedState,i!==r||m!==c||et.current||Wt?(typeof p=="function"&&(ul(t,n,p,r),c=t.memoizedState),(i=Wt||di(t,n,i,r,m,c,d))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Kc(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:wt(t.type,i),a.props=d,x=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=tt(n)?vn:We.current,c=Wn(t,c));var b=n.getDerivedStateFromProps;(p=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==x||m!==c)&&fi(t,a,r,c),Wt=!1,m=t.memoizedState,a.state=m,As(t,r,a,s);var C=t.memoizedState;i!==x||m!==C||et.current||Wt?(typeof b=="function"&&(ul(t,n,b,r),C=t.memoizedState),(d=Wt||di(t,n,d,r,m,C,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return hl(e,t,n,r,o,s)}function hl(e,t,n,r,s,o){Su(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&ri(t,n,!1),Ft(e,t,o);r=t.stateNode,op.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yn(t,e.child,null,o),t.child=Yn(t,null,i,o)):Xe(e,t,i,o),t.memoizedState=r.state,s&&ri(t,n,!0),t.child}function ju(e){var t=e.stateNode;t.pendingContext?ni(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ni(e,t.context,!1),ta(e,t.containerInfo)}function vi(e,t,n,r,s){return Xn(),Ql(s),t.flags|=256,Xe(e,t,n,r),t.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cu(e,t,n){var r=t.pendingProps,s=De.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(De,s&1),e===null)return il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=no(a,r,0,null),e=xn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gl(n),t.memoizedState=ml,e):ca(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return lp(e,t,a,r,i,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=sn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=sn(i,o):(o=xn(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?gl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ml,r}return o=e.child,e=o.sibling,r=sn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ca(e,t){return t=no({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ss(e,t,n,r){return r!==null&&Ql(r),Yn(t,e.child,null,n),e=ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lp(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Eo(Error(G(422))),ss(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=no({mode:"visible",children:r.children},s,0,null),o=xn(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Yn(t,e.child,null,a),t.child.memoizedState=gl(a),t.memoizedState=ml,o);if(!(t.mode&1))return ss(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(G(419)),r=Eo(o,r,void 0),ss(e,t,a,r)}if(i=(a&e.childLanes)!==0,Ze||i){if(r=ze,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Bt(e,s),_t(r,e,s,-1))}return ma(),r=Eo(Error(G(421))),ss(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vp.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ot=en(s.nextSibling),lt=t,ke=!0,St=null,e!==null&&(dt[ft++]=At,dt[ft++]=Lt,dt[ft++]=wn,At=e.id,Lt=e.overflow,wn=t),t=ca(t,r.children),t.flags|=4096,t)}function wi(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cl(e.return,t,n)}function Po(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function _u(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Xe(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wi(e,n,t);else if(e.tag===19)wi(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(De,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ls(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Po(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ls(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Po(t,!0,n,null,o);break;case"together":Po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ap(e,t,n){switch(t.tag){case 3:ju(t),Xn();break;case 5:Jc(t);break;case 1:tt(t.type)&&Ps(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(Is,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?Cu(e,t,n):(je(De,De.current&1),e=Ft(e,t,n),e!==null?e.sibling:null);je(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _u(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,Nu(e,t,n)}return Ft(e,t,n)}var ku,yl,Mu,bu;ku=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yl=function(){};Mu=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,gn(Tt.current);var o=null;switch(n){case"input":s=zo(e,s),r=zo(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=Fo(e,s),r=Fo(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ds)}Vo(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var i=s[d];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jr.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(i=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ce("scroll",e),o||i===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};bu=function(e,t,n,r){n!==r&&(t.flags|=4)};function ir(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ip(e,t,n){var r=t.pendingProps;switch(Yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return tt(t.type)&&Es(),Ve(t),null;case 3:return r=t.stateNode,Qn(),_e(et),_e(We),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(_l(St),St=null))),yl(e,t),Ve(t),null;case 5:na(t);var s=gn($r.current);if(n=t.type,e!==null&&t.stateNode!=null)Mu(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Ve(t),null}if(e=gn(Tt.current),ns(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Et]=t,r[Rr]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<pr.length;s++)Ce(pr[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Da(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":Pa(r,o),Ce("invalid",r)}Vo(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&ts(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&ts(r.textContent,i,e),s=["children",""+i]):jr.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Xr(r),Ea(r,o,!0);break;case"textarea":Xr(r),Ta(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ds)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Et]=t,e[Rr]=r,ku(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ho(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),s=r;break;case"iframe":case"object":case"embed":Ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<pr.length;s++)Ce(pr[s],e);s=r;break;case"source":Ce("error",e),s=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=r;break;case"details":Ce("toggle",e),s=r;break;case"input":Da(e,r),s=zo(e,r),Ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":Pa(e,r),s=Fo(e,r),Ce("invalid",e);break;default:s=r}Vo(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?oc(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rc(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cr(e,c):typeof c=="number"&&Cr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",e):c!=null&&Rl(e,o,c,a))}switch(n){case"input":Xr(e),Ea(e,r,!1);break;case"textarea":Xr(e),Ta(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?zn(e,!!r.multiple,o,!1):r.defaultValue!=null&&zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)bu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=gn($r.current),gn(Tt.current),ns(t)){if(r=t.stateNode,n=t.memoizedProps,r[Et]=t,(o=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ts(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=t,t.stateNode=r}return Ve(t),null;case 13:if(_e(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ot!==null&&t.mode&1&&!(t.flags&128))Wc(),Xn(),t.flags|=98560,o=!1;else if(o=ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[Et]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else St!==null&&(_l(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Le===0&&(Le=3):ma())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Qn(),yl(e,t),e===null&&Pr(t.stateNode.containerInfo),Ve(t),null;case 10:return ql(t.type._context),Ve(t),null;case 17:return tt(t.type)&&Es(),Ve(t),null;case 19:if(_e(De),o=t.memoizedState,o===null)return Ve(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ir(o,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ls(e),a!==null){for(t.flags|=128,ir(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>Jn&&(t.flags|=128,r=!0,ir(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ls(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ir(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ke)return Ve(t),null}else 2*Ie()-o.renderingStartTime>Jn&&n!==1073741824&&(t.flags|=128,r=!0,ir(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,n=De.current,je(De,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return ha(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function cp(e,t){switch(Yl(t),t.tag){case 1:return tt(t.type)&&Es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),_e(et),_e(We),ra(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return na(t),null;case 13:if(_e(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(De),null;case 4:return Qn(),null;case 10:return ql(t.type._context),null;case 22:case 23:return ha(),null;case 24:return null;default:return null}}var os=!1,He=!1,up=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ln(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function xl(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Ni=!1;function dp(e,t){if(tl=ks,e=Rc(),Wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,d=0,p=0,x=e,m=null;t:for(;;){for(var b;x!==n||s!==0&&x.nodeType!==3||(i=a+s),x!==o||r!==0&&x.nodeType!==3||(c=a+r),x.nodeType===3&&(a+=x.nodeValue.length),(b=x.firstChild)!==null;)m=x,x=b;for(;;){if(x===e)break t;if(m===n&&++d===s&&(i=a),m===o&&++p===r&&(c=a),(b=x.nextSibling)!==null)break;x=m,m=x.parentNode}x=b}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nl={focusedElem:e,selectionRange:n},ks=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,v=C.memoizedState,g=t.stateNode,u=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:wt(t.type,k),v);g.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){Te(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return C=Ni,Ni=!1,C}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&xl(t,n,o)}s=s.next}while(s!==r)}}function eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Du(e){var t=e.alternate;t!==null&&(e.alternate=null,Du(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Rr],delete t[ol],delete t[Xf],delete t[Yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eu(e){return e.tag===5||e.tag===3||e.tag===4}function Si(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ds));else if(r!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}function Nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}var Ue=null,Nt=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Pu(e,t,n),n=n.sibling}function Pu(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ws,n)}catch{}switch(n.tag){case 5:He||Ln(n,t);case 6:var r=Ue,s=Nt;Ue=null,Vt(e,t,n),Ue=r,Nt=s,Ue!==null&&(Nt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Nt?(e=Ue,n=n.stateNode,e.nodeType===8?Co(e.parentNode,n):e.nodeType===1&&Co(e,n),br(e)):Co(Ue,n.stateNode));break;case 4:r=Ue,s=Nt,Ue=n.stateNode.containerInfo,Nt=!0,Vt(e,t,n),Ue=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&xl(n,t,a),s=s.next}while(s!==r)}Vt(e,t,n);break;case 1:if(!He&&(Ln(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Te(n,t,i)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Vt(e,t,n),He=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function ji(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new up),t.forEach(function(r){var s=wp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ue=i.stateNode,Nt=!1;break e;case 3:Ue=i.stateNode.containerInfo,Nt=!0;break e;case 4:Ue=i.stateNode.containerInfo,Nt=!0;break e}i=i.return}if(Ue===null)throw Error(G(160));Pu(o,a,s),Ue=null,Nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Te(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tu(t,e),t=t.sibling}function Tu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Mt(e),r&4){try{wr(3,e,e.return),eo(3,e)}catch(k){Te(e,e.return,k)}try{wr(5,e,e.return)}catch(k){Te(e,e.return,k)}}break;case 1:vt(t,e),Mt(e),r&512&&n!==null&&Ln(n,n.return);break;case 5:if(vt(t,e),Mt(e),r&512&&n!==null&&Ln(n,n.return),e.flags&32){var s=e.stateNode;try{Cr(s,"")}catch(k){Te(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&ec(s,o),Ho(i,a);var d=Ho(i,o);for(a=0;a<c.length;a+=2){var p=c[a],x=c[a+1];p==="style"?oc(s,x):p==="dangerouslySetInnerHTML"?rc(s,x):p==="children"?Cr(s,x):Rl(s,p,x,d)}switch(i){case"input":Uo(s,o);break;case"textarea":tc(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?zn(s,!!o.multiple,b,!1):m!==!!o.multiple&&(o.defaultValue!=null?zn(s,!!o.multiple,o.defaultValue,!0):zn(s,!!o.multiple,o.multiple?[]:"",!1))}s[Rr]=o}catch(k){Te(e,e.return,k)}}break;case 6:if(vt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(k){Te(e,e.return,k)}}break;case 3:if(vt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(k){Te(e,e.return,k)}break;case 4:vt(t,e),Mt(e);break;case 13:vt(t,e),Mt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(fa=Ie())),r&4&&ji(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(He=(d=He)||p,vt(t,e),He=d):vt(t,e),Mt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(J=e,p=e.child;p!==null;){for(x=J=p;J!==null;){switch(m=J,b=m.child,m.tag){case 0:case 11:case 14:case 15:wr(4,m,m.return);break;case 1:Ln(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(k){Te(r,n,k)}}break;case 5:Ln(m,m.return);break;case 22:if(m.memoizedState!==null){_i(x);continue}}b!==null?(b.return=m,J=b):_i(x)}p=p.sibling}e:for(p=null,x=e;;){if(x.tag===5){if(p===null){p=x;try{s=x.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=x.stateNode,c=x.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=sc("display",a))}catch(k){Te(e,e.return,k)}}}else if(x.tag===6){if(p===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(k){Te(e,e.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;p===x&&(p=null),x=x.return}p===x&&(p=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:vt(t,e),Mt(e),r&4&&ji(e);break;case 21:break;default:vt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Eu(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cr(s,""),r.flags&=-33);var o=Si(e);Nl(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Si(e);wl(e,i,a);break;default:throw Error(G(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e,t,n){J=e,Ru(e)}function Ru(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var s=J,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||os;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||He;i=os;var d=He;if(os=a,(He=c)&&!d)for(J=s;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?ki(s):c!==null?(c.return=a,J=c):ki(s);for(;o!==null;)J=o,Ru(o),o=o.sibling;J=s,os=i,He=d}Ci(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,J=o):Ci(e)}}function Ci(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||eo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ii(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ii(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var x=p.dehydrated;x!==null&&br(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}He||t.flags&512&&vl(t)}catch(m){Te(t,t.return,m)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function _i(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function ki(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eo(4,t)}catch(c){Te(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Te(t,s,c)}}var o=t.return;try{vl(t)}catch(c){Te(t,o,c)}break;case 5:var a=t.return;try{vl(t)}catch(c){Te(t,a,c)}}}catch(c){Te(t,t.return,c)}if(t===e){J=null;break}var i=t.sibling;if(i!==null){i.return=t.return,J=i;break}J=t.return}}var pp=Math.ceil,Us=Gt.ReactCurrentDispatcher,ua=Gt.ReactCurrentOwner,ht=Gt.ReactCurrentBatchConfig,ge=0,ze=null,$e=null,Be=0,st=0,On=un(0),Le=0,zr=null,Sn=0,to=0,da=0,Nr=null,qe=null,fa=0,Jn=1/0,It=null,Bs=!1,Sl=null,nn=null,ls=!1,Kt=null,Fs=0,Sr=0,jl=null,xs=-1,vs=0;function Ye(){return ge&6?Ie():xs!==-1?xs:xs=Ie()}function rn(e){return e.mode&1?ge&2&&Be!==0?Be&-Be:Kf.transition!==null?(vs===0&&(vs=yc()),vs):(e=we,e!==0||(e=window.event,e=e===void 0?16:Cc(e.type)),e):1}function _t(e,t,n,r){if(50<Sr)throw Sr=0,jl=null,Error(G(185));Br(e,n,r),(!(ge&2)||e!==ze)&&(e===ze&&(!(ge&2)&&(to|=n),Le===4&&Yt(e,Be)),nt(e,r),n===1&&ge===0&&!(t.mode&1)&&(Jn=Ie()+500,Js&&dn()))}function nt(e,t){var n=e.callbackNode;Qd(e,t);var r=_s(e,e===ze?Be:0);if(r===0)n!==null&&$a(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$a(n),t===1)e.tag===0?Qf(Mi.bind(null,e)):Gc(Mi.bind(null,e)),Hf(function(){!(ge&6)&&dn()}),n=null;else{switch(xc(r)){case 1:n=Ol;break;case 4:n=mc;break;case 16:n=Cs;break;case 536870912:n=gc;break;default:n=Cs}n=Bu(n,Iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iu(e,t){if(xs=-1,vs=0,ge&6)throw Error(G(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var r=_s(e,e===ze?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gs(e,r);else{t=r;var s=ge;ge|=2;var o=Au();(ze!==e||Be!==t)&&(It=null,Jn=Ie()+500,yn(e,t));do try{gp();break}catch(i){$u(e,i)}while(!0);Jl(),Us.current=o,ge=s,$e!==null?t=0:(ze=null,Be=0,t=Le)}if(t!==0){if(t===2&&(s=Ko(e),s!==0&&(r=s,t=Cl(e,s))),t===1)throw n=zr,yn(e,0),Yt(e,r),nt(e,Ie()),n;if(t===6)Yt(e,r);else{if(s=e.current.alternate,!(r&30)&&!hp(s)&&(t=Gs(e,r),t===2&&(o=Ko(e),o!==0&&(r=o,t=Cl(e,o))),t===1))throw n=zr,yn(e,0),Yt(e,r),nt(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:pn(e,qe,It);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=fa+500-Ie(),10<t)){if(_s(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sl(pn.bind(null,e,qe,It),t);break}pn(e,qe,It);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ct(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pp(r/1960))-r,10<r){e.timeoutHandle=sl(pn.bind(null,e,qe,It),r);break}pn(e,qe,It);break;case 5:pn(e,qe,It);break;default:throw Error(G(329))}}}return nt(e,Ie()),e.callbackNode===n?Iu.bind(null,e):null}function Cl(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=Gs(e,t),e!==2&&(t=qe,qe=n,t!==null&&_l(t)),e}function _l(e){qe===null?qe=e:qe.push.apply(qe,e)}function hp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!kt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~da,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function Mi(e){if(ge&6)throw Error(G(327));Vn();var t=_s(e,0);if(!(t&1))return nt(e,Ie()),null;var n=Gs(e,t);if(e.tag!==0&&n===2){var r=Ko(e);r!==0&&(t=r,n=Cl(e,r))}if(n===1)throw n=zr,yn(e,0),Yt(e,t),nt(e,Ie()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pn(e,qe,It),nt(e,Ie()),null}function pa(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(Jn=Ie()+500,Js&&dn())}}function jn(e){Kt!==null&&Kt.tag===0&&!(ge&6)&&Vn();var t=ge;ge|=1;var n=ht.transition,r=we;try{if(ht.transition=null,we=1,e)return e()}finally{we=r,ht.transition=n,ge=t,!(ge&6)&&dn()}}function ha(){st=On.current,_e(On)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vf(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Es();break;case 3:Qn(),_e(et),_e(We),ra();break;case 5:na(r);break;case 4:Qn();break;case 13:_e(De);break;case 19:_e(De);break;case 10:ql(r.type._context);break;case 22:case 23:ha()}n=n.return}if(ze=e,$e=e=sn(e.current,null),Be=st=t,Le=0,zr=null,da=to=Sn=0,qe=Nr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}mn=null}return e}function $u(e,t){do{var n=$e;try{if(Jl(),ms.current=zs,Os){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Os=!1}if(Nn=0,Oe=Ae=Ee=null,vr=!1,Ar=0,ua.current=null,n===null||n.return===null){Le=1,zr=t,$e=null;break}e:{var o=e,a=n.return,i=n,c=t;if(t=Be,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=i,x=p.tag;if(!(p.mode&1)&&(x===0||x===11||x===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=hi(a);if(b!==null){b.flags&=-257,mi(b,a,i,o,t),b.mode&1&&pi(o,d,t),t=b,c=d;var C=t.updateQueue;if(C===null){var k=new Set;k.add(c),t.updateQueue=k}else C.add(c);break e}else{if(!(t&1)){pi(o,d,t),ma();break e}c=Error(G(426))}}else if(ke&&i.mode&1){var v=hi(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),mi(v,a,i,o,t),Ql(Kn(c,i));break e}}o=c=Kn(c,i),Le!==4&&(Le=2),Nr===null?Nr=[o]:Nr.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=xu(o,c,t);ai(o,g);break e;case 1:i=c;var u=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof u.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(nn===null||!nn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=vu(o,i,t);ai(o,S);break e}}o=o.return}while(o!==null)}Ou(n)}catch(E){t=E,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Au(){var e=Us.current;return Us.current=zs,e===null?zs:e}function ma(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(Sn&268435455)&&!(to&268435455)||Yt(ze,Be)}function Gs(e,t){var n=ge;ge|=2;var r=Au();(ze!==e||Be!==t)&&(It=null,yn(e,t));do try{mp();break}catch(s){$u(e,s)}while(!0);if(Jl(),ge=n,Us.current=r,$e!==null)throw Error(G(261));return ze=null,Be=0,Le}function mp(){for(;$e!==null;)Lu($e)}function gp(){for(;$e!==null&&!Ud();)Lu($e)}function Lu(e){var t=Uu(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Ou(e):$e=t,ua.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cp(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,$e=null;return}}else if(n=ip(n,t,st),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Le===0&&(Le=5)}function pn(e,t,n){var r=we,s=ht.transition;try{ht.transition=null,we=1,yp(e,t,n,r)}finally{ht.transition=s,we=r}return null}function yp(e,t,n,r){do Vn();while(Kt!==null);if(ge&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kd(e,o),e===ze&&($e=ze=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,Bu(Cs,function(){return Vn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ht.transition,ht.transition=null;var a=we;we=1;var i=ge;ge|=4,ua.current=null,dp(e,n),Tu(n,e),Lf(nl),ks=!!tl,nl=tl=null,e.current=n,fp(n),Bd(),ge=i,we=a,ht.transition=o}else e.current=n;if(ls&&(ls=!1,Kt=e,Fs=s),o=e.pendingLanes,o===0&&(nn=null),Vd(n.stateNode),nt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bs)throw Bs=!1,e=Sl,Sl=null,e;return Fs&1&&e.tag!==0&&Vn(),o=e.pendingLanes,o&1?e===jl?Sr++:(Sr=0,jl=e):Sr=0,dn(),null}function Vn(){if(Kt!==null){var e=xc(Fs),t=ht.transition,n=we;try{if(ht.transition=null,we=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,Fs=0,ge&6)throw Error(G(331));var s=ge;for(ge|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(J=d;J!==null;){var p=J;switch(p.tag){case 0:case 11:case 15:wr(8,p,o)}var x=p.child;if(x!==null)x.return=p,J=x;else for(;J!==null;){p=J;var m=p.sibling,b=p.return;if(Du(p),p===d){J=null;break}if(m!==null){m.return=b,J=m;break}J=b}}}var C=o.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var v=k.sibling;k.sibling=null,k=v}while(k!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wr(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,J=g;break e}J=o.return}}var u=e.current;for(J=u;J!==null;){a=J;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,J=y;else e:for(a=u;J!==null;){if(i=J,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:eo(9,i)}}catch(E){Te(i,i.return,E)}if(i===a){J=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,J=S;break e}J=i.return}}if(ge=s,dn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ws,e)}catch{}r=!0}return r}finally{we=n,ht.transition=t}}return!1}function bi(e,t,n){t=Kn(n,t),t=xu(e,t,1),e=tn(e,t,1),t=Ye(),e!==null&&(Br(e,1,t),nt(e,t))}function Te(e,t,n){if(e.tag===3)bi(e,e,n);else for(;t!==null;){if(t.tag===3){bi(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){e=Kn(n,e),e=vu(t,e,1),t=tn(t,e,1),e=Ye(),t!==null&&(Br(t,1,e),nt(t,e));break}}t=t.return}}function xp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Be&n)===n&&(Le===4||Le===3&&(Be&130023424)===Be&&500>Ie()-fa?yn(e,0):da|=n),nt(e,t)}function zu(e,t){t===0&&(e.mode&1?(t=Kr,Kr<<=1,!(Kr&130023424)&&(Kr=4194304)):t=1);var n=Ye();e=Bt(e,t),e!==null&&(Br(e,t,n),nt(e,n))}function vp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zu(e,n)}function wp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),zu(e,n)}var Uu;Uu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,ap(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,ke&&t.flags&1048576&&Vc(t,Rs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ys(e,t),e=t.pendingProps;var s=Wn(t,We.current);Gn(t,n),s=oa(null,t,r,e,s,n);var o=la();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,Ps(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ea(t),s.updater=Zs,t.stateNode=s,s._reactInternals=t,dl(t,r,e,n),t=hl(null,t,r,!0,o,n)):(t.tag=0,ke&&o&&Xl(t),Xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Sp(r),e=wt(r,e),s){case 0:t=pl(null,t,r,e,n);break e;case 1:t=xi(null,t,r,e,n);break e;case 11:t=gi(null,t,r,e,n);break e;case 14:t=yi(null,t,r,wt(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),pl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),xi(e,t,r,s,n);case 3:e:{if(ju(t),e===null)throw Error(G(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Kc(e,t),As(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Kn(Error(G(423)),t),t=vi(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(G(424)),t),t=vi(e,t,r,n,s);break e}else for(ot=en(t.stateNode.containerInfo.firstChild),lt=t,ke=!0,St=null,n=Yc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){t=Ft(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Jc(t),e===null&&il(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,rl(r,s)?a=null:o!==null&&rl(r,o)&&(t.flags|=32),Su(e,t),Xe(e,t,a,n),t.child;case 6:return e===null&&il(t),null;case 13:return Cu(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yn(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),gi(e,t,r,s,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,je(Is,r._currentValue),r._currentValue=a,o!==null)if(kt(o.value,a)){if(o.children===s.children&&!et.current){t=Ft(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Ot(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),cl(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(G(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),cl(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gn(t,n),s=gt(s),r=r(s),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,s=wt(r,t.pendingProps),s=wt(r.type,s),yi(e,t,r,s,n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),ys(e,t),t.tag=1,tt(r)?(e=!0,Ps(t)):e=!1,Gn(t,n),yu(t,r,s),dl(t,r,s,n),hl(null,t,r,!0,e,n);case 19:return _u(e,t,n);case 22:return Nu(e,t,n)}throw Error(G(156,t.tag))};function Bu(e,t){return hc(e,t)}function Np(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new Np(e,t,n,r)}function ga(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sp(e){if(typeof e=="function")return ga(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$l)return 11;if(e===Al)return 14}return 2}function sn(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ws(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")ga(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bn:return xn(n.children,s,o,t);case Il:a=8,s|=8;break;case $o:return e=pt(12,n,t,s|2),e.elementType=$o,e.lanes=o,e;case Ao:return e=pt(13,n,t,s),e.elementType=Ao,e.lanes=o,e;case Lo:return e=pt(19,n,t,s),e.elementType=Lo,e.lanes=o,e;case Ji:return no(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qi:a=10;break e;case Ki:a=9;break e;case $l:a=11;break e;case Al:a=14;break e;case Ht:a=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=pt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function xn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function no(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Ji,e.lanes=n,e.stateNode={isHidden:!1},e}function To(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Ro(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ya(e,t,n,r,s,o,a,i,c){return e=new jp(e,t,n,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ea(o),e}function Cp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fu(e){if(!e)return ln;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(tt(n))return Fc(e,n,t)}return t}function Gu(e,t,n,r,s,o,a,i,c){return e=ya(n,r,!0,e,s,o,a,i,c),e.context=Fu(null),n=e.current,r=Ye(),s=rn(n),o=Ot(r,s),o.callback=t??null,tn(n,o,s),e.current.lanes=s,Br(e,s,r),nt(e,r),e}function ro(e,t,n,r){var s=t.current,o=Ye(),a=rn(s);return n=Fu(n),t.context===null?t.context=n:t.pendingContext=n,t=Ot(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tn(s,t,a),e!==null&&(_t(e,s,a,o),hs(e,s,a)),a}function Vs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Di(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xa(e,t){Di(e,t),(e=e.alternate)&&Di(e,t)}function _p(){return null}var Vu=typeof reportError=="function"?reportError:function(e){console.error(e)};function va(e){this._internalRoot=e}so.prototype.render=va.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));ro(e,t,null,null)};so.prototype.unmount=va.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){ro(null,e,null,null)}),t[Ut]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&jc(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ei(){}function kp(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var d=Vs(a);o.call(d)}}var a=Gu(t,r,e,0,null,!1,!1,"",Ei);return e._reactRootContainer=a,e[Ut]=a.current,Pr(e.nodeType===8?e.parentNode:e),jn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var d=Vs(c);i.call(d)}}var c=ya(e,0,!1,null,null,!1,!1,"",Ei);return e._reactRootContainer=c,e[Ut]=c.current,Pr(e.nodeType===8?e.parentNode:e),jn(function(){ro(t,c,n,r)}),c}function lo(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var i=s;s=function(){var c=Vs(a);i.call(c)}}ro(t,a,e,s)}else a=kp(n,t,e,s,r);return Vs(a)}vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fr(t.pendingLanes);n!==0&&(zl(t,n|1),nt(t,Ie()),!(ge&6)&&(Jn=Ie()+500,dn()))}break;case 13:jn(function(){var r=Bt(e,1);if(r!==null){var s=Ye();_t(r,e,1,s)}}),xa(e,1)}};Ul=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=Ye();_t(t,e,134217728,n)}xa(e,134217728)}};wc=function(e){if(e.tag===13){var t=rn(e),n=Bt(e,t);if(n!==null){var r=Ye();_t(n,e,t,r)}xa(e,t)}};Nc=function(){return we};Sc=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Xo=function(e,t,n){switch(t){case"input":if(Uo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ks(r);if(!s)throw Error(G(90));Zi(r),Uo(r,s)}}}break;case"textarea":tc(e,n);break;case"select":t=n.value,t!=null&&zn(e,!!n.multiple,t,!1)}};ic=pa;cc=jn;var Mp={usingClientEntryPoint:!1,Events:[Gr,Tn,Ks,lc,ac,pa]},cr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bp={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fc(e),e===null?null:e.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||_p,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{Ws=as.inject(bp),Pt=as}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mp;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(G(200));return Cp(e,t,null,n)};it.createRoot=function(e,t){if(!wa(e))throw Error(G(299));var n=!1,r="",s=Vu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ya(e,1,!1,null,null,n,!1,r,s),e[Ut]=t.current,Pr(e.nodeType===8?e.parentNode:e),new va(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=fc(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return jn(e)};it.hydrate=function(e,t,n){if(!oo(t))throw Error(G(200));return lo(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Vu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Gu(t,null,e,1,n??null,s,!1,o,a),e[Ut]=t.current,Pr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new so(t)};it.render=function(e,t,n){if(!oo(t))throw Error(G(200));return lo(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!oo(e))throw Error(G(40));return e._reactRootContainer?(jn(function(){lo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};it.unstable_batchedUpdates=pa;it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oo(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return lo(e,t,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function Hu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hu)}catch(e){console.error(e)}}Hu(),Hi.exports=it;var Dp=Hi.exports,Wu,Pi=Dp;Wu=Pi.createRoot,Pi.hydrateRoot;const Xu=j.createContext(void 0),Ep=({children:e})=>{const[t,n]=j.useState(!1),[r,s]=j.useState(null),[o,a]=j.useState(!1),[i,c]=j.useState(null),[d,p]=j.useState(null),[x,m]=j.useState("medicine"),[b,C]=j.useState(0),[k,v]=j.useState({message:"",type:"success",isVisible:!1}),[g,u]=j.useState(!1),[y,S]=j.useState(null),[E,M]=j.useState("edit"),[B,H]=j.useState(!1),[ce,W]=j.useState(null),[ye,ne]=j.useState(!1),[O,Q]=j.useState(null),[de,pe]=j.useState(!1),[P,h]=j.useState(!1),[D,A]=j.useState(null),[T,L]=j.useState(!1),[Z,q]=j.useState(null),[re,ee]=j.useState(!1),[he,z]=j.useState(null),X=()=>{sessionStorage.removeItem("user_session"),n(!1),s(null)},ue=()=>{C(_=>_+1)},xe=(_,I)=>{v({message:_,type:I,isVisible:!0})},be=()=>{v(_=>({..._,isVisible:!1}))},Ne=_=>{S(_),M("edit"),u(!0)},xt=()=>{const _={GUID:`new_medbox_${Date.now()}`,name:"",box_type:"",width:[],width_index:0,med_info:[],parentShelf:null};S(_),M("add"),u(!0)},F=()=>{u(!1),S(null),M("edit")},K=_=>{W(_),H(!0)},le=()=>{H(!1),W(null)},ae=_=>{Q(_),ne(!0)},se=()=>{ne(!1),Q(null)},ie=_=>{A(_),h(!0)},me=()=>{h(!1),A(null)},f=_=>{q(_),L(!0)},R=()=>{L(!1),q(null)},N=_=>{z(_),ee(!0)},w=()=>{ee(!1),z(null)};return l.jsx(Xu.Provider,{value:{isAuthenticated:t,setIsAuthenticated:n,currentUser:r,setCurrentUser:s,logout:X,sidebarOpen:o,setSidebarOpen:a,selectedDepartmentType:i,setSelectedDepartmentType:c,apiDepartmentData:d,setApiDepartmentData:p,viewMode:x,setViewMode:m,refreshTrigger:b,triggerRefresh:ue,notification:k,showNotification:xe,hideNotification:be,medBoxModalOpen:g,setMedBoxModalOpen:u,selectedMedBox:y,setSelectedMedBox:S,openMedBoxModal:Ne,closeMedBoxModal:F,modalMode:E,setModalMode:M,openAddMedBoxModal:xt,listDrawModalOpen:B,setListDrawModalOpen:H,selectedListDraw:ce,setSelectedListDraw:W,openListDrawModal:K,closeListDrawModal:le,gridDrawModalOpen:ye,setGridDrawModalOpen:ne,selectedGridDraw:O,setSelectedGridDraw:Q,openGridDrawModal:ae,closeGridDrawModal:se,isLoadingMedMap:de,setIsLoadingMedMap:pe,addParentContainerModalOpen:P,setAddParentContainerModalOpen:h,selectedDepartmentForAdd:D,setSelectedDepartmentForAdd:A,openAddParentContainerModal:ie,closeAddParentContainerModal:me,addShelfDrawContainerModalOpen:T,setAddShelfDrawContainerModalOpen:L,selectedSubContainerForAdd:Z,setSelectedSubContainerForAdd:q,openAddShelfDrawContainerModal:f,closeAddShelfDrawContainerModal:R,addSubContainerModalOpen:re,setAddSubContainerModalOpen:ee,selectedParentContainerForAdd:he,setSelectedParentContainerForAdd:z,openAddSubContainerModal:N,closeAddSubContainerModal:w},children:e})},rt=()=>{const e=j.useContext(Xu);if(e===void 0)throw new Error("useDrugMap must be used within a DrugMapProvider");return e},Pp={"zh-TW":{"nav.title":"","nav.home":"","nav.expandSidebar":"","nav.collapseSidebar":"","topbar.medicine":"","topbar.department":"","topbar.language":"","topbar.logout":"","sidebar.drugMap":"","sidebar.closeSidebar":"","sidebar.departmentCategories":"","sidebar.departments":"","canvas.lockCanvas":"","canvas.unlockCanvas":"","type.dispensingStation":"","type.warehouse":"","type.medBoxShelf":"","type.storeShelf":"","type.parentContainer":"","type.subContainer":"","type.gridDraw":"","type.listDraw":"","type.medBox":"","type.containers":"","modal.medBoxSettings":"","modal.addMedBox":"","modal.listDrawSettings":"","modal.gridDrawSettings":"","modal.settings":"","modal.add":"","form.medBoxName":"","form.medBoxType":"","form.widthSelection":"","form.ipAddress":"IP ","form.drugInfo":"","form.drawerName":"","form.drugList":"","form.drugCode":"","form.drugName":"","form.chineseName":"","form.drugSearch":"","placeholder.medBoxName":"  ","placeholder.ipAddress":" IP ","placeholder.drawerName":"","placeholder.gridDrawName":"","placeholder.drugSearch":" //","button.cancel":"","button.save":"","button.add":"","button.edit":"","button.change":"","button.remove":"","button.search":"","button.merge":"","button.unmerge":"","status.noDrugData":"","status.newMedBoxNoDrug":"","status.drawerNoDrug":"","status.gridDrawNotConfigured":"","status.noDrugInfo":"","status.drugListEmpty":"","status.noContent":"No content available","status.notSet":"","status.notAdded":"","status.searchResults":"","status.selectCellsForDrug":"","status.selectedCellsNoDrug":"","status.loadingMedMapData":"...","status.loadingMedMapHint":"","footer.copyright":"Copyright 2025 ","login.title":"","login.subtitle":"","login.userId":"","login.userIdPlaceholder":"","login.password":"","login.passwordPlaceholder":"","login.loginButton":"","login.loggingIn":"..."},en:{"nav.title":"Drug Map","nav.home":"Back to Home","nav.expandSidebar":"Expand Sidebar","nav.collapseSidebar":"Collapse Sidebar","topbar.medicine":"Medicine","topbar.department":"Department","topbar.language":"English","topbar.logout":"Logout","sidebar.drugMap":"Drug Map","sidebar.closeSidebar":"Close Sidebar","sidebar.departmentCategories":"Department Categories","sidebar.departments":"Departments","canvas.lockCanvas":"Lock Canvas","canvas.unlockCanvas":"Unlock Canvas","type.dispensingStation":"Dispensing Station","type.warehouse":"Warehouse","type.medBoxShelf":"Medicine Box Shelf","type.parentContainer":"Cabinet","type.subContainer":"sub container","type.gridDraw":"Grid Drawer","type.listDraw":"List Drawer","type.medBox":"Medicine Box","type.containers":"Containers","modal.medBoxSettings":"Medicine Box Settings","modal.addMedBox":"Add Medicine Box","modal.listDrawSettings":"Drawer Settings","modal.gridDrawSettings":"Grid Drawer Settings","modal.settings":"Edit Settings","modal.add":"Add Medicine Box","form.medBoxName":"Medicine Box Name","form.medBoxType":"Medicine Box Type","form.widthSelection":"Width Selection","form.ipAddress":"IP Address","form.drugInfo":"Drug Information","form.drawerName":"Drawer Name","form.drugList":"Drug List","form.drugCode":"Drug Code","form.drugName":"Drug Name","form.chineseName":"Chinese Name","form.drugSearch":"Drug Search","placeholder.medBoxName":"Enter medicine box name","placeholder.ipAddress":"Enter IP address","placeholder.drawerName":"Enter drawer name","placeholder.gridDrawName":"Enter grid drawer name","placeholder.drugSearch":"Enter drug code/name/Chinese name","button.cancel":"Cancel","button.save":"Save","button.add":"Add","button.edit":"Edit","button.change":"Change","button.remove":"Remove Drug","button.search":"Search","button.merge":"Merge","button.unmerge":"Unmerge","status.noDrugData":"This medicine box has no drug data configured","status.newMedBoxNoDrug":"New medicine box has no drug data configured","status.drawerNoDrug":"This drawer has no drugs configured","status.gridDrawNotConfigured":"This grid drawer is not configured","status.noDrugInfo":"No drug information","status.drugListEmpty":"Drug list is empty","status.noContent":"No content available","status.notSet":"Not set","status.notAdded":"No drugs added","status.searchResults":"Search results will be displayed here","status.selectCellsForDrug":"Select merged cells to display drug information","status.selectedCellsNoDrug":"Selected cells have no drug data","status.searching":"Searching...","status.noSearchResults":"No search results found","status.loadingMedMapData":"Loading medicine map data...","status.loadingMedMapHint":"Please wait while we process department data","footer.copyright":"Copyright 2025 Hongsen Intelligent Technology","login.title":"Drug Map System","login.subtitle":"Please login to continue","login.userId":"ID","login.userIdPlaceholder":"Enter your user ID","login.password":"Password","login.passwordPlaceholder":"Enter your password","login.loginButton":"Login","login.loggingIn":"Logging in..."}},Yu=j.createContext(void 0),Tp=({children:e})=>{const[t,n]=j.useState("zh-TW"),r=s=>Pp[t][s]||s;return l.jsx(Yu.Provider,{value:{language:t,setLanguage:n,t:r},children:e})},Je=()=>{const e=j.useContext(Yu);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:i="",children:c,...d},p)=>j.createElement("svg",{ref:p,...Rp,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Ip(e)}`,i].join(" "),...d},[...t.map(([x,m])=>j.createElement(x,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Me("ListX",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"m19 10-4 4",key:"1tz659"}],["path",{d:"m15 10 4 4",key:"1n7nei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Me("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Me("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Me("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Me("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yp=()=>{const{sidebarOpen:e,setSidebarOpen:t}=rt(),{t:n}=Je();return l.jsx("div",{className:"fixed top-4 left-4 z-30",children:l.jsx("nav",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-2 py-1",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("a",{href:"../frontpage",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:n("nav.home"),children:l.jsx(Na,{className:"w-5 h-5"})}),l.jsx("div",{className:"ml-2 text-lg font-semibold text-gray-900",children:n("nav.title")}),l.jsx("button",{onClick:()=>t(!e),className:"ml-8 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:n(e?"nav.collapseSidebar":"nav.expandSidebar"),children:e?l.jsx(kl,{className:"w-6 h-6"}):l.jsx(kl,{className:"w-6 h-6"})})]})})})},Qp=()=>{const{viewMode:e,setViewMode:t,logout:n,currentUser:r}=rt(),{language:s,setLanguage:o,t:a}=Je(),[i,c]=yd.useState(!1),d=()=>{o(s==="zh-TW"?"en":"zh-TW")};return l.jsx("div",{className:"fixed top-4 right-4 z-30",children:l.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-2 py-1 sm:px-3 sm:py-2",children:l.jsxs("div",{className:"flex items-center gap-2 lg:gap-0 lg:space-x-2 flex-col lg:flex-row relative",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>t("medicine"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md transition-all duration-300 ease-in-out transform ${e==="medicine"?"bg-white text-green-600 shadow-sm scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102"}`,children:[l.jsx(Hp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:a("topbar.medicine")})]}),l.jsxs("button",{onClick:()=>t("department"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md transition-all duration-300 ease-in-out transform ${e==="department"?"bg-white text-blue-600 shadow-sm scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102"}`,children:[l.jsx(Qu,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:a("topbar.department")})]})]}),l.jsx("button",{onClick:()=>c(!i),className:"lg:hidden flex items-center justify-center p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",children:i?l.jsx(Op,{className:"w-4 h-4"}):l.jsx(Ku,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:`
            flex items-center gap-2 lg:gap-0 lg:space-x-2 flex-col lg:flex-row
            lg:flex lg:opacity-100 lg:max-h-none
            transition-all duration-300 ease-in-out overflow-hidden
            ${i?"flex opacity-100 max-h-96":"hidden opacity-0 max-h-0 lg:flex lg:opacity-100 lg:max-h-none"}
          `,children:[l.jsx("div",{className:"mx-1 w-full lg:w-px lg:h-6 h-px bg-gray-300"}),l.jsxs("button",{onClick:d,className:"w-full lg:w-auto flex justify-center items-center space-x-2 px-3 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors border",children:[l.jsx(Bp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:a("topbar.language")})]}),l.jsx("div",{className:"w-full lg:w-px lg:h-6 h-px bg-gray-300"}),r&&l.jsx("div",{className:"w-full lg:w-auto flex justify-center items-center space-x-2 px-3 py-1.5 bg-gray-50 border border-gray-200 rounded-lg",children:l.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.Name})}),l.jsxs("button",{onClick:n,className:"w-full lg:w-auto flex items-center space-x-2 px-3 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-700 border border-red-200 rounded-lg transition-colors justify-center",children:[l.jsx(Gp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:a("topbar.logout")})]})]})]})})})};class Kp{constructor(){this.config=null,this.isConfigLoaded=!1}async loadConfig(){var t;if(this.config&&this.isConfigLoaded)return this.config;try{const n=await fetch("../config.txt");if(!n.ok)throw new Error(`Failed to load config: ${n.status}`);const r=await n.text();if(this.config=JSON.parse(r),this.isConfigLoaded=!0,!((t=this.config)!=null&&t.domain))throw new Error("Invalid config: missing domain");return this.config}catch(n){throw console.error("Failed to load API config:",n),new Error("API configuration not available")}}async request(t,n={}){const s=`${(await this.loadConfig()).domain}${t}`,o={method:"POST",headers:{"Content-Type":"application/json",...n.headers},...n};try{const a=await fetch(s,o);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error(`API request failed for ${t}:`,a),a}}async login(t){const n={Data:{ID:t.ID.trim(),Password:t.Password}};return this.request("/api/session/login",{method:"POST",body:JSON.stringify(n)})}async getDepartments(t={}){return this.request("/api/ServerSetting/get_name",{method:"POST",body:JSON.stringify(t)})}async getMedicineCloud(t={}){return this.request("/api/MED_page/get_med_cloud",{method:"POST",body:JSON.stringify({})})}async searchMedicine(t="",n="N"){try{const r=await this.getMedicineCloud();if(r.Code!==200||!r.Data)return console.error("API returned error:",r),[];let s=r.Data;if(s=s.filter(o=>o.DRUGKIND===n),s=s.filter(o=>o.FILE_STATUS!==""),t.trim()){const o=t.toLowerCase();s=s.filter(a=>a.CODE&&a.CODE.toLowerCase().includes(o)||a.CHT_NAME&&a.CHT_NAME.toLowerCase().includes(o)||a.NAME&&a.NAME.toLowerCase().includes(o))}return s}catch(r){return console.error("Medicine search failed:",r),[]}}async getMedMapByDepartment(t){const n={Data:{},ValueAry:[t]};return this.request("/api/medMap/get_medMap_by_department",{method:"POST",body:JSON.stringify(n)})}async updateContainerPosition(t){const n={Data:[t]};return this.request("/api/medMap/update_medMap_section",{method:"POST",body:JSON.stringify(n)})}async addMedMapBox(t){const n={Data:t};return this.request("/api/medMap/add_medMap_box",{method:"POST",body:JSON.stringify(n)})}async updateMedMapBox(t){const n={Data:t};return this.request("/api/medMap/update_medMap_box",{method:"POST",body:JSON.stringify(n)})}async updateEpd266Storages(t,n,r){const s={ServerName:t,ServerType:n,Data:r};return this.request("/api/device/update_epd266_storages",{method:"POST",body:JSON.stringify(s)})}async updateMedMapBox(t){const n={Data:t};return this.request("/api/medMap/update_medMap_box",{method:"POST",body:JSON.stringify(n)})}async updateMedMapDrawer(t){const n={Data:t};return this.request("/api/medMap/update_medMap_drawer",{method:"POST",body:JSON.stringify(n)})}async updateMedMapShelf(t){const n={Data:t};return this.request("/api/medMap/update_medMap_shelf",{method:"POST",body:JSON.stringify(n)})}async addMedMapSection(t,n){const r={ValueAry:[t,n]};return this.request("/api/medMap/add_medMap_section",{method:"POST",body:JSON.stringify(r)})}async addMedMapShelf(t){const n={Data:t};return this.request("/api/medMap/add_medMap_shelf",{method:"POST",body:JSON.stringify(n)})}async addMedMapDrawer(t){const n={Data:t};return this.request("/api/medMap/add_medMap_drawer",{method:"POST",body:JSON.stringify(n)})}async addSubSection(t,n){const r={ValueAry:[t,n]};return this.request("/api/medMap/add_sub_section",{method:"POST",body:JSON.stringify(r)})}async updateEpd266Medcode(t,n,r,s){const o={ServerName:t,ServerType:n,ValueAry:[`code=${r}`],Data:s};return this.request("/api/device/update_epd266_medcode",{method:"POST",body:JSON.stringify(o)})}async getConfig(){return this.loadConfig()}async checkConnection(){try{return await this.loadConfig(),!0}catch(t){return console.error("API connection check failed:",t),!1}}resetConfig(){this.config=null,this.isConfigLoaded=!1}}const Se=new Kp;class Jp{convertMedMapApiToFakeData(t){console.log("  MedMap API "),console.log("  API :",t);try{Array.isArray(t)||(console.warn(" API "),t=[t]);const r=t.map((s,o)=>this.convertSingleDepartment(s,o)).filter(s=>{if(Object.keys(s).length!==0)return s});return console.log(" MedMap :",r),r}catch(n){return console.error(" MedMap :",n),[]}}convertSingleDepartment(t,n){if(Object.keys(t).length!==0){let r;t.absolute_position?r=t.absolute_position.split(","):r=[0,0];const s={GUID:t.GUID||t.guid||`dept_${n}_${Date.now()}`,Master_GUID:t.Master_GUID,type:t.sys_ServerSetting.type||"",name:t.sys_ServerSetting.name||"",gird_position:t.position,position:{x:r[0],y:r[1]},contents:t.medMap_Section,department_type:t.sys_ServerSetting["department_type "],class:0};return Array.isArray(t.medMap_Section)&&t.medMap_Section.forEach((o,a)=>{let i;o.absolute_position?i=o.absolute_position.split(","):i=[0,0],s.contents[a]={GUID:o.GUID,MASTER_GUID:o.Master_GUID,name:`_${a}`,type:"parent_container",class:1,gird_position:o.position,position:{x:i[0],y:i[1]},serverName:t.sys_ServerSetting.name,serverType:t.sys_ServerSetting.type,contents:[]},Array.isArray(o.sub_section)&&o.sub_section.forEach((c,d)=>{let p={GUID:c.GUID,MASTER_GUID:c.Master_GUID,name:`_${d}`,type:"sub_container",class:2,gird_position:c.position,contents:[],serverName:t.sys_ServerSetting.name,serverType:t.sys_ServerSetting.type,oriMaxCol:0};s.contents[a].contents[d]=p;let x=0;Array.isArray(c.shelf)&&Array.isArray(c.drawer)&&(c.shelf.forEach((m,b)=>{let C={GUID:m.GUID,MASTER_GUID:m.Master_GUID,name:`_${b}`,class:3,gird_position:m.position,serverName:m.serverName,serverType:m.serverType,type:m.type,contents:[]};C.serverName&&(C.serverName=t.sys_ServerSetting.name),C.serverType&&(C.serverType=t.sys_ServerSetting.type),m.type=="dispensing_shelves"||m.type=="shelf"?(m.type=="shelf"&&(C.type="dispensing_shelves"),Array.isArray(m.medMapBox)&&m.medMapBox.forEach((v,g)=>{let u={GUID:v.GUID,MASTER_GUID:v.Master_GUID,name:"",class:4,gird_position:v.position,ip:v.ip_box,box_type:"",width:v.width,height:v.height,serverType:v.serverType,serverName:v.serverName,med_info:[],type:"med_box"},y={};if(v.storage){switch(u.device_type=v.storage.DeviceType,u.storage=v.storage,+u.device_type){case 10:u.box_type="2.9";break;case 118:u.box_type="2.13";break;case 13:u.box_type="4.2";break}y.name=v.storage.Name,y.code=v.storage.Code,y.cht_name=v.storage.ChineseName}else u.device_type=10,u.box_type="2.9",y.name="",y.code="",y.cht_name="";u.med_info[0]=y,C.contents.push(u)})):C.type="store_shelves";let k=m.position.split(",")[1];x<+k&&(x=+k,s.contents[a].contents[d].oriMaxCol=+x),s.contents[a].contents[d].contents.push(C)}),c.drawer.forEach((m,b)=>{let C={GUID:m.GUID,MASTER_GUID:m.Master_GUID,name:` ${b}`,class:3,gird_position:m.position,ip:m.ip_drawer,serverName:m.serverName,serverType:m.serverType};C.serverName&&(C.serverName=t.sys_ServerSetting.name),C.serverType&&(C.serverType=t.sys_ServerSetting.type),m.drawer?(C.drawer=m.drawer,m.drawer.Boxes&&(C.type="grid_draw",C.name=m.drawer.Name,C.Boxes=[],Array.isArray(m.drawer.Boxes)?m.drawer.Boxes.forEach((g,u)=>{let y=[];Array.isArray(g)&&g.forEach((S,E)=>{let M={Row:S.Row,Column:S.Column,Width:1,Height:1,Slave:S.Slave,SlaveBox_Row:S.SlaveBox_Row,SlaveBox_Column:S.SlaveBox_Column,MasterBox_Column:S.MasterBox_Column,MasterBox_Row:S.MasterBox_Row,Name:S.Name,Code:S.Code,ChineseName:S.ChineseName,GUID:S.GUID};y.push(M)}),C.Boxes.push(y)}):C.Boxes=m.drawer.Boxes)):(C.type="list_draw",C.name=` ${b}`);let k=m.position.split(",")[1];x<+k&&(x=+k,s.contents[a].contents[d].oriMaxCol=+x),s.contents[a].contents[d].contents.push(C)}))})}),s}else return{}}convertSingleComponent(t,n,r){var o,a,i,c,d;const s={GUID:t.GUID||t.guid||`comp_${n}_${Date.now()}`,type:this.mapComponentType(t.type||t.component_type||"unknown"),name:t.name||t.component_name||`_${n}`,position:{x:((o=t.position)==null?void 0:o.x)||t.x||50+n*200,y:((a=t.position)==null?void 0:a.y)||t.y||50+n*150},dimensions:{width:((i=t.dimensions)==null?void 0:i.width)||t.width||180,height:((c=t.dimensions)==null?void 0:c.height)||t.height||120,depth:((d=t.dimensions)==null?void 0:d.depth)||t.depth||30},med_box:t.med_box||t.medBox||t.medicine_boxes||[],MASTER_GUID:r};return t.components&&Array.isArray(t.components)&&(s.components=t.components.map((p,x)=>this.convertSingleComponent(p,x,s.GUID))),Object.keys(t).forEach(p=>{["GUID","type","name","position","dimensions","med_box","components"].includes(p)||(s[p]=t[p])}),s}mapDepartmentType(t){return{dispensing_station:"",warehouse:"",pharmacy:"",storage:""}[t]||t}mapComponentType(t){return{medicine_box_shelf:"med_box_shelf",medicine_shelf:"normal_shelf",grid_drawer:"grid_draw",list_drawer:"list_draw",medicine_box:"med_box",parent_container:"parent_container",sub_container:"sub_container",dispensing_shelves:"dispensing_shelves",store_shelves:"store_shelves"}[t]||t}validateConvertedData(t){try{if(!Array.isArray(t))return console.error(" "),!1;for(const n of t){if(!n.GUID||!n.type||!n.name)return console.error(" :",n),!1;if(!n.gird_position||typeof n.gird_position!="string")return console.error(" :",n.gird_position),!1;if(n.components&&Array.isArray(n.components)){for(const r of n.components)if(!r.GUID||!r.type)return console.error(" :",r),!1}}return console.log(" "),!0}catch(n){return console.error(" :",n),!1}}generateConversionReport(t,n){const r={timestamp:new Date().toISOString(),originalDataCount:Array.isArray(t)?t.length:0,convertedDataCount:n.length,conversionSuccess:n.length>0,totalComponents:n.reduce((s,o)=>{var a;return s+(((a=o.components)==null?void 0:a.length)||0)},0),departmentTypes:[...new Set(n.map(s=>s.type))],componentTypes:[...new Set(n.flatMap(s=>{var o;return((o=s.components)==null?void 0:o.map(a=>a.type))||[]}))]};return console.log(" :",r),r}}const Rt=new Jp,qp=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"})),Zp=()=>{const{sidebarOpen:e,setSidebarOpen:t,selectedDepartmentType:n,setSelectedDepartmentType:r,setApiDepartmentData:s,isLoadingMedMap:o,setIsLoadingMedMap:a}=rt(),{t:i}=Je(),[c,d]=j.useState(new Set),[p,x]=j.useState([]),[m,b]=j.useState(!0),[C,k]=j.useState([]);j.useEffect(()=>{(async()=>{b(!0);try{const E=await Se.getDepartments();E.Code===200&&E.Data?(console.log(E.Data),x(E.Data)):(console.error("API returned error:",E),x([]))}catch(E){console.error("Failed to fetch department data:",E),x([])}finally{b(!1)}})()},[]);const v=p.reduce((S,E)=>{const M=E["department_type "];return S[M]||(S[M]=[]),S[M].push(E),S},{}),g=S=>{const E=new Set(c);E.has(S)?E.delete(S):E.add(S),d(E)},u=async S=>{console.log(" :",S),r(S),await y(S),t(!1)},y=async S=>{console.log(" :",S),a(!0);try{const E=await Se.getMedMapByDepartment(S);if(E.Code===200&&E.Data){console.log(" API :",E.Data);const M=Rt.convertMedMapApiToFakeData(E.Data);if(!Rt.validateConvertedData(M)){console.error(" "),k([]);return}const H=Rt.generateConversionReport(E.Data,M);k(M),s(M),console.log(" "),console.log(" :",M),console.log(" :",H)}else console.error(" API :",E),k([]),s(null)}catch(E){console.error(" :",E),k([]),s(null)}finally{a(!1)}};return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>t(!1)}),l.jsx("div",{className:`fixed w-80 bg-white/95 backdrop-blur-sm shadow-xl border border-gray-200/50 z-50 transform transition-all duration-300 ease-in-out h-screen h-svh ${e?"translate-x-0 opacity-100":"-translate-x-full opacity-0"}`,children:l.jsxs("div",{className:"flex flex-col h-screen h-svh",children:[l.jsx("div",{className:"flex-shrink-0 px-4 py-2 border-b border-gray-200/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("a",{href:"../front_page",className:"text-gray-600 hover:text-gray-900 transition-colors p-2 rounded-lg hover:bg-gray-100/50",title:i("nav.home"),children:l.jsx(Na,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:i("sidebar.drugMap")})]}),l.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:i("sidebar.closeSidebar"),children:l.jsx(Fp,{className:"w-6 h-6"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"text-gray-500",children:"Loading departments..."})}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-4",children:i("sidebar.departmentCategories")}),Object.entries(v).map(([S,E])=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>u(S),disabled:o,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 border ${n===S?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:shadow-sm border-transparent"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[S==="B1F"?l.jsx(Qu,{className:"w-4 h-4"}):l.jsx(Wp,{className:"w-4 h-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:S}),l.jsxs("div",{className:"text-xs text-gray-500",children:[E.length," ",i("sidebar.departments")]})]})]}),l.jsx("div",{onClick:M=>{M.stopPropagation(),g(S)},className:"p-1 hover:bg-gray-200/50 rounded transition-colors",children:c.has(S)?l.jsx(Ku,{className:"w-4 h-4"}):l.jsx(Lp,{className:"w-4 h-4"})})]}),c.has(S)&&l.jsx("div",{className:"ml-6 space-y-2",children:E.map(M=>l.jsx("div",{className:"p-3 text-base text-gray-600 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium text-gray-800",children:M.name}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${M.type===""?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:M.type})]})},M.GUID))})]},S))]})})]})})]})},eh=()=>{const{t:e}=Je();return l.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-30",children:l.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-4 py-2",children:l.jsx("p",{className:"text-sm text-gray-600 font-medium whitespace-nowrap",children:e("footer.copyright")})})})},th=({component:e,scale:t,isLocked:n})=>{const r=j.useRef(null),{t:s}=Je(),{apiDepartmentData:o,setApiDepartmentData:a,showNotification:i}=rt(),[c,d]=j.useState(!1),[p,x]=j.useState({x:0,y:0}),[m,b]=j.useState(e.position),[C,k]=j.useState(null),[v,g]=j.useState({x:0,y:0}),u=j.useCallback(async(h,D)=>{if(!o)return;console.log(" :",h,D);const A=JSON.parse(JSON.stringify(o)),T=Z=>{for(const q of Z){if(q.GUID===h)return q.position={x:D.x.toFixed(3),y:D.y.toFixed(3)},console.log(" :",q.name,D.x.toFixed(3),D.y.toFixed(3)),!0;if(q.components&&Array.isArray(q.components)&&T(q.components)||q.contents&&Array.isArray(q.contents)&&T(q.contents))return!0}return!1};if(T(A)){a(A),console.log(" ");try{console.log(" ...");const Z=await Se.updateContainerPosition({GUID:h,absolute_position:`${D.x.toFixed(3)},${D.y.toFixed(3)}`});Z.Code===200?(console.log(" ",Z),i("","success")):(console.error(" :",Z),i(`: ${Z.Result||""}`,"error"))}catch(Z){console.error(" :",Z),i(": ","error")}}else console.warn(" :",h)},[o,a,i]),{position:y,dimensions:S,name:E,type:M}=e,B=j.useCallback(h=>{if(!n)return;h.preventDefault(),h.stopPropagation();const D=r.current;if(!D)return;D.setPointerCapture(h.pointerId);const A=D.getBoundingClientRect(),T=h.clientX-A.left,L=h.clientY-A.top;x({x:T,y:L}),d(!0)},[n]),H=j.useCallback(h=>{if(!c||!n)return;h.preventDefault(),h.stopPropagation();const D=r.current;if(!D)return;const A=D.closest("[data-canvas-content]");if(!A)return;const T=A.getBoundingClientRect(),L=(h.clientX-T.left-p.x)/t,Z=(h.clientY-T.top-p.y)/t;b({x:L,y:Z})},[c,p,t,n]),ce=j.useCallback(h=>{if(!c||!n)return;h.preventDefault(),h.stopPropagation();const D=r.current;D&&D.releasePointerCapture(h.pointerId),d(!1),u(e.GUID,m)},[c,n,u,e.GUID,m]),W=j.useCallback(h=>{if(!n)return;h.preventDefault(),h.stopPropagation();const D=r.current;if(!D)return;const A=h.touches[0];if(!A)return;k(A.identifier);const T=D.getBoundingClientRect(),L=A.clientX-T.left,Z=A.clientY-T.top;x({x:L,y:Z}),g({x:A.clientX,y:A.clientY}),d(!0)},[n]),ye=j.useCallback(h=>{if(!c||!n||C===null)return;h.preventDefault(),h.stopPropagation();const D=r.current;if(!D)return;const A=Array.from(h.touches).find(re=>re.identifier===C);if(!A)return;const T=D.closest("[data-canvas-content]");if(!T)return;const L=T.getBoundingClientRect(),Z=(A.clientX-L.left-p.x)/t,q=(A.clientY-L.top-p.y)/t;b({x:Z,y:q})},[c,p,t,n,C]),ne=j.useCallback(h=>{!c||!n||C===null||!Array.from(h.changedTouches).some(A=>A.identifier===C)||(h.preventDefault(),h.stopPropagation(),d(!1),k(null),g({x:0,y:0}),console.log(e.GUID),u(e.GUID,m))},[c,n,C,u,e.GUID,m]),O=j.useCallback(h=>{!c||!n||C===null||!Array.from(h.changedTouches).some(A=>A.identifier===C)||(h.preventDefault(),h.stopPropagation(),b(e.position),d(!1),k(null),g({x:0,y:0}))},[c,n,C,e.position]),Q=h=>{switch(h){case"":return"bg-orange-50 border-orange-400";case"":return"bg-indigo-50 border-indigo-400";case"parent_container":return"bg-indigo-50 border-indigo-400";default:return"bg-gray-50 border-gray-400"}},de=h=>{switch(h){case"":return"bg-orange-200 text-gray-900";case"":return"bg-indigo-200 text-gray-900";case"parent_container":return"bg-indigo-200 text-gray-900";default:return"bg-gray-100 text-gray-800"}},pe=h=>{switch(h){case"":return"bg-orange-600 text-white";case"":return"bg-indigo-600 text-white";case"parent_container":return"bg-indigo-600 text-white";default:return"bg-gray-600 text-white"}},P=h=>{const D=h===""?"type.dispensingStation":h===""?"type.warehouse":h==="parent_container"?"":"type."+h;return s(D)||h};return l.jsx("div",{ref:r,className:`flex flex-col absolute border-2 rounded-lg shadow-lg hover:shadow-xl ${Q(M)} overflow-hidden ${n?"cursor-move":"cursor-default"} ${c?"shadow-2xl scale-105 z-50":""}`,style:{left:`${m.x}px`,top:`${m.y}px`,minWidth:M===""||M===""?"120px":"180px",minHeight:M===""||M===""?"60px":"120px",userSelect:"none",touchAction:"none",transition:c?"none":"transform 0.2s ease-out, box-shadow 0.2s ease-out"},onPointerDown:B,onPointerMove:H,onPointerUp:ce,onTouchStart:W,onTouchMove:ye,onTouchEnd:ne,onTouchCancel:O,children:l.jsx("div",{className:`w-full min-w-[400px] h-auto flex items-start flex-1 justify-between p-2 border-b border-gray-200 ${de(M)}`,children:l.jsx("div",{className:"flex space-x-2 flex-1 min-w-0",children:l.jsxs("div",{className:"min-w-0 flex gap-4",children:[l.jsx("div",{className:"font-semibold text-lg truncate",children:E}),l.jsx("div",{className:`text-sm truncate py-1 px-3 rounded-2xl ${pe(M)}`,children:P(M)})]})})})})},nh=({children:e})=>{const t=j.useRef(null),{selectedDepartmentType:n,apiDepartmentData:r}=rt(),{t:s}=Je(),[o,a]=j.useState({x:0,y:0,scale:1}),[i,c]=j.useState(!1),[d,p]=j.useState(!1),[x,m]=j.useState({x:0,y:0}),[b,C]=j.useState(!1),k=()=>{try{const P=localStorage.getItem("med_map_anchor");return P?JSON.parse(P):[]}catch(P){return console.error("Error reading canvas states from localStorage:",P),[]}},v=(P,h,D,A)=>{try{const T=k(),L=T.findIndex(q=>q.department===P&&q.canvasType===h),Z={department:P,canvasType:h,scale:D,position:A};L>=0?T[L]=Z:T.push(Z),localStorage.setItem("med_map_anchor",JSON.stringify(T))}catch(T){console.error("Error saving canvas state to localStorage:",T)}},g=(P,h)=>k().find(A=>A.department===P&&A.canvasType===h)||null;j.useEffect(()=>{if(n){const P=g(n,"InfiniteCanvas");if(P)a({x:P.position.x,y:P.position.y,scale:P.scale});else{const h={x:0,y:0,scale:1};a(h),v(n,"InfiniteCanvas",h.scale,h)}}},[n]),j.useEffect(()=>{if(!n)return;const P=setTimeout(()=>{v(n,"InfiniteCanvas",o.scale,{x:o.x,y:o.y})},500);return()=>clearTimeout(P)},[o,n]),j.useEffect(()=>{const P=D=>{D.code==="Space"&&!D.repeat&&(D.preventDefault(),C(!0))},h=D=>{D.code==="Space"&&(D.preventDefault(),C(!1),c(!1))};return window.addEventListener("keydown",P),window.addEventListener("keyup",h),()=>{window.removeEventListener("keydown",P),window.removeEventListener("keyup",h)}},[]);const u=j.useCallback(P=>{var D;if(d)return;if(P.altKey&&!navigator.userAgent.includes("Mac")||P.metaKey&&navigator.userAgent.includes("Mac")){P.preventDefault();const A=(D=t.current)==null?void 0:D.getBoundingClientRect();if(!A)return;const T=P.clientX-A.left,L=P.clientY-A.top,Z=P.deltaY>0?.9:1.1,q=Math.max(.1,Math.min(5,o.scale*Z)),re=q/o.scale,ee=T-(T-o.x)*re,he=L-(L-o.y)*re;a({x:ee,y:he,scale:q})}},[o,d]),y=j.useCallback(P=>{d||!b||(c(!0),m({x:P.clientX,y:P.clientY}),P.preventDefault())},[d,b]),S=j.useCallback(P=>{if(!i||d)return;const h=P.clientX-x.x,D=P.clientY-x.y;a(A=>({...A,x:A.x+h,y:A.y+D})),m({x:P.clientX,y:P.clientY})},[i,x,d]),E=j.useCallback(()=>{c(!1)},[]),[M,B]=j.useState(null),[H,ce]=j.useState({x:0,y:0}),W=P=>{if(P.length<2)return null;const h=P[0],D=P[1];return Math.sqrt(Math.pow(D.clientX-h.clientX,2)+Math.pow(D.clientY-h.clientY,2))},ye=P=>{if(P.length===1)return{x:P[0].clientX,y:P[0].clientY};const h=P[0],D=P[1];return{x:(h.clientX+D.clientX)/2,y:(h.clientY+D.clientY)/2}},ne=j.useCallback(P=>{if(!d){if(P.touches.length===2){const h=W(P.touches),D=ye(P.touches);B(h),ce(D)}else if(P.touches.length===1){const h=P.touches[0];m({x:h.clientX,y:h.clientY}),c(!0)}}},[d]),O=j.useCallback(P=>{var h;if(!d){if(P.preventDefault(),P.touches.length===2&&M!==null){const D=W(P.touches),A=ye(P.touches);if(D&&M){const T=(h=t.current)==null?void 0:h.getBoundingClientRect();if(!T)return;const L=D/M,Z=Math.max(.1,Math.min(5,o.scale*L)),q=A.x-T.left,re=A.y-T.top,ee=Z/o.scale,he=q-(q-o.x)*ee,z=re-(re-o.y)*ee;a({x:he,y:z,scale:Z}),B(D),ce(A)}}else if(P.touches.length===1&&i){const D=P.touches[0],A=D.clientX-x.x,T=D.clientY-x.y;a(L=>({...L,x:L.x+A,y:L.y+T})),m({x:D.clientX,y:D.clientY})}}},[o,M,i,x,d]),Q=j.useCallback(()=>{B(null),c(!1)},[]);j.useEffect(()=>{const P=t.current;if(P)return P.addEventListener("wheel",u,{passive:!1}),()=>P.removeEventListener("wheel",u)},[u]),j.useCallback(()=>{a({x:0,y:0,scale:1})},[]);const pe=(()=>{if(!r||r.length===0)return[];const P=r,h=[];for(const D of P)if(D.type===""||D.type==="")for(const A of D.contents)h.push({GUID:A.GUID,type:A.type,name:`${D.name}-${A.name}`,position:A.position,dimensions:A.dimensions,med_box:[],MASTER_GUID:D.GUID,components:D.components||[]});else D.components&&D.components.length>0&&h.push(...D.components);return h})();return l.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-50",children:[l.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex gap-2",children:l.jsx("button",{onClick:()=>p(!d),className:`p-3 rounded-lg shadow-lg transition-colors ${d?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,title:s(d?"canvas.unlockCanvas":"canvas.lockCanvas"),children:d?l.jsx(qu,{className:"w-6 h-6"}):l.jsx(Zu,{className:"w-6 h-6"})})}),l.jsx("div",{ref:t,className:`w-full h-full relative ${b&&!d?"cursor-grab":"cursor-default"} ${i?"cursor-grabbing":""}`,onMouseDown:y,onMouseMove:S,onMouseUp:E,onMouseLeave:E,onTouchStart:ne,onTouchMove:O,onTouchEnd:Q,children:l.jsxs("div",{className:"absolute inset-0 origin-top-left",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${o.scale})`,transformOrigin:"0 0"},children:[l.jsx("div",{className:"absolute",style:{left:-1e4,top:-1e4,width:2e4,height:2e4,backgroundImage:`
                linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
              `,backgroundSize:"50px 50px"}}),l.jsxs("div",{className:"relative","data-canvas-content":!0,children:[pe.map(P=>l.jsx(th,{component:P,scale:o.scale,isLocked:d},P.GUID)),e]})]})})]})},is=({content:e})=>{const{openMedBoxModal:t,openAddMedBoxModal:n,openListDrawModal:r,openGridDrawModal:s,openAddShelfDrawContainerModal:o,openAddSubContainerModal:a,setSelectedMedBox:i,setModalMode:c,setMedBoxModalOpen:d}=rt(),{t:p}=Je(),x=k=>{switch(k){case"parent_container":return"bg-pink-100";case"sub_container":return"bg-blue-100";case"dispensing_shelves":case"store_shelves":return"bg-green-100";case"med_box":return"bg-yellow-100";case"grid_draw":case"list_draw":return"bg-violet-100";default:return"bg-gray-100"}},m=k=>{switch(k){case"parent_container":return"border-pink-200";case"sub_container":return"border-blue-200";case"dispensing_shelves":case"store_shelves":return"border-green-200";case"med_box":return"border-yellow-200";case"grid_draw":case"list_draw":return"border-violet-200";default:return"border-gray-200"}},b=k=>{switch(k){case"parent_container":return"bg-pink-400";case"sub_container":return"bg-blue-400";case"dispensing_shelves":case"store_shelves":return"bg-green-400";case"med_box":return"bg-yellow-400";case"grid_draw":case"list_draw":return"bg-violet-400";default:return"bg-gray-200"}},C=k=>{switch(k){case"parent_container":return p("type.parentContainer");case"sub_container":return p("type.subContainer");case"dispensing_shelves":return p("type.medBoxShelf");case"store_shelves":return p("type.storeShelf");case"grid_draw":return p("type.gridDraw");case"list_draw":return p("type.listDraw");case"med_box":return p("type.medBox");default:return k}};switch(e.type){case"sub_container":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null]}),e.type!=="none"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation(),o(e)},title:p("modal.add"),children:l.jsx(jt,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]})]});case"parent_container":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null]}),e.type!=="none"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation(),a(e)},title:p("modal.add"),children:l.jsx(jt,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]})]});case"med_box":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center mr-4",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null}),l.jsx("div",{className:"flex items-center space-x-1",children:l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation(),t(e)},title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})})]});case"dispensing_shelves":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center mr-4 space-x-3",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation();const v={GUID:`new_medbox_${Date.now()}`,name:"",box_type:"",width:[],width_index:0,med_info:[],parentShelf:e};i(v),c("add"),d(!0)},title:p("modal.add"),children:l.jsx(jt,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{},title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]})]});case"store_shelves":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center mr-4 space-x-3",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation()},title:p("modal.add"),children:l.jsx(jt,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{},title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]})]});case"list_draw":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null]}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation(),r(e)},title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]});case"grid_draw":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null]}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:k=>{k.stopPropagation(),s(e)},title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]});default:return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${x(e.type||0)} ${m(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center space-x-2 mr-6",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${b(e.type)}`,children:C(e.type)}):null}),e.type!=="none"&&l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:p("modal.settings"),children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]})}},rh=({children:e})=>{const t=j.useRef(null),{selectedDepartmentType:n,apiDepartmentData:r,setSidebarOpen:s,openAddParentContainerModal:o}=rt(),[a,i]=j.useState({x:0,y:0,scale:1}),[c,d]=j.useState(!1),[p,x]=j.useState(!1),[m,b]=j.useState({x:0,y:0}),[C,k]=j.useState(!1),[v,g]=j.useState({isDragging:!1,draggedContainer:null,draggedElement:null,floatingElement:null,originalParent:null,originalPosition:"",originalIndex:-1,mouseOffset:{x:0,y:0},isMobileDrag:!1,originalData:null}),[u,y]=j.useState(null),S=j.useRef({}),E=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,M=8,B=()=>{try{const f=localStorage.getItem("med_map_anchor");return f?JSON.parse(f):[]}catch(f){return console.error("Error reading canvas states from localStorage:",f),[]}},H=(f,R,N,w)=>{try{const _=B(),I=_.findIndex(V=>V.department===f&&V.canvasType===R),Y={department:f,canvasType:R,scale:N,position:w};I>=0?_[I]=Y:_.push(Y),localStorage.setItem("med_map_anchor",JSON.stringify(_))}catch(_){console.error("Error saving canvas state to localStorage:",_)}},ce=(f,R)=>B().find(w=>w.department===f&&w.canvasType===R)||null;j.useEffect(()=>{if(n){const f=ce(n,"drugCanvas");if(f)i({x:f.position.x,y:f.position.y,scale:f.scale});else{const R={x:0,y:0,scale:1};i(R),H(n,"drugCanvas",R.scale,R)}}},[n]),j.useEffect(()=>{if(!n)return;const f=setTimeout(()=>{H(n,"drugCanvas",a.scale,{x:a.x,y:a.y})},500);return()=>clearTimeout(f)},[a,n]);const W=f=>["parent_container","sub_container","dispensing_shelves","store_shelves","grid_draw","list_draw","med_box"].includes(f),ye=f=>({parent_container:["parent_container","",""],sub_container:["parent_container","sub_container"],dispensing_shelves:["dispensing_shelves","store_shelves","sub_container"],store_shelves:["dispensing_shelves","store_shelves","sub_container"],grid_draw:["grid_draw","list_draw","sub_container"],list_draw:["grid_draw","list_draw","sub_container"],med_box:["med_box","dispensing_shelves"]})[f]||[],ne=f=>{const[R,N]=f.split(",").map(Number);return{row:R||0,col:N||0}},O=(f,R)=>`${f},${R}`,Q=(f,R)=>{const N=(_,I=null)=>{if(_.GUID===f)return{container:_,parent:I};if(_.contents)for(const Y of _.contents){const V=N(Y,_);if(V)return V}return null},w=xt();for(const _ of w){const I=N(_);if(I)return I}return null},de=(f,R)=>{if(!f.contents)return;const{sortedContents:N,maxRow:w,maxCol:_}=F(f.contents),I=R;if(!I)return;const Y=ne(I.gird_position);console.log(w),console.log(_),console.log(I),console.log(Y);for(let V=0;V<N.length;V++){const U=N[V],$=ne(U.gird_position);if($.row===Y.row&&$.col>Y.col)U.gird_position=O($.row,$.col-1),S.current[U.GUID]={GUID:U.GUID,MASTER_GUID:f.GUID,position:`${$.row},${$.col-1}`,serverName:f.serverName,serverType:f.serverType,type:U.type};else if($.row>Y.row){const oe=$.col===0?_:$.col-1,te=$.col===0?$.row-1:$.row;U.gird_position=O(te,oe),S.current[U.GUID]={GUID:U.GUID,MASTER_GUID:f.GUID,position:`${te},${oe}`,serverName:f.serverName,serverType:f.serverType,type:U.type}}}return console.log("",N),N},pe=(f,R,N,w,_)=>{f.contents||(f.contents=[]);let I=Math.max(1,...f.contents.map(U=>ne(U.gird_position||"0,0").col+1)),Y=Math.max(1,...f.contents.map(U=>ne(U.gird_position||"0,0").row+1));console.log("--------",f),console.log("",I),console.log("",Y),(f.type=="sub_container"||f.type=="parent_container"||f.type==""||f.type=="")&&(I=+f.oriMaxCol+1),_!=null&&_==="right"&&R.type!=="med_box"&&w==I&&(N=N+1,f.contents.filter($=>`${N},0`==$.gird_position).length>0?w=I-1:w=0),console.log(N),console.log(w);const V=f.contents.filter(U=>{const $=ne(U.gird_position||"0,0");return $.row>N||$.row===N&&$.col>=w});V.sort((U,$)=>{const oe=ne(U.gird_position||"0,0"),te=ne($.gird_position||"0,0");return oe.row!==te.row?te.row-oe.row:te.col-oe.col}),console.log("",V),V.forEach(U=>{const $=ne(U.gird_position||"0,0");let oe=$.row,te=$.col;U.type==="med_box"||te<I-1?te+=1:(oe+=1,te=0),U.gird_position=`${oe},${te}`,S.current[U.GUID]={GUID:U.GUID,MASTER_GUID:f.GUID,position:`${oe},${te}`,serverName:f.serverName,serverType:f.serverType,type:U.type},console.log(`Shifted container ${U.GUID} from ${$.row},${$.col} to ${oe},${te}`)}),f.contents.length==0&&(N=0,w=0),R.gird_position=`${N},${w}`,R.MASTER_GUID=f.GUID,console.log(`Inserted container ${R.GUID} at position ${N},${w}`),f.contents.push(R),S.current[R.GUID]={GUID:R.GUID,MASTER_GUID:f.GUID,position:`${N},${w}`,serverName:f.serverName,serverType:f.serverType,type:R.type},R.type==="dispensing_shelves"&&R.contents&&R.contents.forEach(U=>{U.type==="med_box"&&(S.current[U.GUID]={GUID:U.GUID,MASTER_GUID:U.MASTER_GUID,position:U.gird_position,serverName:f.serverName,serverType:f.serverType,type:U.type})})},P=(f,R,N)=>{const w=f.getBoundingClientRect(),_=w.left+w.width/2,I=w.top+w.height/2,Y=R-_,V=N-I;return Math.abs(Y)>Math.abs(V)?Y>0?"right":"left":V>0?"bottom":"top"},h=(f,R,N)=>{if(!p||!W(f.type))return;S.current={},N.preventDefault(),N.stopPropagation();const w=E(),_="touches"in N?N.touches[0].clientX:("pointerId"in N,N.clientX),I="touches"in N?N.touches[0].clientY:("pointerId"in N,N.clientY),Y=R.getBoundingClientRect(),V={x:_-Y.left,y:I-Y.top},U=Q(f.GUID);if(!U)return;console.log("",f),console.log("",U);const $=R.cloneNode(!0);if($.style.position="fixed",$.style.left=`${_-V.x}px`,$.style.top=`${I-V.y}px`,$.style.width=`${Y.width}px`,$.style.height=`${Y.height}px`,$.style.zIndex="9999",$.style.opacity="0.8",$.style.boxShadow="0 10px 25px rgba(0,0,0,0.3)",$.style.pointerEvents="none",document.body.appendChild($),w){const oe=U.parent.contents.findIndex(te=>te.GUID===f.GUID);g({isDragging:!0,draggedContainer:f,draggedElement:R,floatingElement:$,originalParent:U.parent,originalPosition:f.gird_position,originalIndex:oe,mouseOffset:V,isMobileDrag:!0,originalData:JSON.parse(JSON.stringify(U))})}else{const oe=U.parent.contents.findIndex(Re=>Re.GUID===f.GUID);U.parent.contents.splice(oe,1),console.log(oe);const te=U.parent,ve=de(U.parent,f);U.parent.contents=ve,console.log(U.parent),g({isDragging:!0,draggedContainer:f,draggedElement:R,floatingElement:$,originalParent:te,originalPosition:f.gird_position,originalIndex:oe,mouseOffset:V,isMobileDrag:!1,originalData:null})}},D=f=>{if(!v.isDragging||!v.floatingElement)return;const R="touches"in f?f.touches[0].clientX:f.clientX,N="touches"in f?f.touches[0].clientY:f.clientY;v.floatingElement.style.left=`${R-v.mouseOffset.x}px`,v.floatingElement.style.top=`${N-v.mouseOffset.y}px`;const w=document.elementFromPoint(R,N),_=w==null?void 0:w.closest("[data-container-guid]");if(_){const I=_.getAttribute("data-container-guid"),Y=Q(I);if(Y&&ye(v.draggedContainer.type).includes(Y.container.type)){const U=P(_,R,N);if(v.draggedContainer.type==="med_box"&&!["left","right"].includes(U)){y(null);return}y({container:Y.container,direction:U,element:_});return}}y(null)},A=async f=>{if(!v.isDragging)return;v.floatingElement&&document.body.removeChild(v.floatingElement);let R=null,N=null,w=null;if(console.log("Drop Target:",u),console.log("Is Mobile Drag:",v.isMobileDrag),v.isMobileDrag)if(u){R=u.direction,w=u.container;const _=Q(v.draggedContainer.GUID);if(_){const oe=_.parent.contents.findIndex(ve=>ve.GUID===v.draggedContainer.GUID);_.parent.contents.splice(oe,1);const te=de(_.parent,v.draggedContainer);_.parent.contents=te}const I=ne(u.container.gird_position||"0,0");let Y=I.row,V=I.col;switch(u.direction){case"top":Y=Math.max(0,I.row);break;case"bottom":Y=I.row+1;break;case"left":V=Math.max(0,I.col);break;case"right":V=I.col+1;break}const U=Q(u.container.MASTER_GUID||u.container.GUID);let $=(U==null?void 0:U.container)||u.container;if(v.draggedContainer.class!=u.class&&($=u),v.draggedContainer.type==="med_box"&&u.container.type!=="med_box")if(console.log(""),$=u.container,$.contents.length>0){let oe=0,te=0;$.contents.forEach(ve=>{const Re=ne(ve.gird_position||"0,0").row,tr=ne(ve.gird_position||"0,0").col;oe>Re&&(oe=Re),te>tr&&(te=tr)});for(let ve=0;ve<=te;ve++)for(let Re=0;Re<=oe;Re++){const tr=`${ve},${Re}`;$.contents.filter(ed=>ed.grid_position===tr).length===0&&(Y=ve,V=Re)}}else Y=0,V=0;N=$,pe($,v.draggedContainer,Y,V,u.direction)}else R=null,w=null,N=v.originalParent;else if(u){R=u.direction,w=u.container;const _=ne(u.container.gird_position||"0,0");let I=_.row,Y=_.col;switch(u.direction){case"top":I=Math.max(0,_.row);break;case"bottom":I=_.row+1;break;case"left":Y=Math.max(0,_.col);break;case"right":Y=_.col+1;break}const V=Q(u.container.MASTER_GUID||u.container.GUID);console.log("------",u),console.log("------",v.draggedContainer);let U=(V==null?void 0:V.container)||u.container;if(console.log(v.draggedContainer.class),console.log(u.container.class),console.log(v.draggedContainer.class!=u.container.class),v.draggedContainer.class!=u.container.class&&(U=u.container,console.log("------"),console.log("------",u),console.log("------",v.draggedContainer),console.log("------",U)),v.draggedContainer.type==="med_box"&&u.container.type!=="med_box")if(console.log(""),U=u.container,U.contents.length>0){let $=0,oe=0;U.contents.forEach(te=>{const ve=ne(te.gird_position||"0,0").row,Re=ne(te.gird_position||"0,0").col;$>ve&&($=ve),oe>Re&&(oe=Re)});for(let te=0;te<=oe;te++)for(let ve=0;ve<=$;ve++){const Re=`${te},${ve}`;U.contents.filter(Sa=>Sa.grid_position===Re).length===0&&(I=te,Y=ve)}}else I=0,Y=0;N=U,pe(U,v.draggedContainer,I,Y,u.direction)}else{R=null,w=null,N=v.originalParent,v.draggedContainer.gird_position=v.originalPosition;const _=ne(v.originalPosition||"0,0").row,I=ne(v.originalPosition||"0,0").col;pe(v.originalParent,v.draggedContainer,_,I,null)}g({isDragging:!1,draggedContainer:null,draggedElement:null,floatingElement:null,originalParent:null,originalPosition:"",originalIndex:-1,mouseOffset:{x:0,y:0},isMobileDrag:!1,originalData:null}),y(null),console.log("Drop Direction:",R),console.log("Parent Object:",N),console.log("Target Object:",w),console.log("API",S),await sh(S)};j.useEffect(()=>{if(v.isDragging)if(E()){const R=_=>{_.preventDefault(),D(_)},N=_=>A(),w=_=>A();return document.addEventListener("pointermove",R,{passive:!1}),document.addEventListener("pointerup",N),document.addEventListener("pointercancel",w),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N),document.removeEventListener("pointercancel",w)}}else{const R=I=>D(I),N=I=>A(),w=I=>{I.preventDefault(),D(I)},_=I=>A();return document.addEventListener("mousemove",R),document.addEventListener("mouseup",N),document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",_),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",N),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_)}}},[v.isDragging,u]),j.useEffect(()=>{const f=N=>{N.code==="Space"&&!N.repeat&&(N.preventDefault(),k(!0))},R=N=>{N.code==="Space"&&(N.preventDefault(),k(!1),d(!1))};return window.addEventListener("keydown",f),window.addEventListener("keyup",R),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",R)}},[]);const T=j.useCallback(f=>{var N;if(p)return;if(f.altKey&&!navigator.userAgent.includes("Mac")||f.metaKey&&navigator.userAgent.includes("Mac")){f.preventDefault();const w=(N=t.current)==null?void 0:N.getBoundingClientRect();if(!w)return;const _=f.clientX-w.left,I=f.clientY-w.top,Y=f.deltaY>0?.9:1.1,V=Math.max(.1,Math.min(5,a.scale*Y)),U=V/a.scale,$=_-(_-a.x)*U,oe=I-(I-a.y)*U;i({x:$,y:oe,scale:V})}},[a,p]),L=j.useCallback(f=>{p||!C||(d(!0),b({x:f.clientX,y:f.clientY}),f.preventDefault())},[p,C]),Z=j.useCallback(f=>{if(!c||p)return;const R=f.clientX-m.x,N=f.clientY-m.y;i(w=>({...w,x:w.x+R,y:w.y+N})),b({x:f.clientX,y:f.clientY})},[c,m,p]),q=j.useCallback(()=>{d(!1)},[]),[re,ee]=j.useState(null),[he,z]=j.useState({x:0,y:0}),X=f=>{if(f.length<2)return null;const R=f[0],N=f[1];return Math.sqrt(Math.pow(N.clientX-R.clientX,2)+Math.pow(N.clientY-R.clientY,2))},ue=f=>{if(f.length===1)return{x:f[0].clientX,y:f[0].clientY};const R=f[0],N=f[1];return{x:(R.clientX+N.clientX)/2,y:(R.clientY+N.clientY)/2}},xe=j.useCallback(f=>{if(!p){if(f.touches.length===2){const R=X(f.touches),N=ue(f.touches);ee(R),z(N)}else if(f.touches.length===1){const R=f.touches[0];b({x:R.clientX,y:R.clientY}),d(!0)}}},[p]),be=j.useCallback(f=>{var R;if(!p){if(f.preventDefault(),f.touches.length===2&&re!==null){const N=X(f.touches),w=ue(f.touches);if(N&&re){const _=(R=t.current)==null?void 0:R.getBoundingClientRect();if(!_)return;const I=N/re,Y=Math.max(.1,Math.min(5,a.scale*I)),V=w.x-_.left,U=w.y-_.top,$=Y/a.scale,oe=V-(V-a.x)*$,te=U-(U-a.y)*$;i({x:oe,y:te,scale:Y}),ee(N),z(w)}}else if(f.touches.length===1&&c){const N=f.touches[0],w=N.clientX-m.x,_=N.clientY-m.y;i(I=>({...I,x:I.x+w,y:I.y+_})),b({x:N.clientX,y:N.clientY})}}},[a,re,c,m,p]),Ne=j.useCallback(()=>{ee(null),d(!1)},[]);j.useEffect(()=>{const f=t.current;if(f)return f.addEventListener("wheel",T,{passive:!1}),()=>f.removeEventListener("wheel",T)},[T]);const xt=()=>!r||r.length===0?[]:r,F=f=>{if(!f||f.length===0)return{sortedContents:[],maxRow:0,maxCol:0};const R=f.map(I=>({...I,gridPos:ne(I.gird_position||"0,0")})),N=Math.max(...R.map(I=>I.gridPos.row),0),w=Math.max(...R.map(I=>I.gridPos.col),0);return{sortedContents:R.sort((I,Y)=>I.gridPos.row!==Y.gridPos.row?I.gridPos.row-Y.gridPos.row:I.gridPos.col-Y.gridPos.col),maxRow:N,maxCol:w}},K=xt(),le=Math.max(...K.map(f=>ne(f.gird_position||"0,0").row),0),ae=Math.max(...K.map(f=>ne(f.gird_position||"0,0").col),0),se=f=>{const R=w=>{if(w.width&&Array.isArray(w.width)&&typeof w.width_index=="number"&&w.width_index>=0&&w.width_index<w.width.length){const I=parseFloat(w.width[w.width_index]);if(!isNaN(I)){const Y=I*20;return Math.max(168,Y)}}return 168},N=w=>{switch(w){case"parent_container":return"bg-pink-50 border-pink-300";case"sub_container":return"bg-blue-50 border-blue-300";case"dispensing_shelves":case"store_shelves":return"bg-green-50 border-green-300";case"med_box":return"bg-yellow-50 border-yellow-300";case"grid_draw":case"list_draw":return"bg-violet-50 border-violet-300";default:return"bg-gray-50 border-gray-300"}};switch(f.type){case"med_box":return R(f),l.jsxs("div",{"data-container-guid":f.GUID,className:`${f.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${N(f.type||0)} min-h-[80px] flex flex-col flex-shrink-0 h-full overflow-hidden`,children:[l.jsx("div",{onMouseDown:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onTouchStart:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onPointerDown:p&&W(f.type)&&E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,className:p&&W(f.type)?"cursor-move":"",children:l.jsx(is,{content:f})}),l.jsx("div",{className:"flex-1 p-1",children:ie(f)})]},f.GUID);case"sub_container":case"parent_container":return l.jsxs("div",{"data-container-guid":f.GUID,className:`${N(f.type||0)} border-2 overflow-hidden rounded-lg shadow-sm min-h-[80px] flex flex-col h-full`,children:[l.jsx("div",{onMouseDown:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onTouchStart:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onPointerDown:p&&W(f.type)&&E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,className:p&&W(f.type)?"cursor-move":"",children:l.jsx(is,{content:f})}),l.jsx("div",{className:"flex-1  p-1",children:ie(f)})]},f.GUID);case"grid_draw":return l.jsxs("div",{"data-container-guid":f.GUID,className:`${f.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${N(f.type||0)} min-h-[80px] flex flex-col h-full overflow-hidden`,children:[l.jsx("div",{onMouseDown:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onTouchStart:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onPointerDown:p&&W(f.type)&&E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,className:p&&W(f.type)?"cursor-move":"",children:l.jsx(is,{content:f})}),l.jsx("div",{className:"flex-1 p-1 flex items-center",children:ie(f)})]},f.GUID);default:return l.jsxs("div",{"data-container-guid":f.GUID,className:`${f.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${N(f.type||0)} min-h-[80px] flex flex-col h-full overflow-hidden ${f.type=="none"?"opacity-0":""}`,children:[l.jsx("div",{onMouseDown:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onTouchStart:p&&W(f.type)&&!E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,onPointerDown:p&&W(f.type)&&E()?w=>h(f,w.currentTarget.closest("[data-container-guid]"),w):void 0,className:p&&W(f.type)?"cursor-move":"",children:l.jsx(is,{content:f})}),l.jsx("div",{className:"flex-1 p-1",children:ie(f)})]},f.GUID)}},ie=f=>{const R=(N,w,_)=>{const I=Array(w+1).fill(null).map(()=>Array(_+1).fill(!1)),Y={};return N.forEach(V=>{const U=ne(V.gird_position||"0,0");Y[`${U.row},${U.col}`]=V,I[U.row][U.col]=!0}),l.jsx("table",{className:"w-full h-full",style:{borderCollapse:"none",borderSpacing:"0px"},children:l.jsx("tbody",{children:Array.from({length:w+1},(V,U)=>l.jsx("tr",{className:"h-full",style:{height:`${100/(w+1)}%`,minHeight:"80px"},children:Array.from({length:_+1},($,oe)=>{const te=`${U},${oe}`,ve=Y[te];return ve?l.jsxs("td",{className:"align-top bg-transparent",style:{width:`${100/(_+1)}%`,height:`${100/(w+1)}%`,minHeight:"80px",border:"none",position:"relative"},children:[se(ve),(u==null?void 0:u.container.GUID)===ve.GUID&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:l.jsx("div",{className:`absolute bg-blue-400 opacity-50 ${u.direction==="top"?"top-0 left-0 right-0 h-1":u.direction==="bottom"?"bottom-0 left-0 right-0 h-1":u.direction==="left"?"left-0 top-0 bottom-0 w-1":"right-0 top-0 bottom-0 w-1"}`})})]},oe):l.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(_+1)}%`,height:`${100/(w+1)}%`,minHeight:"80px",border:"none"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:""})},oe)})},U))})})};switch(f.type){case"parent_container":case"sub_container":if(f.contents&&f.contents.length>0){const{sortedContents:$,maxRow:oe,maxCol:te}=F(f.contents);return R($,oe,te)}else return l.jsx("table",{className:"bg-transparent w-full h-full",style:{borderCollapse:"separate",borderSpacing:"1px"},children:l.jsx("tbody",{children:l.jsx("tr",{})})});case"dispensing_shelves":case"store_shelves":case"none":if(f.contents&&f.contents.length>0){const{sortedContents:$,maxRow:oe,maxCol:te}=F(f.contents);return R($,oe,te)}else return l.jsx("table",{className:"bg-transparent w-full h-full",style:{borderCollapse:"separate",borderSpacing:"0px"},children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"p-4 text-center text-gray-500 bg-transparent",children:l.jsx("div",{className:"text-base",children:""})})})})});case"grid_draw":const N=Math.max(...f.Boxes.flat().map($=>+$.Row+ +$.Height-1)),w=Math.max(...f.Boxes.flat().map($=>+$.Column+ +$.Width-1)),_=N+1,I=w+1,Y=f.Boxes.flat(),V=Array(_).fill(null).map(()=>Array(I).fill(!1)),U={};return Y.forEach($=>{$.Slave||(U[`${$.Row},${$.Column}`]=$)}),Y.forEach($=>{if(!$.Slave&&($.Width>1||$.Height>1))for(let oe=$.Row;oe<$.Row+$.Height;oe++)for(let te=$.Column;te<$.Column+$.Width;te++)(oe!==$.Row||te!==$.Column)&&(V[oe][te]=!0)}),l.jsxs("div",{className:"bg-violet-100 h-20 flex ml-2 mt-2 mb-6 rounded-xl border-2 border-violet-400 w-[140px] items-center justify-center",children:[l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%] rounded-xl"}),l.jsx("div",{className:"h-[80%] border-2 border-violet-400 w-[82%] mx-1",children:l.jsx("div",{className:"flex items-center justify-center text-base text-violet-400 h-[100%]"})}),l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%]"})]});case"list_draw":return l.jsxs("div",{className:"bg-violet-100 h-20 flex ml-2 mt-2 mb-6 rounded-xl border-2 border-violet-400 w-[140px] items-center justify-center",children:[l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%] rounded-xl"}),l.jsx("div",{className:"h-[80%] border-2 border-violet-400 w-[82%] mx-1",children:l.jsx("div",{className:"flex items-center justify-center text-base text-violet-400 h-[100%]"})}),l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%]"})]});case"med_box":return f.med_info&&f.med_info.length>0?l.jsxs("div",{className:"text-base text-center min-h-[40px] flex items-center justify-center flex-col",children:[l.jsx("div",{className:"w-full text-gray-700 font-semibold text-left px-1",children:f.name}),l.jsx("div",{className:"text-gray-700",children:f.med_info[0].code}),l.jsxs("div",{className:"text-gray-700 w-full flex justify-between px-1",children:[l.jsxs("div",{children:[f.box_type,""]}),l.jsxs("div",{children:[f.width[f.width_index],"cm"]})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:l.jsx("div",{className:"text-base",children:""})});default:return f.contents&&f.contents.length>0?l.jsx("div",{className:"space-y-2",children:f.contents.map($=>se($))}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:l.jsxs("div",{className:"text-base",children:[": ",f.type]})})}},me=f=>{if(ne(f.gird_position||"0,0"),f.type!==""&&f.type!=="")return null;const R=N=>{if(!N||N.length===0)return l.jsx("table",{className:"w-full h-full border-none",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"p-4 text-center text-gray-500",children:l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"text-base",children:""})})})})})});const{sortedContents:w,maxRow:_,maxCol:I}=F(N),Y=Array(_+1).fill(null).map(()=>Array(I+1).fill(!1)),V={};return w.forEach(U=>{const $=ne(U.gird_position||"0,0");V[`${$.row},${$.col}`]=U,Y[$.row][$.col]=!0}),l.jsx("table",{className:"w-full h-full",style:{borderCollapse:"none",borderSpacing:"0px"},children:l.jsx("tbody",{children:Array.from({length:_+1},(U,$)=>l.jsx("tr",{className:"h-full",children:Array.from({length:I+1},(oe,te)=>{const ve=`${$},${te}`,Re=V[ve];return Re?l.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(I+1)}%`,height:`${100/(_+1)}%`,minHeight:"120px",border:"none"},children:se(Re)},te):l.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(I+1)}%`,height:`${100/(_+1)}%`,minHeight:"120px",border:"1px dashed #e5e7eb"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:""})},te)})},$))})})};return l.jsxs("div",{"data-container-guid":f.GUID,className:"border-2 rounded-lg shadow-lg bg-orange-50 border-orange-300 min-h-[120px] flex flex-col overflow-hidden w-full h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b-2 bg-orange-100 border-b-orange-200",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:"text-lg font-semibold text-gray-800",children:f.name})}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:N=>{N.stopPropagation(),console.log(" "),console.log(" :",f),f?(console.log("  openAddParentContainerModal"),o(f)):console.warn(" ")},title:"",children:l.jsx(jt,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:N=>{N.stopPropagation()},title:"",children:l.jsx(ut,{className:"w-6 h-6 text-gray-600"})})]})]}),l.jsx("div",{className:`flex-1 bg-orange-50 ${(u==null?void 0:u.container.GUID)===f.GUID?"ring-2 ring-blue-400 ring-inset":""}`,children:R(f.contents||[])})]},f.GUID)};return l.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-50",children:[l.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex gap-2",children:l.jsx("button",{onClick:()=>x(!p),className:`rounded-lg shadow-lg p-2 transition-colors ${p?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,title:p?"Unlock Canvas":"Lock Canvas",children:p?l.jsx(qu,{className:"w-6 h-6"}):l.jsx(Zu,{className:"w-6 h-6"})})}),l.jsx("div",{ref:t,className:`w-full h-full relative ${C&&!p?"cursor-grab":"cursor-default"} ${c?"cursor-grabbing":""}`,onMouseDown:L,onMouseMove:Z,onMouseUp:q,onMouseLeave:q,onTouchStart:xe,onTouchMove:be,onTouchEnd:Ne,children:l.jsxs("div",{className:"absolute inset-0 origin-top-left",style:{transform:`translate(${a.x}px, ${a.y}px) scale(${a.scale})`,transformOrigin:"0 0"},children:[l.jsx("div",{className:"relative","data-canvas-content":!0,children:l.jsx("table",{className:"h-full",style:{borderCollapse:"separate",borderSpacing:`${M}px`,minWidth:"fit-content",minHeight:"fit-content"},children:l.jsx("tbody",{children:Array.from({length:le+1},(f,R)=>l.jsx("tr",{children:Array.from({length:ae+1},(N,w)=>{const _=K.find(I=>{const Y=ne(I.gird_position||"0,0");return Y.row===R&&Y.col===w});return _?l.jsx("td",{className:"align-top",style:{minWidth:"150px",minHeight:"120px",border:"none"},children:me(_)},w):l.jsx("td",{className:"align-top",style:{minWidth:"150px",minHeight:"120px",border:"none"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-base"})},w)})},R))})})}),e]})})]})},sh=async e=>{if(console.log(e),Object.keys(e.current).length===0){console.log("");return}console.log(" :",e.current);const t=[],n=[],r=[];Object.values(e.current).forEach(o=>{console.log("API REQ",o);const a={GUID:o.GUID,position:o.position,MASTER_GUID:o.MASTER_GUID,serverName:o.serverName,serverType:o.serverType};switch(o.type){case"med_box":t.push(a);break;case"grid_draw":case"list_draw":n.push(a);break;case"dispensing_shelves":case"store_shelves":r.push(a);break;default:console.warn(":",o.type)}});const s=[];if(t.length>0&&(console.log(" :",t),s.push(Se.updateMedMapBox(t).then(o=>({type:"med_box",response:o,count:t.length})).catch(o=>({type:"med_box",error:o,count:t.length})))),n.length>0&&(console.log(" :",n),s.push(Se.updateMedMapDrawer(n).then(o=>({type:"drawer",response:o,count:n.length})).catch(o=>({type:"drawer",error:o,count:n.length})))),r.length>0&&(console.log(" :",r),s.push(Se.updateMedMapShelf(r).then(o=>({type:"shelf",response:o,count:r.length})).catch(o=>({type:"shelf",error:o,count:r.length})))),s.length===0){console.log(" API");return}try{const o=await Promise.all(s);let a=0,i=0;const c=[];o.forEach(d=>{var p,x;if(d.error)i+=d.count,c.push(`${d.type}: ${d.error.message||""}`),console.error(` ${d.type} API :`,d.error);else if(((p=d.response)==null?void 0:p.Code)===200)a+=d.count,console.log(` ${d.type} API :`,d.response);else{i+=d.count;const m=((x=d.response)==null?void 0:x.Result)||"";c.push(`${d.type}: ${m}`),console.error(` ${d.type} API :`,d.response)}})}catch(o){console.error(" :",o)}finally{console.log("")}},oh="modulepreload",lh=function(e){return"/"+e},Ti={},ah=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=lh(c),c in Ti)return;Ti[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const x=document.createElement("link");if(x.rel=d?"stylesheet":oh,d||(x.as="script"),x.crossOrigin="",x.href=c,i&&x.setAttribute("nonce",i),document.head.appendChild(x),d)return new Promise((m,b)=>{x.addEventListener("load",m),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return s.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})},bt=[{name:"2.13",box_type:"2.13",width:["7.5"],unit:"cm"},{name:"2.9",type:"2.9",width:["10","15","20"],unit:"cm"},{name:"4.2",type:"4.2",width:["11","16"],unit:"cm"}],ih=()=>{const{medBoxModalOpen:e,closeMedBoxModal:t,selectedMedBox:n,selectedDepartmentType:r,setApiDepartmentData:s,setIsLoadingMedMap:o,showNotification:a,triggerRefresh:i,modalMode:c}=rt(),{t:d}=Je(),[p,x]=j.useState(0),[m,b]=j.useState({}),[C,k]=j.useState(""),[v,g]=j.useState(""),[u,y]=j.useState("N"),[S,E]=j.useState([]),[M,B]=j.useState(!1),[H,ce]=j.useState(!1),[W,ye]=j.useState(null),[ne,O]=j.useState(null),[Q,de]=j.useState(!1);j.useEffect(()=>{if(n&&e)if(c==="add"){x(0);const z={};bt.forEach((X,ue)=>{z[ue]=0}),b(z),k(""),ce(!1),pe()}else{const z=bt.findIndex(X=>X.box_type===n.box_type||X.type===n.box_type);if(console.log(n),z>=0){x(z);const ue=bt[z].width.findIndex(be=>{var Ne;return be===((Ne=n.width)==null?void 0:Ne[n.width_index||0])}),xe={};bt.forEach((be,Ne)=>{Ne===z?xe[Ne]=ue>=0?ue:0:xe[Ne]=0}),b(xe)}else{x(0);const X={};bt.forEach((ue,xe)=>{X[xe]=0}),b(X)}k(n.ip||""),O({box_type:n.box_type,width:n.width,width_index:n.width_index,ip:n.ip||"",storage:n.storage?JSON.parse(JSON.stringify(n.storage)):null})}},[n,e,c]);const pe=()=>{n&&n.parentShelf&&ye(n.parentShelf)},P=z=>{if(!z||!z.contents||z.contents.length===0)return"0,0";let X=-1,ue=0;return z.contents.forEach(xe=>{if(xe.gird_position){const[be,Ne]=xe.gird_position.split(",").map(Number);Ne>X&&(X=Ne,ue=be)}}),`${ue},${X+1}`},h=()=>{if(!ne||c!=="edit")return!1;const z=bt[p],X=m[p]||0,ue=z.box_type||z.type||z.name;return ne.box_type!==ue||ne.width_index!==X||ne.ip!==C||JSON.stringify(ne.storage)!==JSON.stringify(n==null?void 0:n.storage)},D=z=>{x(z)},A=(z,X)=>{b(ue=>({...ue,[z]:X}))},T=()=>{n&&(c==="add"?Z():q())},L=()=>{t()},Z=async()=>{if(!n||!W){a("","error");return}ce(!0);try{const z=bt[p],X=m[p]||0,ue=z.width[X],xe=P(W),be={Master_GUID:W.GUID,position:xe,width:ue.toString(),height:"60",ip_box:C,serverName:W.serverName||"",serverType:W.serverType||""};console.log("  API :",be);const Ne=await Se.addMedMapBox(be);Ne.Code===200?(a("","success"),t(),await re()):a(`${Ne.Result||""}`,"error")}catch(z){console.error("Add med box failed:",z),a("","error")}finally{ce(!1)}},q=async()=>{var z;if(!n||!h()){a("","error");return}de(!0);try{const X=bt[p],ue=m[p]||0,xe=X.width[ue],be=X.box_type||X.type||X.name,Ne=ne.box_type!==be||ne.width_index!==ue||ne.ip!==C,xt=JSON.stringify(ne.storage)!==JSON.stringify(n==null?void 0:n.storage),F=[];if(Ne){const ae={GUID:n.GUID,Master_GUID:n.MASTER_GUID,position:n.gird_position,ip_light:C,serverName:n.serverName,serverType:n.serverType};F.push(Se.updateMedMapBox([ae]))}xt&&F.push(Se.updateEpd266Storages(n.serverName||"",n.serverType||"",[n.storage]));const K=await Promise.all(F);if(K.every(ae=>ae.Code===200))a("","success"),t(),await re();else{const ae=K.filter(se=>se.Code!==200);a(`${((z=ae[0])==null?void 0:z.Result)||""}`,"error")}}catch(X){console.error("Update med box failed:",X),a("","error")}finally{de(!1)}},re=async()=>{if(!r){console.warn(" ");return}console.log(" :",r),o(!0);try{const z=await Se.getMedMapByDepartment(r);if(z.Code===200&&z.Data){console.log(" API ");const X=await ah(()=>Promise.resolve().then(()=>qp),void 0),ue=X.default.convertMedMapApiToFakeData(z.Data);if(!X.default.validateConvertedData(ue)){console.error(" "),a("","error");return}s(ue),console.log(" ")}else console.error(" API :",z),a("API ","error")}catch(z){console.error(" :",z),a("","error")}finally{o(!1)}},ee=async()=>{B(!0);try{const z=await Se.searchMedicine(v,u);E(z)}catch(z){console.error("Search failed:",z),E([])}finally{B(!1)}},he=async z=>{if(n)try{console.log(" :",z.CODE);const X=await Se.updateEpd266Medcode(n.serverName||"",n.serverType||"",z.CODE,n.storage||{});X.Code===200?(console.log(" :",X.Data),n.storage=X.Data,n.med_info=[{name:z.NAME,cht_name:z.CHT_NAME,code:z.CODE}],a("","success"),i()):(console.error(" :",X),a(`${X.Result||""}`,"error"))}catch(X){console.error(" :",X),a("","error")}};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:L}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:z=>z.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ut,{className:"w-6 h-6 text-gray-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d(c==="add"?"modal.addMedBox":"modal.medBoxSettings")})]}),l.jsx("button",{onClick:L,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(an,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"gap-16 flex",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:d("form.ipAddress")}),l.jsx("div",{className:"flex items-center",children:l.jsx("input",{type:"text",onChange:z=>k(z.target.value),placeholder:(n==null?void 0:n.ip)||(n==null?void 0:n.name)||d("placeholder.ipAddress"),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors w-64"})})]})}),l.jsxs("div",{className:"flex gap-16",children:[l.jsxs("div",{className:"space-y-1 min-w-[260px]",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:d("form.medBoxType")}),l.jsx("div",{className:"flex gap-4 justify-between",children:bt.map((z,X)=>l.jsxs("label",{className:`flex items-center px-4 py-2 border-2 rounded-lg cursor-pointer transition-all ${p===X?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"radio",name:"boxType",value:X,checked:p===X,onChange:()=>D(X),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 hidden"}),l.jsx("div",{children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.name})})]},X))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:d("form.widthSelection")}),bt.map((z,X)=>l.jsx("div",{className:`flex gap-4 ${p===X?"block":"hidden"}`,children:z.width.map((ue,xe)=>l.jsxs("label",{className:`flex items-center justify-center px-4 py-2 border-2 rounded-lg cursor-pointer transition-all ${p===X&&(m[X]||0)===xe?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"radio",name:`width-${X}`,value:xe,checked:p===X&&(m[X]||0)===xe,onChange:()=>A(X,xe),className:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500 hidden"}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[ue," ",z.unit]})})]},`${X}-${xe}`))},X))]})]}),l.jsxs("div",{className:"flex gap-6",children:[c==="edit"&&l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d("form.drugInfo")}),l.jsx("div",{children:n!=null&&n.med_info&&n.med_info.length>0?l.jsx("div",{children:n.med_info.map((z,X)=>l.jsxs("div",{className:"space-y-2 p-4 border border-gray-200 rounded-lg min-h-[262px] max-h-[262px]",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[d("form.drugCode"),":"]}),l.jsx("div",{className:"text-base text-gray-900 mt-1",children:z.code||d("status.notSet")})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[d("form.drugName"),":"]}),l.jsx("div",{className:"text-base text-gray-900 mt-1",children:z.name||d("status.notSet")})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[d("form.chineseName"),":"]}),l.jsx("div",{className:"text-base text-gray-900 mt-1",children:z.cht_name||d("status.notSet")})]})]},X))}):l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-8 px-4 text-center space-y-4",children:l.jsx("div",{className:"text-gray-500 text-base",children:d("status.noDrugData")})})})]}),c==="add"&&l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:d("form.drugInfo")}),l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-2 px-4 min-h-[262px] max-h-[262px]",children:l.jsx("div",{className:"text-center py-8 space-y-4",children:l.jsx("div",{className:"text-gray-500 text-base",children:d("status.newMedBoxNoDrug")})})})]}),l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d("form.drugSearch")}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:v,onChange:z=>g(z.target.value),placeholder:d("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),l.jsxs("select",{value:u,onChange:z=>y(z.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"",children:[l.jsx("option",{value:"N",children:"N"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"})]}),l.jsxs("button",{onClick:ee,disabled:M,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[M&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),d("button.search")]})]}),l.jsx("div",{className:"bg-white border rounded p-3 min-h-[220px] max-h-[220px] overflow-y-auto",children:M?l.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[l.jsx(mt,{className:"w-5 h-5 animate-spin mr-2"}),d("status.searching")]}):S.length>0?l.jsx("div",{className:"space-y-1",children:S.map((z,X)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:z.NAME}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:z.CHT_NAME}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:z.CODE})]}),l.jsx("button",{onClick:()=>he(z),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:d("button.add"),children:l.jsx(jt,{className:"w-4 h-4"})})]},z.GUID||X))}):l.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:d(v||u!=="N"?"status.noSearchResults":"status.searchResults")})})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 py-2 px-4 border-t border-gray-200",children:[l.jsx("button",{onClick:L,disabled:H||Q,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:d("button.cancel")}),l.jsxs("button",{onClick:T,disabled:H||Q,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[(H||Q)&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:H?"...":Q?"...":d(c==="add"?"button.add":"button.save")})]})]})]})]})},ch=()=>{const{listDrawModalOpen:e,closeListDrawModal:t,selectedListDraw:n,triggerRefresh:r}=rt(),{t:s}=Je(),[o,a]=j.useState(""),[i,c]=j.useState([]),[d,p]=j.useState(""),[x,m]=j.useState("N"),[b,C]=j.useState([]),[k,v]=j.useState(!1);j.useEffect(()=>{n&&e&&(a(n.name||""),c(n.med_info||[]))},[n,e]);const g=M=>{c(B=>B.filter(H=>H.code!==M))},u=async()=>{v(!0);try{const M=await Se.searchMedicine(d,x);C(M)}catch(M){console.error("Search failed:",M),C([])}finally{v(!1)}},y=M=>{const B={id:M.GUID||`${Date.now()}_${Math.random()}`,name:M.NAME,cht_name:M.CHT_NAME,code:M.CODE};c(H=>H.some(W=>W.code===B.code)?H:[...H,B])},S=()=>{n&&(n.name=o,n.med_info=i,r(),t())},E=()=>{t()};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:E}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:M=>M.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ut,{className:"w-6 h-6 text-gray-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("modal.listDrawSettings")})]}),l.jsx("button",{onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(an,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-4 py-1 overflow-y-auto",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("form.drawerName")}),l.jsx("input",{type:"text",value:o,onChange:M=>a(M.target.value),placeholder:(n==null?void 0:n.name)||s("placeholder.drawerName"),className:"w-full px-2 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-base"})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("form.drugList")}),i.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-2",children:i.map(M=>l.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-1 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{children:[M.code&&l.jsx("div",{children:l.jsx("div",{className:"text-sm text-gray-900 font-mono",children:M.code})}),l.jsx("div",{children:l.jsx("div",{className:"text-sm text-gray-900 font-medium",children:M.name||s("status.notSet")})}),l.jsx("div",{children:l.jsx("div",{className:"text-sm text-gray-900",children:M.cht_name||s("status.notSet")})})]})}),l.jsx("button",{onClick:()=>g(M.code),className:"ml-3 p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",title:s("button.remove"),children:l.jsx(an,{className:"w-5 h-5"})})]})},M.id))}):l.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-500 text-lg mb-2",children:s("status.drawerNoDrug")}),l.jsx("div",{className:"text-gray-400 text-sm",children:s("status.drugListEmpty")})]})})]}),l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("form.drugSearch")}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:d,onChange:M=>p(M.target.value),placeholder:s("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),l.jsxs("select",{value:x,onChange:M=>m(M.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"",children:[l.jsx("option",{value:"N",children:"N"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"})]}),l.jsxs("button",{onClick:u,disabled:k,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[k&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),s("button.search")]})]}),l.jsx("div",{className:"bg-white border rounded p-3 min-h-[300px] max-h-[300px] overflow-y-auto",children:k?l.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[l.jsx(mt,{className:"w-5 h-5 animate-spin mr-2"}),s("status.searching")]}):b.length>0?l.jsx("div",{className:"space-y-1",children:b.map((M,B)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:M.NAME}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:M.CHT_NAME}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:M.CODE})]}),l.jsx("button",{onClick:()=>y(M),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:s("button.add"),children:l.jsx(jt,{className:"w-4 h-4"})})]},M.GUID||B))}):l.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:s(d||x!=="N"?"status.noSearchResults":"status.searchResults")})})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:E,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:s("button.cancel")}),l.jsx("button",{onClick:S,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:s("button.save")})]})]})]})},uh=()=>{const{gridDrawModalOpen:e,closeGridDrawModal:t,selectedGridDraw:n,triggerRefresh:r,apiDepartmentData:s,setApiDepartmentData:o,showNotification:a}=rt(),{t:i}=Je(),[c,d]=j.useState(""),[p,x]=j.useState(null),[m,b]=j.useState(!1),[C,k]=j.useState(!1),[v,g]=j.useState(null),[u,y]=j.useState(""),[S,E]=j.useState("N"),[M,B]=j.useState([]),[H,ce]=j.useState(!1),[W,ye]=j.useState(0),[ne,O]=j.useState({x:0,y:0});j.useEffect(()=>{if(n&&e)if(d(n.name||""),n.drawer){if(!m){console.log("  drawer :",n);const F=JSON.parse(JSON.stringify(n.drawer));x(F),b(!0),console.log(" :",F)}}else console.log("  drawer "),x(null),b(!1)},[n,e,m]),j.useEffect(()=>{e||(b(!1),x(null),g(null))},[e]);const Q=()=>{n&&Ne()},de=()=>{if(console.log(" ..."),console.log(":",p),console.log(" selectedGridDraw:",n),n&&p&&m){console.log("  drawer ...");const F=JSON.parse(JSON.stringify(p));if(n.drawer=F,s){const K=ae=>{ae.forEach(se=>{se.GUID===n.GUID&&(console.log(" "),se.drawer=F),se.contents&&Array.isArray(se.contents)&&K(se.contents),se.components&&Array.isArray(se.components)&&K(se.components)})},le=JSON.parse(JSON.stringify(s));K(le),o(le),console.log(" ")}console.log(" :",n.drawer)}else console.log("  - selectedGridDraworiginalDrawerData  hasBackup "),console.log("selectedGridDraw:",!!n),console.log("originalDrawerData:",!!p),console.log("hasBackup:",m);g(null),b(!1),x(null),r(),t()},pe=(F,K)=>{if(!v)return!1;const le=Math.min(v.startRow,v.endRow),ae=Math.max(v.startRow,v.endRow),se=Math.min(v.startCol,v.endCol),ie=Math.max(v.startCol,v.endCol);return F>=le&&F<=ae&&K>=se&&K<=ie},P=F=>{var R;if(!((R=n==null?void 0:n.drawer)!=null&&R.Boxes)||F.Slave)return{width:1,height:1};const le=n.drawer.Boxes.flat().filter(N=>N.Slave&&N.MasterBox_Row===F.Row&&N.MasterBox_Column===F.Column);if(le.length===0)return{width:1,height:1};const ae=[F,...le],se=Math.min(...ae.map(N=>N.Row)),ie=Math.max(...ae.map(N=>N.Row)),me=Math.min(...ae.map(N=>N.Column));return{width:Math.max(...ae.map(N=>N.Column))-me+1,height:ie-se+1}},h=()=>{var me;if(!v||!((me=n==null?void 0:n.drawer)!=null&&me.Boxes))return[];const F=n.drawer.Boxes.flat(),K=Math.min(v.startRow,v.endRow),le=Math.max(v.startRow,v.endRow),ae=Math.min(v.startCol,v.endCol),se=Math.max(v.startCol,v.endCol),ie=[];return F.forEach(f=>{if(!f.Slave){const R=P(f),N=f.Row+R.height-1,w=f.Column+R.width-1;f.Row>=K&&N<=le&&f.Column>=ae&&w<=se&&ie.push(f)}}),ie},D=(F,K,le,ae)=>{var w;if(!v||!((w=n==null?void 0:n.drawer)!=null&&w.Boxes))return!1;const se=n.drawer.Boxes.flat();let ie=!0,me=F,f=K,R=le,N=ae;for(;ie;)ie=!1,se.forEach(_=>{if(!_.Slave){const I=P(_),Y=_.Row+I.height-1,V=_.Column+I.width-1;!(_.Row>f||Y<me||_.Column>N||V<R)&&(_.Row<me&&(me=_.Row,ie=!0),Y>f&&(f=Y,ie=!0),_.Column<R&&(R=_.Column,ie=!0),V>N&&(N=V,ie=!0))}});return{minRow:me,maxRow:f,minCol:R,maxCol:N}},A=()=>{var ie;if(!v||!((ie=n==null?void 0:n.drawer)!=null&&ie.Boxes))return!1;const F=Math.min(v.startRow,v.endRow),K=Math.max(v.startRow,v.endRow),le=Math.min(v.startCol,v.endCol),ae=Math.max(v.startCol,v.endCol),se=n.drawer.Boxes.flat();for(let me=F;me<=K;me++)for(let f=le;f<=ae;f++){let R=!1;for(const N of se)if(!N.Slave){const w=P(N),_=N.Row+w.height-1,I=N.Column+w.width-1;if(me>=N.Row&&me<=_&&f>=N.Column&&f<=I){R=!0;break}}if(!R)return!1}return!0},T=()=>{var w,_;const F=h();if(!v)return{canMerge:!1,canUnmerge:!1};if(F.length===0)return{canMerge:!1,canUnmerge:!1};const K=((_=(w=n==null?void 0:n.drawer)==null?void 0:w.Boxes)==null?void 0:_.flat())||[],le=F.some(I=>K.filter(V=>V.Slave&&V.MasterBox_Row===I.Row&&V.MasterBox_Column===I.Column).length>0),ae=Math.min(v.startRow,v.endRow),se=Math.max(v.startRow,v.endRow),ie=Math.min(v.startCol,v.endCol),me=Math.max(v.startCol,v.endCol),f=K.some(I=>I.Slave&&I.Row>=ae&&I.Row<=se&&I.Column>=ie&&I.Column<=me);return{canMerge:F.length>1&&A(),canUnmerge:le||f}},{canMerge:L,canUnmerge:Z}=T(),q=async()=>{ce(!0);try{const F=await Se.searchMedicine(u,S);B(F)}catch(F){console.error("Search failed:",F),B([])}finally{ce(!1)}},re=async F=>{var le;if(!v||!((le=n==null?void 0:n.drawer)!=null&&le.Boxes))return;const K=h();if(K.length!==0)try{const ae={ServerName:n.serverName,ServerType:n.serverType,ValueAry:[`guid=${K[0].GUID}`,`code=${F.CODE}`],Data:n.drawer};console.log("  API :",ae);const se=await Se.request("/api/device/update_drawer_medcode",{method:"POST",body:JSON.stringify(ae)});if(console.log("  API :",se),se.Code===200&&se.Data){if(n.drawer=se.Data,se.Data.Boxes&&(n.Boxes=se.Data.Boxes),console.log(" "),s){const ie=f=>{f.forEach(R=>{R.GUID===n.GUID&&(console.log(" "),R.drawer=n.drawer,n.Boxes&&(R.Boxes=n.Boxes)),R.contents&&Array.isArray(R.contents)&&ie(R.contents),R.components&&Array.isArray(R.components)&&ie(R.components)})},me=JSON.parse(JSON.stringify(s));ie(me),o(me)}g(null),r()}else console.error(" :",se),a(`${se.Result||""}`,"error")}catch(ae){console.error("  API :",ae),a("","error")}},ee=(F,K,le)=>{le.preventDefault(),le.stopPropagation(),"touches"in le&&(ye(Date.now()),O({x:le.touches[0].clientX,y:le.touches[0].clientY})),k(!0),g({startRow:F,startCol:K,endRow:F,endCol:K})},he=(F,K)=>{if(!C||!v)return;const le=Math.min(v.startRow,F),ae=Math.max(v.startRow,F),se=Math.min(v.startCol,K),ie=Math.max(v.startCol,K),me=D(le,ae,se,ie);me&&g(f=>f?{startRow:f.startRow,startCol:f.startCol,endRow:F>=f.startRow?me.maxRow:me.minRow,endCol:K>=f.startCol?me.maxCol:me.minCol}:null)},z=()=>{if(C&&(k(!1),v&&(n!=null&&n.Boxes))){const F=Math.min(v.startRow,v.endRow),K=Math.max(v.startRow,v.endRow),le=Math.min(v.startCol,v.endCol),ae=Math.max(v.startCol,v.endCol),se=D(F,K,le,ae);se&&g({startRow:se.minRow,startCol:se.minCol,endRow:se.maxRow,endCol:se.maxCol})}},X=()=>{var F;!L||!((F=n==null?void 0:n.drawer)!=null&&F.Boxes)||!v||be()},ue=()=>{var F;!Z||!((F=n==null?void 0:n.drawer)!=null&&F.Boxes)||!v||(console.log(v),xe())},xe=async()=>{var F;if(!(!v||!((F=n==null?void 0:n.drawer)!=null&&F.Boxes)))try{const K=Math.min(v.startRow,v.endRow),le=Math.max(v.startRow,v.endRow),ae=Math.min(v.startCol,v.endCol),se=Math.max(v.startCol,v.endCol),me=n.drawer.Boxes.flat().filter(_=>_.Row>=K&&_.Row<=le&&_.Column>=ae&&_.Column<=se),f=[],R=[];me.forEach(_=>{f.push(_.Column.toString()),R.push(_.Row.toString())});const N={ServerName:n.serverName,ServerType:n.serverType,ValueAry:[`SelectColumns=${f.join(",")}`,`SelectRows=${R.join(",")}`],Data:{IP:n.ip,Boxes:n.Boxes}};console.log("  API :",N);const w=await Se.request("/api/device/separate_drawer_boxes",{method:"POST",body:JSON.stringify(N)});if(console.log(" API :",w),w.Code===200&&w.Data){if(w.Data.Boxes&&Array.isArray(w.Data.Boxes)&&(n.Boxes=w.Data.Boxes,n.drawer=w.Data,console.log(" "),s)){const _=Y=>{Y.forEach(V=>{V.GUID===n.GUID&&(console.log(" "),V.drawer=n.drawer),V.contents&&Array.isArray(V.contents)&&_(V.contents),V.components&&Array.isArray(V.components)&&_(V.components)})},I=JSON.parse(JSON.stringify(s));_(I),o(I)}}else console.error(" API :",w),a(`${w.Result||""}`,"error")}catch(K){console.error(" API :",K),a("","error")}finally{console.log("",n),console.log("",s),g(null),r()}},be=async()=>{var F;if(!(!v||!((F=n==null?void 0:n.drawer)!=null&&F.Boxes)))try{const K=Math.min(v.startRow,v.endRow),le=Math.max(v.startRow,v.endRow),ae=Math.min(v.startCol,v.endCol),se=Math.max(v.startCol,v.endCol),me=n.drawer.Boxes.flat().filter(_=>_.Row>=K&&_.Row<=le&&_.Column>=ae&&_.Column<=se),f=[],R=[];me.forEach(_=>{f.push(_.Column.toString()),R.push(_.Row.toString())});const N={ServerName:n.serverName,ServerType:n.serverType,ValueAry:[`SelectColumns=${f.join(",")}`,`SelectRows=${R.join(",")}`],Data:{IP:n.ip,Boxes:n.Boxes}};console.log("  API :",N);const w=await Se.request("/api/device/combine_drawer_boxes",{method:"POST",body:JSON.stringify(N)});if(console.log(" API :",w),w.Code===200&&w.Data){if(w.Data.Boxes&&Array.isArray(w.Data.Boxes)&&(n.Boxes=w.Data.Boxes,n.drawer=w.Data,console.log(" "),s)){const _=Y=>{Y.forEach(V=>{V.GUID===n.GUID&&(console.log(" "),V.drawer=n.drawer),V.contents&&Array.isArray(V.contents)&&_(V.contents),V.components&&Array.isArray(V.components)&&_(V.components)})},I=JSON.parse(JSON.stringify(s));_(I),o(I)}}else console.error(" API :",w),a(`${w.Result||""}`,"error")}catch(K){console.error(" API :",K),a("","error")}finally{console.log("",n),console.log("",s),g(null),r()}},Ne=async()=>{if(n)try{n.name=c;const F={ServerName:n.serverName,ServerType:n.serverType,Data:[n.drawer]};console.log("  API :",F);const K=await Se.request("/api/device/update_epd583_drawers",{method:"POST",body:JSON.stringify(F)});if(console.log("  API :",K),K.Code===200){if(console.log(" "),a("","success"),s){const le=se=>{se.forEach(ie=>{ie.GUID===n.GUID&&(console.log(" "),ie.name=n.name),ie.contents&&Array.isArray(ie.contents)&&le(ie.contents),ie.components&&Array.isArray(ie.components)&&le(ie.components)})},ae=JSON.parse(JSON.stringify(s));le(ae),o(ae)}b(!1),x(null),r(),t()}else console.error(" :",K),a(`${K.Result||""}`,"error")}catch(F){console.error("  API :",F),a("","error")}},xt=()=>{var R;if(!((R=n==null?void 0:n.drawer)!=null&&R.Boxes)||n.drawer.Boxes.length===0)return l.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ju,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-500 text-lg mb-2",children:i("status.gridDrawNotConfigured")}),l.jsx("div",{className:"text-gray-400 text-sm",children:i("status.noDrugInfo")})]})});const F=n.drawer.Boxes.flat(),K=N=>{if(N.Slave)return{width:1,height:1};const w=F.filter($=>$.Slave&&$.MasterBox_Row===N.Row&&$.MasterBox_Column===N.Column);if(w.length===0)return{width:1,height:1};const _=[N,...w],I=Math.min(..._.map($=>$.Row)),Y=Math.max(..._.map($=>$.Row)),V=Math.min(..._.map($=>$.Column));return{width:Math.max(..._.map($=>$.Column))-V+1,height:Y-I+1}},le=Math.max(...F.map(N=>N.Row+1-1)),ae=Math.max(...F.map(N=>N.Column+1-1)),se=le+1,ie=ae+1,me=Array(se).fill(null).map(()=>Array(ie).fill(!1)),f={};return F.forEach(N=>{if(!N.Slave){const w=K(N);f[`${N.Row},${N.Column}`]=N,N.calculatedWidth=w.width,N.calculatedHeight=w.height}}),F.forEach(N=>{if(!N.Slave&&(N.calculatedWidth>1||N.calculatedHeight>1))for(let w=N.Row;w<N.Row+N.calculatedHeight;w++)for(let _=N.Column;_<N.Column+N.calculatedWidth;_++)(w!==N.Row||_!==N.Column)&&(me[w][_]=!0)}),l.jsx("div",{className:"rounded-lg",children:l.jsx("table",{className:"w-full",children:l.jsx("tbody",{children:Array.from({length:se},(N,w)=>l.jsx("tr",{children:Array.from({length:ie},(_,I)=>{if(me[w][I])return null;const Y=`${w},${I}`,V=f[Y];return V?l.jsx("td",{className:`border border-gray-400 pt-1 pl-1 align-top cursor-pointer select-none ${pe(w,I)?"bg-blue-200":"bg-white hover:bg-gray-100"}`,style:{width:`${100/ie}%`,minHeight:"40px",height:`${50*V.calculatedHeight}px`,maxHeight:`${50*V.calculatedHeight}px`},colSpan:V.calculatedWidth,rowSpan:V.calculatedHeight,onMouseDown:U=>ee(w,I,U),onMouseEnter:()=>he(w,I),onMouseUp:z,onTouchStart:U=>ee(w,I,U),onTouchMove:U=>{if(U.preventDefault(),!C)return;const $=U.touches[0],oe=document.elementFromPoint($.clientX,$.clientY),te=oe==null?void 0:oe.closest("td");if(te){const ve=parseInt(te.getAttribute("data-row")||"0"),Re=parseInt(te.getAttribute("data-col")||"0");he(ve,Re)}},onTouchEnd:z,"data-row":w,"data-col":I,children:l.jsx("div",{className:"h-full flex flex-col",children:V.Code||V.Name||V.ChineseName?l.jsxs(l.Fragment,{children:[V.Code&&l.jsx("div",{className:"text-xs font-mono text-gray-600",children:V.Code}),V.Name&&l.jsx("div",{className:"text-xs font-medium text-gray-900",children:V.Name}),V.ChineseName&&l.jsx("div",{className:"text-xs text-gray-700",children:V.ChineseName})]}):l.jsx("div",{className:"h-full flex justify-center items-center text-xs text-gray-400 italic text-center",children:i("status.notAdded")})})},I):l.jsx("td",{className:`border border-gray-300 p-2 align-top cursor-pointer select-none ${pe(w,I)?"border-1 border-blue-500 bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,style:{width:`${100/ie}%`,minWidth:"80px",minHeight:"80px"},onMouseDown:U=>ee(w,I,U),onMouseEnter:()=>he(w,I),onMouseUp:z,onTouchStart:U=>ee(w,I,U),onTouchMove:U=>{if(U.preventDefault(),!C)return;const $=U.touches[0],oe=document.elementFromPoint($.clientX,$.clientY),te=oe==null?void 0:oe.closest("td");if(te){const ve=parseInt(te.getAttribute("data-row")||"0"),Re=parseInt(te.getAttribute("data-col")||"0");he(ve,Re)}},onTouchEnd:z,"data-row":w,"data-col":I,children:l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-xs",children:i("status.notAdded")})},I)})},w))})})})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:de}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:F=>F.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ut,{className:"w-6 h-6 text-gray-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i("modal.gridDrawSettings")})]}),l.jsx("button",{onClick:de,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(an,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:[l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h3",{className:"text-lg whitespace-nowrap font-medium text-gray-900",children:i("form.drawerName")}),l.jsx("input",{type:"text",value:c,onChange:F=>d(F.target.value),disabled:!0,placeholder:(n==null?void 0:n.name)||i("placeholder.gridDrawName"),className:"px-2 py-1 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-base"})]}),l.jsx("div",{className:"space-y-1",children:xt()})]}),l.jsxs("div",{className:"py-2 flex space-x-4",children:[l.jsx("div",{className:"grid grid-cols-1 gap-2 w-[10%]",children:l.jsxs("div",{className:"grid grid-cols-1 gap-2 items-strat",children:[l.jsx("button",{onClick:X,disabled:!L,className:`px-4 py-2 rounded transition-colors ${L?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i("button.merge")}),l.jsx("button",{onClick:ue,disabled:!Z,className:`px-4 py-2 rounded transition-colors ${Z?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i("button.unmerge")})]})}),l.jsx("div",{className:"space-y-2 w-[30%]",children:(()=>{const F=h(),K=F.find(le=>!le.Slave);return K&&(K.Code||K.Name||K.ChineseName)?l.jsxs("div",{className:"border border-blue-200 rounded-lg p-2 space-y-1 h-full",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-900 mb-1",children:i("form.drugCode")}),l.jsx("div",{className:"text-base text-gray-900",children:K.Code||"-"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-900  mb-1",children:i("form.drugName")}),l.jsx("div",{className:"text-base text-gray-900",children:K.Name||"-"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-900 mb-1",children:i("form.chineseName")}),l.jsx("div",{className:"text-base text-gray-900",children:K.ChineseName||"-"})]})]}):l.jsx("div",{className:"bg-gray-50 border h-full border-gray-200 rounded-lg p-3 text-center",children:l.jsx("div",{className:"text-gray-500 h-full w-full flex justify-center items-center",children:v&&F.length>0?i("status.selectedCellsNoDrug"):i("status.selectCellsForDrug")})})})()}),l.jsxs("div",{className:"w-[60%]",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:u,onChange:F=>y(F.target.value),placeholder:i("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),l.jsxs("select",{value:S,onChange:F=>E(F.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"",children:[l.jsx("option",{value:"N",children:"N"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"})]}),l.jsxs("button",{onClick:q,disabled:H,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[H&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),i("button.search")]})]}),l.jsx("div",{className:"bg-white border rounded p-3 min-h-[150px] max-h-[150px] overflow-y-auto",children:H?l.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[l.jsx(mt,{className:"w-5 h-5 animate-spin mr-2"}),i("status.searching")]}):M.length>0?l.jsx("div",{className:"space-y-1",children:M.map((F,K)=>l.jsxs("div",{className:"flex items-center justify-between p-1 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:F.NAME}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:F.CHT_NAME}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:F.CODE})]}),l.jsx("button",{onClick:()=>re(F),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:i("button.add"),children:l.jsx(jt,{className:"w-4 h-4"})})]},F.GUID||K))}):l.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:i(u||S!=="N"?"status.noSearchResults":"status.searchResults")})})]})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:de,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:i("button.cancel")}),l.jsx("button",{onClick:Q,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:i("button.save")})]})]}),l.jsx("div",{className:"fixed inset-0 pointer-events-none",onMouseUp:z,onMouseLeave:z,onTouchEnd:z,onTouchCancel:z})]})]})},dh=()=>{var ne;const{addParentContainerModalOpen:e,closeAddParentContainerModal:t,selectedDepartmentForAdd:n,selectedDepartmentType:r,setApiDepartmentData:s,setIsLoadingMedMap:o,showNotification:a,triggerRefresh:i,setSidebarOpen:c}=rt(),{t:d}=Je(),[p,x]=j.useState(null),[m,b]=j.useState(0),[C,k]=j.useState(0),[v,g]=j.useState(!1);j.useEffect(()=>{e&&(x(null),b(0),k(0),g(!1))},[e]),j.useEffect(()=>{p&&(b(p.row),k(p.col))},[p]);const u=()=>{const O=new Set;return n!=null&&n.contents&&n.contents.forEach(Q=>{Q.type==="parent_container"&&Q.gird_position&&O.add(Q.gird_position)}),O},y=()=>{const O=u(),Q=[];if(O.size===0)return Q.push({row:0,col:0}),Q;const de=[];O.forEach(P=>{const[h,D]=P.split(",").map(Number);de.push({row:h,col:D})});const pe=new Set;return de.forEach(({row:P,col:h})=>{pe.add(`${P},${h+1}`),pe.add(`${P+1},${h}`),h>0&&pe.add(`${P},${h-1}`),P>0&&pe.add(`${P-1},${h}`)}),pe.forEach(P=>{if(!O.has(P)){const[h,D]=P.split(",").map(Number);h>=0&&D>=0&&Q.push({row:h,col:D})}}),O.has("0,1")||Q.some(h=>h.row===0&&h.col===1)||Q.push({row:0,col:1}),O.has("1,0")||Q.some(h=>h.row===1&&h.col===0)||Q.push({row:1,col:0}),Q.sort((P,h)=>P.row===h.row?P.col-h.col:P.row-h.row)},S=O=>{x(O)},E=O=>{b(O),x({row:O,col:C})},M=O=>{k(O),x({row:m,col:O})},B=p&&!u().has(`${p.row},${p.col}`)&&p.row>=0&&p.col>=0,H=async()=>{if(!(!p||!n||!B)){g(!0);try{const O=`${p.row},${p.col}`,Q=await Se.addMedMapSection(n.GUID,O);Q.Code===200?(a("","success"),t(),c(!1),await ce()):a(`${Q.Result||""}`,"error")}catch(O){console.error("Add parent container failed:",O),a("","error")}finally{g(!1)}}},ce=async()=>{if(!r){console.warn(" ");return}console.log(" :",r),o(!0);try{const O=await Se.getMedMapByDepartment(r);if(O.Code===200&&O.Data){console.log(" API ");const Q=Rt.convertMedMapApiToFakeData(O.Data);if(!Rt.validateConvertedData(Q)){console.error(" "),a("","error");return}s(Q),console.log(" ")}else console.error(" API :",O),a("API ","error")}catch(O){console.error(" :",O),a("","error")}finally{o(!1)}},W=()=>{t()},ye=()=>{const O=u(),Q=y(),de=[...O].map(L=>{const[Z,q]=L.split(",").map(Number);return{row:Z,col:q}}).concat(Q);de.length===0&&de.push({row:0,col:0});const pe=Math.max(...de.map(L=>L.row)),P=Math.max(...de.map(L=>L.col)),h=Math.min(...de.map(L=>L.row)),D=Math.min(...de.map(L=>L.col)),A=pe-h+1,T=P-D+1;return l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${T}, 1fr)`},children:Array.from({length:A*T},(L,Z)=>{const q=Math.floor(Z/T)+h,re=Z%T+D,ee=`${q},${re}`,he=O.has(ee),z=Q.some(ue=>ue.row===q&&ue.col===re),X=(p==null?void 0:p.row)===q&&(p==null?void 0:p.col)===re;return l.jsx("button",{onClick:()=>z&&S({row:q,col:re}),disabled:he||!z,className:`
                    w-16 h-16 border-2 rounded-lg transition-all duration-200 flex items-center justify-center text-sm font-medium
                    ${he?"bg-red-100 border-red-300 text-red-600 cursor-not-allowed":X?"bg-blue-500 border-blue-600 text-white shadow-lg":z?"bg-green-100 border-green-300 text-green-700 hover:bg-green-200 hover:border-green-400 cursor-pointer":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"}
                  `,title:he?"":z?"":"",children:he?"":`${q},${re}`},ee)})})})]})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:W}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh",maxWidth:"800px"},onClick:O=>O.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(jt,{className:"w-6 h-6 text-green-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""})]}),l.jsx("button",{onClick:W,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(an,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-6 py-4 overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[ye(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Row):"}),l.jsx("input",{type:"number",min:"0",value:m,onChange:O=>E(parseInt(O.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Column):"}),l.jsx("input",{type:"number",min:"0",value:C,onChange:O=>M(parseInt(O.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),p&&l.jsx("div",{className:`text-sm p-2 rounded ${B?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:B?`${p.row},${p.col}`:` ${p.row},${p.col} `})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("div",{children:["",(n==null?void 0:n.name)||""]}),l.jsxs("div",{children:["",(n==null?void 0:n.type)||""]}),l.jsxs("div",{children:["",((ne=n==null?void 0:n.contents)==null?void 0:ne.filter(O=>O.type==="parent_container").length)||0]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:W,disabled:v,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d("button.cancel")}),l.jsxs("button",{onClick:H,disabled:!B||v,className:"px-6 py-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[v&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:v?"...":""})]})]})]})]})},Ri=[{value:"dispensing_shelves",label:"",icon:l.jsx(Vp,{className:"w-5 h-5"}),isShelf:!0},{value:"store_shelves",label:"",icon:l.jsx($p,{className:"w-5 h-5"}),isShelf:!0},{value:"list_draw",label:"",icon:l.jsx(kl,{className:"w-5 h-5"}),isShelf:!1},{value:"grid_draw",label:"",icon:l.jsx(Ju,{className:"w-5 h-5"}),isShelf:!1}],fh=()=>{var A;const{addShelfDrawContainerModalOpen:e,closeAddShelfDrawContainerModal:t,selectedSubContainerForAdd:n,selectedDepartmentType:r,setApiDepartmentData:s,setIsLoadingMedMap:o,showNotification:a,triggerRefresh:i,setSidebarOpen:c}=rt(),{t:d}=Je(),[p,x]=j.useState("dispensing_shelves"),[m,b]=j.useState("1"),[C,k]=j.useState("1"),[v,g]=j.useState(""),[u,y]=j.useState(null),[S,E]=j.useState(0),[M,B]=j.useState(0),[H,ce]=j.useState(!1);j.useEffect(()=>{e&&(x("dispensing_shelves"),b("1"),k("1"),g(""),y(null),E(0),B(0),ce(!1))},[e]),j.useEffect(()=>{u&&(E(u.row),B(u.col))},[u]);const W=()=>{const T=new Set;return n!=null&&n.contents&&n.contents.forEach(L=>{L.gird_position&&T.add(L.gird_position)}),T},ye=()=>{const T=W(),L=[];if(T.size===0)return L.push({row:0,col:0}),L;const Z=[];T.forEach(re=>{const[ee,he]=re.split(",").map(Number);Z.push({row:ee,col:he})});const q=new Set;return Z.forEach(({row:re,col:ee})=>{q.add(`${re},${ee+1}`),q.add(`${re+1},${ee}`),ee>0&&q.add(`${re},${ee-1}`),re>0&&q.add(`${re-1},${ee}`)}),q.forEach(re=>{if(!T.has(re)){const[ee,he]=re.split(",").map(Number);ee>=0&&he>=0&&L.push({row:ee,col:he})}}),T.has("0,1")||L.some(ee=>ee.row===0&&ee.col===1)||L.push({row:0,col:1}),T.has("1,0")||L.some(ee=>ee.row===1&&ee.col===0)||L.push({row:1,col:0}),L.sort((re,ee)=>re.row===ee.row?re.col-ee.col:re.row-ee.row)},ne=T=>{y(T)},O=T=>{E(T),y({row:T,col:M})},Q=T=>{B(T),y({row:S,col:T})},de=u&&!W().has(`${u.row},${u.col}`)&&u.row>=0&&u.col>=0,pe=async()=>{if(!(!u||!n||!de)){ce(!0);try{const T=`${u.row},${u.col}`,L=Ri.find(q=>q.value===p);let Z;L!=null&&L.isShelf?Z=await Se.addMedMapShelf({Master_GUID:n.GUID,position:T,width:m,height:C,ip_light:v,type:p}):Z=await Se.addMedMapDrawer({Master_GUID:n.GUID,position:T,width:m,height:C,ip_drawer:v,type:p}),Z.Code===200?(a("","success"),t(),c(!1),await P()):a(`${Z.Result||""}`,"error")}catch(T){console.error("Add container failed:",T),a("","error")}finally{ce(!1)}}},P=async()=>{if(!r){console.warn(" ");return}console.log(" :",r),o(!0);try{const T=await Se.getMedMapByDepartment(r);if(T.Code===200&&T.Data){console.log(" API ");const L=Rt.convertMedMapApiToFakeData(T.Data);if(!Rt.validateConvertedData(L)){console.error(" "),a("","error");return}s(L),console.log(" ")}else console.error(" API :",T),a("API ","error")}catch(T){console.error(" :",T),a("","error")}finally{o(!1)}},h=()=>{t()},D=()=>{const T=W(),L=ye(),Z=[...T].map(ue=>{const[xe,be]=ue.split(",").map(Number);return{row:xe,col:be}}).concat(L);Z.length===0&&Z.push({row:0,col:0});const q=Math.max(...Z.map(ue=>ue.row)),re=Math.max(...Z.map(ue=>ue.col)),ee=Math.min(...Z.map(ue=>ue.row)),he=Math.min(...Z.map(ue=>ue.col)),z=q-ee+1,X=re-he+1;return l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${X}, 1fr)`},children:Array.from({length:z*X},(ue,xe)=>{const be=Math.floor(xe/X)+ee,Ne=xe%X+he,xt=`${be},${Ne}`,F=T.has(xt),K=L.some(ae=>ae.row===be&&ae.col===Ne),le=(u==null?void 0:u.row)===be&&(u==null?void 0:u.col)===Ne;return l.jsx("button",{onClick:()=>K&&ne({row:be,col:Ne}),disabled:F||!K,className:`
                    w-16 h-16 border-2 rounded-lg transition-all duration-200 flex items-center justify-center text-sm font-medium
                    ${F?"bg-red-100 border-red-300 text-red-600 cursor-not-allowed":le?"bg-blue-500 border-blue-600 text-white shadow-lg":K?"bg-green-100 border-green-300 text-green-700 hover:bg-green-200 hover:border-green-400 cursor-pointer":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"}
                  `,title:F?"":K?"":"",children:F?"":`${be},${Ne}`},xt)})})})]})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:h}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh",maxWidth:"1000px"},onClick:T=>T.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(jt,{className:"w-6 h-6 text-green-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"/"})]}),l.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(an,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-6 py-4 overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ri.map(T=>l.jsxs("label",{className:`flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${p===T.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"radio",name:"containerType",value:T.value,checked:p===T.value,onChange:L=>x(L.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 hidden"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[T.icon,l.jsx("span",{className:"font-medium text-gray-900",children:T.label})]})]},T.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),l.jsx("input",{type:"number",min:"1",value:m,onChange:T=>b(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),l.jsx("input",{type:"number",min:"1",value:C,onChange:T=>k(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IP "}),l.jsx("input",{type:"text",value:v,onChange:T=>g(T.target.value),placeholder:" IP ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),D(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Row):"}),l.jsx("input",{type:"number",min:"0",value:S,onChange:T=>O(parseInt(T.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Column):"}),l.jsx("input",{type:"number",min:"0",value:M,onChange:T=>Q(parseInt(T.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),u&&l.jsx("div",{className:`text-sm p-2 rounded ${de?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:de?`${u.row},${u.col}`:` ${u.row},${u.col} `})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("div",{children:["",(n==null?void 0:n.name)||""]}),l.jsxs("div",{children:["",(n==null?void 0:n.type)||""]}),l.jsxs("div",{children:["",((A=n==null?void 0:n.contents)==null?void 0:A.length)||0]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:h,disabled:H,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d("button.cancel")}),l.jsxs("button",{onClick:pe,disabled:!de||H,className:"px-6 py-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[H&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:H?"...":""})]})]})]})]})},ph=()=>{var ne;const{addSubContainerModalOpen:e,closeAddSubContainerModal:t,selectedParentContainerForAdd:n,selectedDepartmentType:r,setApiDepartmentData:s,setIsLoadingMedMap:o,showNotification:a,triggerRefresh:i,setSidebarOpen:c}=rt(),{t:d}=Je(),[p,x]=j.useState(null),[m,b]=j.useState(0),[C,k]=j.useState(0),[v,g]=j.useState(!1);j.useEffect(()=>{e&&(x(null),b(0),k(0),g(!1))},[e]),j.useEffect(()=>{p&&(b(p.row),k(p.col))},[p]);const u=()=>{const O=new Set;return n!=null&&n.contents&&n.contents.forEach(Q=>{Q.type==="sub_container"&&Q.gird_position&&O.add(Q.gird_position)}),O},y=()=>{const O=u(),Q=[];if(O.size===0)return Q.push({row:0,col:0}),Q;const de=[];O.forEach(P=>{const[h,D]=P.split(",").map(Number);de.push({row:h,col:D})});const pe=new Set;return de.forEach(({row:P,col:h})=>{pe.add(`${P},${h+1}`),pe.add(`${P+1},${h}`),h>0&&pe.add(`${P},${h-1}`),P>0&&pe.add(`${P-1},${h}`)}),pe.forEach(P=>{if(!O.has(P)){const[h,D]=P.split(",").map(Number);h>=0&&D>=0&&Q.push({row:h,col:D})}}),O.has("0,1")||Q.some(h=>h.row===0&&h.col===1)||Q.push({row:0,col:1}),O.has("1,0")||Q.some(h=>h.row===1&&h.col===0)||Q.push({row:1,col:0}),Q.sort((P,h)=>P.row===h.row?P.col-h.col:P.row-h.row)},S=O=>{x(O)},E=O=>{b(O),x({row:O,col:C})},M=O=>{k(O),x({row:m,col:O})},B=p&&!u().has(`${p.row},${p.col}`)&&p.row>=0&&p.col>=0,H=async()=>{if(!(!p||!n||!B)){g(!0);try{const O=`${p.row},${p.col}`,Q=await Se.addSubSection(n.GUID,O);Q.Code===200?(a("","success"),t(),c(!1),await ce()):a(`${Q.Result||""}`,"error")}catch(O){console.error("Add sub container failed:",O),a("","error")}finally{g(!1)}}},ce=async()=>{if(!r){console.warn(" ");return}console.log(" :",r),o(!0);try{const O=await Se.getMedMapByDepartment(r);if(O.Code===200&&O.Data){console.log(" API ");const Q=Rt.convertMedMapApiToFakeData(O.Data);if(!Rt.validateConvertedData(Q)){console.error(" "),a("","error");return}s(Q),console.log(" ")}else console.error(" API :",O),a("API ","error")}catch(O){console.error(" :",O),a("","error")}finally{o(!1)}},W=()=>{t()},ye=()=>{const O=u(),Q=y(),de=[...O].map(L=>{const[Z,q]=L.split(",").map(Number);return{row:Z,col:q}}).concat(Q);de.length===0&&de.push({row:0,col:0});const pe=Math.max(...de.map(L=>L.row)),P=Math.max(...de.map(L=>L.col)),h=Math.min(...de.map(L=>L.row)),D=Math.min(...de.map(L=>L.col)),A=pe-h+1,T=P-D+1;return l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${T}, 1fr)`},children:Array.from({length:A*T},(L,Z)=>{const q=Math.floor(Z/T)+h,re=Z%T+D,ee=`${q},${re}`,he=O.has(ee),z=Q.some(ue=>ue.row===q&&ue.col===re),X=(p==null?void 0:p.row)===q&&(p==null?void 0:p.col)===re;return l.jsx("button",{onClick:()=>z&&S({row:q,col:re}),disabled:he||!z,className:`
                    w-16 h-16 border-2 rounded-lg transition-all duration-200 flex items-center justify-center text-sm font-medium
                    ${he?"bg-red-100 border-red-300 text-red-600 cursor-not-allowed":X?"bg-blue-500 border-blue-600 text-white shadow-lg":z?"bg-green-100 border-green-300 text-green-700 hover:bg-green-200 hover:border-green-400 cursor-pointer":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"}
                  `,title:he?"":z?"":"",children:he?"":`${q},${re}`},ee)})})})]})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:W}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh",maxWidth:"800px"},onClick:O=>O.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(jt,{className:"w-6 h-6 text-green-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""})]}),l.jsx("button",{onClick:W,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(an,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-6 py-4 overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[ye(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Row):"}),l.jsx("input",{type:"number",min:"0",value:m,onChange:O=>E(parseInt(O.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Column):"}),l.jsx("input",{type:"number",min:"0",value:C,onChange:O=>M(parseInt(O.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),p&&l.jsx("div",{className:`text-sm p-2 rounded ${B?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:B?`${p.row},${p.col}`:` ${p.row},${p.col} `})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("div",{children:["",(n==null?void 0:n.name)||""]}),l.jsxs("div",{children:["",(n==null?void 0:n.type)||""]}),l.jsxs("div",{children:["",((ne=n==null?void 0:n.contents)==null?void 0:ne.filter(O=>O.type==="sub_container").length)||0]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:W,disabled:v,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d("button.cancel")}),l.jsxs("button",{onClick:H,disabled:!B||v,className:"px-6 py-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[v&&l.jsx(mt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:v?"...":""})]})]})]})]})},hh=({isOpen:e,onLoginSuccess:t})=>{const{t:n}=Je(),[r,s]=j.useState(""),[o,a]=j.useState(""),[i,c]=j.useState(!1),[d,p]=j.useState(!1),[x,m]=j.useState(""),b=async k=>{if(k.preventDefault(),!r.trim()||!o.trim()){m("Please enter both ID and password");return}p(!0),m("");try{const v=await Se.login({ID:r.trim(),Password:o});if(v.Code===200&&v.Data){const g={...v.Data,loginTime:new Date().toISOString()};sessionStorage.setItem("user_session",JSON.stringify(g)),t(g)}else m(v.Result||"Login failed")}catch(v){console.error("Login failed:",v),m("Network error. Please try again.")}finally{p(!1)}},C=k=>{k.key==="Enter"&&!d&&b(k)};return e?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900",children:[l.jsx("div",{className:"absolute inset-0 bg-white"}),l.jsxs("div",{className:"relative z-10 w-full max-w-md mx-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:n("login.title")}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 md:p-6",children:[x&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:x})}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 mb-2",children:n("login.userId")}),l.jsx("input",{id:"userId",type:"text",value:r,onChange:k=>s(k.target.value),onKeyPress:C,placeholder:n("login.userIdPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:d,autoComplete:"username"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:n("login.password")}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",type:i?"text":"password",value:o,onChange:k=>a(k.target.value),onKeyPress:C,placeholder:n("login.passwordPlaceholder"),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:d,autoComplete:"current-password"}),l.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:d,children:i?l.jsx(zp,{className:"w-5 h-5"}):l.jsx(Up,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",disabled:d||!r.trim()||!o.trim(),className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:d?l.jsxs(l.Fragment,{children:[l.jsx(mt,{className:"w-5 h-5 animate-spin mr-2"}),n("login.loggingIn")]}):l.jsx(l.Fragment,{children:n("login.loginButton")})})]})]})]})]}):null},mh=({isVisible:e,message:t})=>{const{t:n}=Je();return e?l.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),l.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center p-8",children:l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-2xl px-8 py-6 flex flex-col items-center space-y-4 min-w-[280px]",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(Na,{className:"w-8 h-8 text-blue-600"})}),l.jsx("div",{className:"text-xl font-semibold text-gray-900",children:n("nav.title")})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(mt,{className:"w-8 h-8 text-blue-600 animate-spin"}),l.jsx("div",{className:"text-lg font-medium text-gray-700",children:t||n("status.loadingMedMapData")})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full animate-pulse",style:{width:"100%"}})}),l.jsx("div",{className:"text-sm text-gray-500 text-center max-w-xs",children:n("status.loadingMedMapHint")})]})})]}):null},gh=({message:e,type:t,isVisible:n,onClose:r,duration:s=3e3})=>{const[o,a]=j.useState(!1);return j.useEffect(()=>{if(n){a(!0);const i=setTimeout(()=>{r()},s);return()=>clearTimeout(i)}else{const i=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(i)}},[n,s,r]),o?l.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[9999] transition-all duration-300 ease-in-out ${n?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:l.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-lg border ${t==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[t==="success"?l.jsx(Ap,{className:"w-5 h-5 text-green-600"}):l.jsx(Xp,{className:"w-5 h-5 text-red-600"}),l.jsx("span",{className:"text-sm font-medium",children:e}),l.jsx("button",{onClick:r,className:`p-1 rounded-full hover:bg-black/10 transition-colors ${t==="success"?"text-green-600":"text-red-600"}`,children:l.jsx(an,{className:"w-4 h-4"})})]})}):null};function yh(){const{selectedDepartmentType:e,viewMode:t,isAuthenticated:n,setIsAuthenticated:r,setCurrentUser:s,isLoadingMedMap:o,notification:a,hideNotification:i,addParentContainerModalOpen:c,closeAddParentContainerModal:d,selectedDepartmentForAdd:p}=rt();j.useEffect(()=>{(()=>{try{const b=sessionStorage.getItem("user_session");if(b){const C=JSON.parse(b);C.GUID&&C.ID&&C.Name?(s(C),r(!0)):sessionStorage.removeItem("user_session")}}catch(b){console.error("Error checking session:",b),sessionStorage.removeItem("user_session")}})()},[r,s]);const x=m=>{s(m),r(!0)};return n?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Yp,{}),l.jsx(Qp,{}),l.jsx(Zp,{}),l.jsx("div",{className:"fixed inset-0",children:l.jsx("div",{className:"w-full h-full",children:t==="department"?l.jsx(nh,{}):l.jsx(rh,{})})}),l.jsx(eh,{}),l.jsx(ih,{}),l.jsx(ch,{}),l.jsx(uh,{}),l.jsx(dh,{}),l.jsx(fh,{}),l.jsx(ph,{}),l.jsx(mh,{isVisible:o}),l.jsx(gh,{message:a.message,type:a.type,isVisible:a.isVisible,onClose:i})]}):l.jsx(hh,{isOpen:!0,onLoginSuccess:x})}function xh(){return l.jsx(Tp,{children:l.jsx(Ep,{children:l.jsx(yh,{})})})}Wu(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(xh,{})}));
