(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function nd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $a={exports:{}},Ws={},La={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=Symbol.for("react.element"),rd=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),ad=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.memo"),fd=Symbol.for("react.lazy"),_i=Symbol.iterator;function pd(e){return e===null||typeof e!="object"?null:(e=_i&&e[_i]||e["@@iterator"],typeof e=="function"?e:null)}var za={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Aa=Object.assign,Ua={};function Jn(e,t,n){this.props=e,this.context=t,this.refs=Ua,this.updater=n||za}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Oa(){}Oa.prototype=Jn.prototype;function El(e,t,n){this.props=e,this.context=t,this.refs=Ua,this.updater=n||za}var Dl=El.prototype=new Oa;Dl.constructor=El;Aa(Dl,Jn.prototype);Dl.isPureReactComponent=!0;var ki=Array.isArray,Ba=Object.prototype.hasOwnProperty,bl={current:null},Fa={key:!0,ref:!0,__self:!0,__source:!0};function Ga(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ba.call(t,r)&&!Fa.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Or,type:e,key:o,ref:i,props:s,_owner:bl.current}}function hd(e,t){return{$$typeof:Or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Or}function md(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mi=/\/+/g;function ao(e,t){return typeof e=="object"&&e!==null&&e.key!=null?md(""+e.key):t.toString(36)}function us(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Or:case rd:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+ao(i,0):r,ki(s)?(n="",e!=null&&(n=e.replace(Mi,"$&/")+"/"),us(s,t,n,"",function(u){return u})):s!=null&&(Pl(s)&&(s=hd(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Mi,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",ki(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+ao(o,a);i+=us(o,t,n,c,s)}else if(c=pd(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+ao(o,a++),i+=us(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vr(e,t,n){if(e==null)return e;var r=[],s=0;return us(e,r,"","",function(o){return t.call(n,o,s++)}),r}function gd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},cs={transition:null},yd={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:cs,ReactCurrentOwner:bl};function Ha(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Vr,forEach:function(e,t,n){Vr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vr(e,function(){t++}),t},toArray:function(e){return Vr(e,function(t){return t})||[]},only:function(e){if(!Pl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Jn;pe.Fragment=sd;pe.Profiler=ld;pe.PureComponent=El;pe.StrictMode=od;pe.Suspense=cd;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yd;pe.act=Ha;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Aa({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=bl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ba.call(t,c)&&!Fa.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Or,type:e.type,key:s,ref:o,props:r,_owner:i}};pe.createContext=function(e){return e={$$typeof:ad,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:id,_context:e},e.Consumer=e};pe.createElement=Ga;pe.createFactory=function(e){var t=Ga.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:ud,render:e}};pe.isValidElement=Pl;pe.lazy=function(e){return{$$typeof:fd,_payload:{_status:-1,_result:e},_init:gd}};pe.memo=function(e,t){return{$$typeof:dd,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=cs.transition;cs.transition={};try{e()}finally{cs.transition=t}};pe.unstable_act=Ha;pe.useCallback=function(e,t){return Qe.current.useCallback(e,t)};pe.useContext=function(e){return Qe.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};pe.useEffect=function(e,t){return Qe.current.useEffect(e,t)};pe.useId=function(){return Qe.current.useId()};pe.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return Qe.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};pe.useRef=function(e){return Qe.current.useRef(e)};pe.useState=function(e){return Qe.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return Qe.current.useTransition()};pe.version="18.3.1";La.exports=pe;var S=La.exports;const xd=nd(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=S,wd=Symbol.for("react.element"),Nd=Symbol.for("react.fragment"),Sd=Object.prototype.hasOwnProperty,Cd=vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jd={key:!0,ref:!0,__self:!0,__source:!0};function Va(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Sd.call(t,r)&&!jd.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wd,type:e,key:o,ref:i,props:s,_owner:Cd.current}}Ws.Fragment=Nd;Ws.jsx=Va;Ws.jsxs=Va;$a.exports=Ws;var l=$a.exports,Wa={exports:{}},ut={},Xa={exports:{}},Ya={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(w,I){var M=w.length;w.push(I);e:for(;0<M;){var C=M-1>>>1,z=w[C];if(0<s(z,I))w[C]=I,w[M]=z,M=C;else break e}}function n(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var I=w[0],M=w.pop();if(M!==I){w[0]=M;e:for(var C=0,z=w.length,te=z>>>1;C<te;){var ne=2*(C+1)-1,D=w[ne],$=ne+1,Z=w[$];if(0>s(D,M))$<z&&0>s(Z,D)?(w[C]=Z,w[$]=M,C=$):(w[C]=D,w[ne]=M,C=ne);else if($<z&&0>s(Z,M))w[C]=Z,w[$]=M,C=$;else break e}}return I}function s(w,I){var M=w.sortIndex-I.sortIndex;return M!==0?M:w.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],p=1,y=null,g=3,P=!1,x=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(w){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=w)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function v(w){if(_=!1,m(w),!x)if(n(c)!==null)x=!0,ye(k);else{var I=n(u);I!==null&&L(v,I.startTime-w)}}function k(w,I){x=!1,_&&(_=!1,h(B),B=-1),P=!0;var M=g;try{for(m(I),y=n(c);y!==null&&(!(y.expirationTime>I)||w&&!K());){var C=y.callback;if(typeof C=="function"){y.callback=null,g=y.priorityLevel;var z=C(y.expirationTime<=I);I=e.unstable_now(),typeof z=="function"?y.callback=z:y===n(c)&&r(c),m(I)}else r(c);y=n(c)}if(y!==null)var te=!0;else{var ne=n(u);ne!==null&&L(v,ne.startTime-I),te=!1}return te}finally{y=null,g=M,P=!1}}var N=!1,R=null,B=-1,le=5,j=-1;function K(){return!(e.unstable_now()-j<le)}function X(){if(R!==null){var w=e.unstable_now();j=w;var I=!0;try{I=R(!0,w)}finally{I?V():(N=!1,R=null)}}else N=!1}var V;if(typeof d=="function")V=function(){d(X)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,he=ie.port2;ie.port1.onmessage=X,V=function(){he.postMessage(null)}}else V=function(){E(X,0)};function ye(w){R=w,N||(N=!0,V())}function L(w,I){B=E(function(){w(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(w){w.callback=null},e.unstable_continueExecution=function(){x||P||(x=!0,ye(k))},e.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<w?Math.floor(1e3/w):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(w){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var M=g;g=I;try{return w()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(w,I){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var M=g;g=w;try{return I()}finally{g=M}},e.unstable_scheduleCallback=function(w,I,M){var C=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?C+M:C):M=C,w){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=M+z,w={id:p++,callback:I,priorityLevel:w,startTime:M,expirationTime:z,sortIndex:-1},M>C?(w.sortIndex=M,t(u,w),n(c)===null&&w===n(u)&&(_?(h(B),B=-1):_=!0,L(v,M-C))):(w.sortIndex=z,t(c,w),x||P||(x=!0,ye(k))),w},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(w){var I=g;return function(){var M=g;g=I;try{return w.apply(this,arguments)}finally{g=M}}}})(Ya);Xa.exports=Ya;var _d=Xa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=S,at=_d;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qa=new Set,Cr={};function jn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Cr[e]=t,e=0;e<t.length;e++)Qa.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=Object.prototype.hasOwnProperty,Md=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ei={},Di={};function Ed(e){return $o.call(Di,e)?!0:$o.call(Ei,e)?!1:Md.test(e)?Di[e]=!0:(Ei[e]=!0,!1)}function Dd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bd(e,t,n,r){if(t===null||typeof t>"u"||Dd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rl=/[\-:]([a-z])/g;function Tl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rl,Tl);Be[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rl,Tl);Be[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rl,Tl);Be[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Il(e,t,n,r){var s=Be.hasOwnProperty(t)?Be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bd(t,n,s,r)&&(n=null),r||s===null?Ed(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=kd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wr=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),Lo=Symbol.for("react.profiler"),Ka=Symbol.for("react.provider"),Za=Symbol.for("react.context"),Ll=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),zl=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Ja=Symbol.for("react.offscreen"),bi=Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=bi&&e[bi]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,uo;function cr(e){if(uo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uo=t&&t[1]||""}return`
`+uo+e}var co=!1;function fo(e,t){if(!e||co)return"";co=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{co=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cr(e):""}function Pd(e){switch(e.tag){case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 2:case 15:return e=fo(e.type,!1),e;case 11:return e=fo(e.type.render,!1),e;case 1:return e=fo(e.type,!0),e;default:return""}}function Uo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case Mn:return"Portal";case Lo:return"Profiler";case $l:return"StrictMode";case zo:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Za:return(e.displayName||"Context")+".Consumer";case Ka:return(e._context.displayName||"Context")+".Provider";case Ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zl:return t=e.displayName||null,t!==null?t:Uo(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Uo(e(t))}catch{}}return null}function Rd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uo(t);case 8:return t===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Td(e){var t=qa(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){e._valueTracker||(e._valueTracker=Td(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qa(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oo(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tu(e,t){t=t.checked,t!=null&&Il(e,"checked",t,!1)}function Bo(e,t){tu(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fo(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ri(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fo(e,t,n){(t!=="number"||Ns(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var dr=Array.isArray;function Un(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Go(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ti(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(dr(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function nu(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ii(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ru(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ru(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yr,su=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Id=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(e){Id.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hr[t]=hr[e]})});function ou(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hr.hasOwnProperty(e)&&hr[e]?(""+t).trim():t+"px"}function lu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ou(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $d=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if($d[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function Al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yo=null,On=null,Bn=null;function $i(e){if(e=Gr(e)){if(typeof Yo!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Zs(t),Yo(e.stateNode,e.type,t))}}function iu(e){On?Bn?Bn.push(e):Bn=[e]:On=e}function au(){if(On){var e=On,t=Bn;if(Bn=On=null,$i(e),t)for(e=0;e<t.length;e++)$i(t[e])}}function uu(e,t){return e(t)}function cu(){}var po=!1;function du(e,t,n){if(po)return e(t,n);po=!0;try{return uu(e,t,n)}finally{po=!1,(On!==null||Bn!==null)&&(cu(),au())}}function _r(e,t){var n=e.stateNode;if(n===null)return null;var r=Zs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Qo=!1;if(Lt)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Qo=!1}function Ld(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var mr=!1,Ss=null,Cs=!1,Ko=null,zd={onError:function(e){mr=!0,Ss=e}};function Ad(e,t,n,r,s,o,i,a,c){mr=!1,Ss=null,Ld.apply(zd,arguments)}function Ud(e,t,n,r,s,o,i,a,c){if(Ad.apply(this,arguments),mr){if(mr){var u=Ss;mr=!1,Ss=null}else throw Error(U(198));Cs||(Cs=!0,Ko=u)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Li(e){if(_n(e)!==e)throw Error(U(188))}function Od(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Li(s),e;if(o===r)return Li(s),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function pu(e){return e=Od(e),e!==null?hu(e):null}function hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hu(e);if(t!==null)return t;e=e.sibling}return null}var mu=at.unstable_scheduleCallback,zi=at.unstable_cancelCallback,Bd=at.unstable_shouldYield,Fd=at.unstable_requestPaint,Re=at.unstable_now,Gd=at.unstable_getCurrentPriorityLevel,Ul=at.unstable_ImmediatePriority,gu=at.unstable_UserBlockingPriority,js=at.unstable_NormalPriority,Hd=at.unstable_LowPriority,yu=at.unstable_IdlePriority,Xs=null,Dt=null;function Vd(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Xs,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Yd,Wd=Math.log,Xd=Math.LN2;function Yd(e){return e>>>=0,e===0?32:31-(Wd(e)/Xd|0)|0}var Qr=64,Kr=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _s(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=fr(a):(o&=i,o!==0&&(r=fr(o)))}else i=n&~s,i!==0?r=fr(i):o!==0&&(r=fr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),s=1<<n,r|=e[n],t&=~s;return r}function Qd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-St(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=Qd(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Zo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xu(){var e=Qr;return Qr<<=1,!(Qr&4194240)&&(Qr=64),e}function ho(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Zd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-St(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Ol(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ve=0;function vu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wu,Bl,Nu,Su,Cu,Jo=!1,Zr=[],Kt=null,Zt=null,Jt=null,kr=new Map,Mr=new Map,Wt=[],Jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ai(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function sr(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Gr(t),t!==null&&Bl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qd(e,t,n,r,s){switch(t){case"focusin":return Kt=sr(Kt,e,t,n,r,s),!0;case"dragenter":return Zt=sr(Zt,e,t,n,r,s),!0;case"mouseover":return Jt=sr(Jt,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return kr.set(o,sr(kr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Mr.set(o,sr(Mr.get(o)||null,e,t,n,r,s)),!0}return!1}function ju(e){var t=pn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=fu(n),t!==null){e.blockedOn=t,Cu(e.priority,function(){Nu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xo=r,n.target.dispatchEvent(r),Xo=null}else return t=Gr(n),t!==null&&Bl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ui(e,t,n){ds(e)&&n.delete(t)}function ef(){Jo=!1,Kt!==null&&ds(Kt)&&(Kt=null),Zt!==null&&ds(Zt)&&(Zt=null),Jt!==null&&ds(Jt)&&(Jt=null),kr.forEach(Ui),Mr.forEach(Ui)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,ef)))}function Er(e){function t(s){return or(s,e)}if(0<Zr.length){or(Zr[0],e);for(var n=1;n<Zr.length;n++){var r=Zr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kt!==null&&or(Kt,e),Zt!==null&&or(Zt,e),Jt!==null&&or(Jt,e),kr.forEach(t),Mr.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)ju(n),n.blockedOn===null&&Wt.shift()}var Fn=Bt.ReactCurrentBatchConfig,ks=!0;function tf(e,t,n,r){var s=ve,o=Fn.transition;Fn.transition=null;try{ve=1,Fl(e,t,n,r)}finally{ve=s,Fn.transition=o}}function nf(e,t,n,r){var s=ve,o=Fn.transition;Fn.transition=null;try{ve=4,Fl(e,t,n,r)}finally{ve=s,Fn.transition=o}}function Fl(e,t,n,r){if(ks){var s=qo(e,t,n,r);if(s===null)jo(e,t,r,Ms,n),Ai(e,r);else if(qd(s,e,t,n,r))r.stopPropagation();else if(Ai(e,r),t&4&&-1<Jd.indexOf(e)){for(;s!==null;){var o=Gr(s);if(o!==null&&wu(o),o=qo(e,t,n,r),o===null&&jo(e,t,r,Ms,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else jo(e,t,r,null,n)}}var Ms=null;function qo(e,t,n,r){if(Ms=null,e=Al(r),e=pn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function _u(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gd()){case Ul:return 1;case gu:return 4;case js:case Hd:return 16;case yu:return 536870912;default:return 16}default:return 16}}var Yt=null,Gl=null,fs=null;function ku(){if(fs)return fs;var e,t=Gl,n=t.length,r,s="value"in Yt?Yt.value:Yt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return fs=s.slice(e,1<r?1-r:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jr(){return!0}function Oi(){return!1}function ct(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jr:Oi,this.isPropagationStopped=Oi,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=ct(qn),Fr=Ee({},qn,{view:0,detail:0}),rf=ct(Fr),mo,go,lr,Ys=Ee({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&e.type==="mousemove"?(mo=e.screenX-lr.screenX,go=e.screenY-lr.screenY):go=mo=0,lr=e),mo)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Bi=ct(Ys),sf=Ee({},Ys,{dataTransfer:0}),of=ct(sf),lf=Ee({},Fr,{relatedTarget:0}),yo=ct(lf),af=Ee({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),uf=ct(af),cf=Ee({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),df=ct(cf),ff=Ee({},qn,{data:0}),Fi=ct(ff),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mf[e])?!!t[e]:!1}function Vl(){return gf}var yf=Ee({},Fr,{key:function(e){if(e.key){var t=pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xf=ct(yf),vf=Ee({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=ct(vf),wf=Ee({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),Nf=ct(wf),Sf=Ee({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=ct(Sf),jf=Ee({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_f=ct(jf),kf=[9,13,27,32],Wl=Lt&&"CompositionEvent"in window,gr=null;Lt&&"documentMode"in document&&(gr=document.documentMode);var Mf=Lt&&"TextEvent"in window&&!gr,Mu=Lt&&(!Wl||gr&&8<gr&&11>=gr),Hi=" ",Vi=!1;function Eu(e,t){switch(e){case"keyup":return kf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Ef(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Vi=!0,Hi);case"textInput":return e=t.data,e===Hi&&Vi?null:e;default:return null}}function Df(e,t){if(Dn)return e==="compositionend"||!Wl&&Eu(e,t)?(e=ku(),fs=Gl=Yt=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mu&&t.locale!=="ko"?null:t.data;default:return null}}var bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bf[e.type]:t==="textarea"}function bu(e,t,n,r){iu(r),t=Es(t,"onChange"),0<t.length&&(n=new Hl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,Dr=null;function Pf(e){Bu(e,0)}function Qs(e){var t=Rn(e);if(eu(t))return e}function Rf(e,t){if(e==="change")return t}var Pu=!1;if(Lt){var xo;if(Lt){var vo="oninput"in document;if(!vo){var Xi=document.createElement("div");Xi.setAttribute("oninput","return;"),vo=typeof Xi.oninput=="function"}xo=vo}else xo=!1;Pu=xo&&(!document.documentMode||9<document.documentMode)}function Yi(){yr&&(yr.detachEvent("onpropertychange",Ru),Dr=yr=null)}function Ru(e){if(e.propertyName==="value"&&Qs(Dr)){var t=[];bu(t,Dr,e,Al(e)),du(Pf,t)}}function Tf(e,t,n){e==="focusin"?(Yi(),yr=t,Dr=n,yr.attachEvent("onpropertychange",Ru)):e==="focusout"&&Yi()}function If(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(Dr)}function $f(e,t){if(e==="click")return Qs(t)}function Lf(e,t){if(e==="input"||e==="change")return Qs(t)}function zf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:zf;function br(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$o.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function Qi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ki(e,t){var n=Qi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qi(n)}}function Tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iu(){for(var e=window,t=Ns();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ns(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Af(e){var t=Iu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tu(n.ownerDocument.documentElement,n)){if(r!==null&&Xl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ki(n,o);var i=Ki(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uf=Lt&&"documentMode"in document&&11>=document.documentMode,bn=null,el=null,xr=null,tl=!1;function Zi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tl||bn==null||bn!==Ns(r)||(r=bn,"selectionStart"in r&&Xl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xr&&br(xr,r)||(xr=r,r=Es(el,"onSelect"),0<r.length&&(t=new Hl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bn)))}function qr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionend:qr("Transition","TransitionEnd")},wo={},$u={};Lt&&($u=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Ks(e){if(wo[e])return wo[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $u)return wo[e]=t[n];return e}var Lu=Ks("animationend"),zu=Ks("animationiteration"),Au=Ks("animationstart"),Uu=Ks("transitionend"),Ou=new Map,Ji="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Ou.set(e,t),jn(t,[e])}for(var No=0;No<Ji.length;No++){var So=Ji[No],Of=So.toLowerCase(),Bf=So[0].toUpperCase()+So.slice(1);an(Of,"on"+Bf)}an(Lu,"onAnimationEnd");an(zu,"onAnimationIteration");an(Au,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Uu,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function qi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ud(r,t,void 0,e),e.currentTarget=null}function Bu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;qi(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;qi(s,a,u),o=c}}}if(Cs)throw e=Ko,Cs=!1,Ko=null,e}function Se(e,t){var n=t[ll];n===void 0&&(n=t[ll]=new Set);var r=e+"__bubble";n.has(r)||(Fu(t,e,2,!1),n.add(r))}function Co(e,t,n){var r=0;t&&(r|=4),Fu(n,e,r,t)}var es="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[es]){e[es]=!0,Qa.forEach(function(n){n!=="selectionchange"&&(Ff.has(n)||Co(n,!1,e),Co(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[es]||(t[es]=!0,Co("selectionchange",!1,t))}}function Fu(e,t,n,r){switch(_u(t)){case 1:var s=tf;break;case 4:s=nf;break;default:s=Fl}n=s.bind(null,t,n,e),s=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jo(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=pn(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}du(function(){var u=o,p=Al(n),y=[];e:{var g=Ou.get(e);if(g!==void 0){var P=Hl,x=e;switch(e){case"keypress":if(ps(n)===0)break e;case"keydown":case"keyup":P=xf;break;case"focusin":x="focus",P=yo;break;case"focusout":x="blur",P=yo;break;case"beforeblur":case"afterblur":P=yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Nf;break;case Lu:case zu:case Au:P=uf;break;case Uu:P=Cf;break;case"scroll":P=rf;break;case"wheel":P=_f;break;case"copy":case"cut":case"paste":P=df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Gi}var _=(t&4)!==0,E=!_&&e==="scroll",h=_?g!==null?g+"Capture":null:g;_=[];for(var d=u,m;d!==null;){m=d;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,h!==null&&(v=_r(d,h),v!=null&&_.push(Rr(d,v,m)))),E)break;d=d.return}0<_.length&&(g=new P(g,x,null,n,p),y.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",g&&n!==Xo&&(x=n.relatedTarget||n.fromElement)&&(pn(x)||x[zt]))break e;if((P||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,P?(x=n.relatedTarget||n.toElement,P=u,x=x?pn(x):null,x!==null&&(E=_n(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(P=null,x=u),P!==x)){if(_=Bi,v="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=Gi,v="onPointerLeave",h="onPointerEnter",d="pointer"),E=P==null?g:Rn(P),m=x==null?g:Rn(x),g=new _(v,d+"leave",P,n,p),g.target=E,g.relatedTarget=m,v=null,pn(p)===u&&(_=new _(h,d+"enter",x,n,p),_.target=m,_.relatedTarget=E,v=_),E=v,P&&x)t:{for(_=P,h=x,d=0,m=_;m;m=kn(m))d++;for(m=0,v=h;v;v=kn(v))m++;for(;0<d-m;)_=kn(_),d--;for(;0<m-d;)h=kn(h),m--;for(;d--;){if(_===h||h!==null&&_===h.alternate)break t;_=kn(_),h=kn(h)}_=null}else _=null;P!==null&&ea(y,g,P,_,!1),x!==null&&E!==null&&ea(y,E,x,_,!0)}}e:{if(g=u?Rn(u):window,P=g.nodeName&&g.nodeName.toLowerCase(),P==="select"||P==="input"&&g.type==="file")var k=Rf;else if(Wi(g))if(Pu)k=Lf;else{k=If;var N=Tf}else(P=g.nodeName)&&P.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=$f);if(k&&(k=k(e,u))){bu(y,k,n,p);break e}N&&N(e,g,u),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Fo(g,"number",g.value)}switch(N=u?Rn(u):window,e){case"focusin":(Wi(N)||N.contentEditable==="true")&&(bn=N,el=u,xr=null);break;case"focusout":xr=el=bn=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Zi(y,n,p);break;case"selectionchange":if(Uf)break;case"keydown":case"keyup":Zi(y,n,p)}var R;if(Wl)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Dn?Eu(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Mu&&n.locale!=="ko"&&(Dn||B!=="onCompositionStart"?B==="onCompositionEnd"&&Dn&&(R=ku()):(Yt=p,Gl="value"in Yt?Yt.value:Yt.textContent,Dn=!0)),N=Es(u,B),0<N.length&&(B=new Fi(B,e,null,n,p),y.push({event:B,listeners:N}),R?B.data=R:(R=Du(n),R!==null&&(B.data=R)))),(R=Mf?Ef(e,n):Df(e,n))&&(u=Es(u,"onBeforeInput"),0<u.length&&(p=new Fi("onBeforeInput","beforeinput",null,n,p),y.push({event:p,listeners:u}),p.data=R))}Bu(y,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Es(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=_r(e,n),o!=null&&r.unshift(Rr(e,o,s)),o=_r(e,t),o!=null&&r.push(Rr(e,o,s))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ea(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=_r(n,o),c!=null&&i.unshift(Rr(n,c,a))):s||(c=_r(n,o),c!=null&&i.push(Rr(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Gf=/\r\n?/g,Hf=/\u0000|\uFFFD/g;function ta(e){return(typeof e=="string"?e:""+e).replace(Gf,`
`).replace(Hf,"")}function ts(e,t,n){if(t=ta(t),ta(e)!==t&&n)throw Error(U(425))}function Ds(){}var nl=null,rl=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,Vf=typeof clearTimeout=="function"?clearTimeout:void 0,na=typeof Promise=="function"?Promise:void 0,Wf=typeof queueMicrotask=="function"?queueMicrotask:typeof na<"u"?function(e){return na.resolve(null).then(e).catch(Xf)}:ol;function Xf(e){setTimeout(function(){throw e})}function _o(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Er(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ra(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),Mt="__reactFiber$"+er,Tr="__reactProps$"+er,zt="__reactContainer$"+er,ll="__reactEvents$"+er,Yf="__reactListeners$"+er,Qf="__reactHandles$"+er;function pn(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ra(e);e!==null;){if(n=e[Mt])return n;e=ra(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[Mt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Zs(e){return e[Tr]||null}var il=[],Tn=-1;function un(e){return{current:e}}function Ce(e){0>Tn||(e.current=il[Tn],il[Tn]=null,Tn--)}function we(e,t){Tn++,il[Tn]=e.current,e.current=t}var on={},Ve=un(on),et=un(!1),vn=on;function Wn(e,t){var n=e.type.contextTypes;if(!n)return on;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function bs(){Ce(et),Ce(Ve)}function sa(e,t,n){if(Ve.current!==on)throw Error(U(168));we(Ve,t),we(et,n)}function Gu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,Rd(e)||"Unknown",s));return Ee({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,vn=Ve.current,we(Ve,e),we(et,et.current),!0}function oa(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Gu(e,t,vn),r.__reactInternalMemoizedMergedChildContext=e,Ce(et),Ce(Ve),we(Ve,e)):Ce(et),we(et,n)}var Rt=null,Js=!1,ko=!1;function Hu(e){Rt===null?Rt=[e]:Rt.push(e)}function Kf(e){Js=!0,Hu(e)}function cn(){if(!ko&&Rt!==null){ko=!0;var e=0,t=ve;try{var n=Rt;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,Js=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),mu(Ul,cn),s}finally{ve=t,ko=!1}}return null}var In=[],$n=0,Rs=null,Ts=0,ft=[],pt=0,wn=null,Tt=1,It="";function dn(e,t){In[$n++]=Ts,In[$n++]=Rs,Rs=e,Ts=t}function Vu(e,t,n){ft[pt++]=Tt,ft[pt++]=It,ft[pt++]=wn,wn=e;var r=Tt;e=It;var s=32-St(r)-1;r&=~(1<<s),n+=1;var o=32-St(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Tt=1<<32-St(t)+s|n<<s|r,It=o+e}else Tt=1<<o|n<<s|r,It=e}function Yl(e){e.return!==null&&(dn(e,1),Vu(e,1,0))}function Ql(e){for(;e===Rs;)Rs=In[--$n],In[$n]=null,Ts=In[--$n],In[$n]=null;for(;e===wn;)wn=ft[--pt],ft[pt]=null,It=ft[--pt],ft[pt]=null,Tt=ft[--pt],ft[pt]=null}var it=null,lt=null,_e=!1,Nt=null;function Wu(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,lt=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Tt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,lt=null,!0):!1;default:return!1}}function al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ul(e){if(_e){var t=lt;if(t){var n=t;if(!la(e,t)){if(al(e))throw Error(U(418));t=qt(n.nextSibling);var r=it;t&&la(e,t)?Wu(r,n):(e.flags=e.flags&-4097|2,_e=!1,it=e)}}else{if(al(e))throw Error(U(418));e.flags=e.flags&-4097|2,_e=!1,it=e}}}function ia(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function ns(e){if(e!==it)return!1;if(!_e)return ia(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=lt)){if(al(e))throw Xu(),Error(U(418));for(;t;)Wu(e,t),t=qt(t.nextSibling)}if(ia(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=it?qt(e.stateNode.nextSibling):null;return!0}function Xu(){for(var e=lt;e;)e=qt(e.nextSibling)}function Xn(){lt=it=null,_e=!1}function Kl(e){Nt===null?Nt=[e]:Nt.push(e)}var Zf=Bt.ReactCurrentBatchConfig;function ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function rs(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aa(e){var t=e._init;return t(e._payload)}function Yu(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=rn(h,d),h.index=0,h.sibling=null,h}function o(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,d,m,v){return d===null||d.tag!==6?(d=To(m,h.mode,v),d.return=h,d):(d=s(d,m),d.return=h,d)}function c(h,d,m,v){var k=m.type;return k===En?p(h,d,m.props.children,v,m.key):d!==null&&(d.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&aa(k)===d.type)?(v=s(d,m.props),v.ref=ir(h,d,m),v.return=h,v):(v=ws(m.type,m.key,m.props,null,h.mode,v),v.ref=ir(h,d,m),v.return=h,v)}function u(h,d,m,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Io(m,h.mode,v),d.return=h,d):(d=s(d,m.children||[]),d.return=h,d)}function p(h,d,m,v,k){return d===null||d.tag!==7?(d=yn(m,h.mode,v,k),d.return=h,d):(d=s(d,m),d.return=h,d)}function y(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=To(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Wr:return m=ws(d.type,d.key,d.props,null,h.mode,m),m.ref=ir(h,null,d),m.return=h,m;case Mn:return d=Io(d,h.mode,m),d.return=h,d;case Ht:var v=d._init;return y(h,v(d._payload),m)}if(dr(d)||nr(d))return d=yn(d,h.mode,m,null),d.return=h,d;rs(h,d)}return null}function g(h,d,m,v){var k=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(h,d,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wr:return m.key===k?c(h,d,m,v):null;case Mn:return m.key===k?u(h,d,m,v):null;case Ht:return k=m._init,g(h,d,k(m._payload),v)}if(dr(m)||nr(m))return k!==null?null:p(h,d,m,v,null);rs(h,m)}return null}function P(h,d,m,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(m)||null,a(d,h,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wr:return h=h.get(v.key===null?m:v.key)||null,c(d,h,v,k);case Mn:return h=h.get(v.key===null?m:v.key)||null,u(d,h,v,k);case Ht:var N=v._init;return P(h,d,m,N(v._payload),k)}if(dr(v)||nr(v))return h=h.get(m)||null,p(d,h,v,k,null);rs(d,v)}return null}function x(h,d,m,v){for(var k=null,N=null,R=d,B=d=0,le=null;R!==null&&B<m.length;B++){R.index>B?(le=R,R=null):le=R.sibling;var j=g(h,R,m[B],v);if(j===null){R===null&&(R=le);break}e&&R&&j.alternate===null&&t(h,R),d=o(j,d,B),N===null?k=j:N.sibling=j,N=j,R=le}if(B===m.length)return n(h,R),_e&&dn(h,B),k;if(R===null){for(;B<m.length;B++)R=y(h,m[B],v),R!==null&&(d=o(R,d,B),N===null?k=R:N.sibling=R,N=R);return _e&&dn(h,B),k}for(R=r(h,R);B<m.length;B++)le=P(R,h,B,m[B],v),le!==null&&(e&&le.alternate!==null&&R.delete(le.key===null?B:le.key),d=o(le,d,B),N===null?k=le:N.sibling=le,N=le);return e&&R.forEach(function(K){return t(h,K)}),_e&&dn(h,B),k}function _(h,d,m,v){var k=nr(m);if(typeof k!="function")throw Error(U(150));if(m=k.call(m),m==null)throw Error(U(151));for(var N=k=null,R=d,B=d=0,le=null,j=m.next();R!==null&&!j.done;B++,j=m.next()){R.index>B?(le=R,R=null):le=R.sibling;var K=g(h,R,j.value,v);if(K===null){R===null&&(R=le);break}e&&R&&K.alternate===null&&t(h,R),d=o(K,d,B),N===null?k=K:N.sibling=K,N=K,R=le}if(j.done)return n(h,R),_e&&dn(h,B),k;if(R===null){for(;!j.done;B++,j=m.next())j=y(h,j.value,v),j!==null&&(d=o(j,d,B),N===null?k=j:N.sibling=j,N=j);return _e&&dn(h,B),k}for(R=r(h,R);!j.done;B++,j=m.next())j=P(R,h,B,j.value,v),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?B:j.key),d=o(j,d,B),N===null?k=j:N.sibling=j,N=j);return e&&R.forEach(function(X){return t(h,X)}),_e&&dn(h,B),k}function E(h,d,m,v){if(typeof m=="object"&&m!==null&&m.type===En&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Wr:e:{for(var k=m.key,N=d;N!==null;){if(N.key===k){if(k=m.type,k===En){if(N.tag===7){n(h,N.sibling),d=s(N,m.props.children),d.return=h,h=d;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&aa(k)===N.type){n(h,N.sibling),d=s(N,m.props),d.ref=ir(h,N,m),d.return=h,h=d;break e}n(h,N);break}else t(h,N);N=N.sibling}m.type===En?(d=yn(m.props.children,h.mode,v,m.key),d.return=h,h=d):(v=ws(m.type,m.key,m.props,null,h.mode,v),v.ref=ir(h,d,m),v.return=h,h=v)}return i(h);case Mn:e:{for(N=m.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(h,d.sibling),d=s(d,m.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Io(m,h.mode,v),d.return=h,h=d}return i(h);case Ht:return N=m._init,E(h,d,N(m._payload),v)}if(dr(m))return x(h,d,m,v);if(nr(m))return _(h,d,m,v);rs(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,m),d.return=h,h=d):(n(h,d),d=To(m,h.mode,v),d.return=h,h=d),i(h)):n(h,d)}return E}var Yn=Yu(!0),Qu=Yu(!1),Is=un(null),$s=null,Ln=null,Zl=null;function Jl(){Zl=Ln=$s=null}function ql(e){var t=Is.current;Ce(Is),e._currentValue=t}function cl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gn(e,t){$s=e,Zl=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Zl!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if($s===null)throw Error(U(308));Ln=e,$s.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var hn=null;function ei(e){hn===null?hn=[e]:hn.push(e)}function Ku(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ei(t)):(n.next=s.next,s.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,At(e,n)}return s=r.interleaved,s===null?(t.next=t,ei(r)):(t.next=s.next,s.next=t),r.interleaved=t,At(e,n)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ol(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ls(e,t,n,r){var s=e.updateQueue;Vt=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==i&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=c))}if(o!==null){var y=s.baseState;i=0,p=u=c=null,a=o;do{var g=a.lane,P=a.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:P,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,_=a;switch(g=t,P=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){y=x.call(P,y,g);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,g=typeof x=="function"?x.call(P,y,g):x,g==null)break e;y=Ee({},y,g);break e;case 2:Vt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else P={eventTime:P,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=P,c=y):p=p.next=P,i|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(c=y),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Sn|=i,e.lanes=i,e.memoizedState=y}}function ca(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Hr={},bt=un(Hr),Ir=un(Hr),$r=un(Hr);function mn(e){if(e===Hr)throw Error(U(174));return e}function ni(e,t){switch(we($r,t),we(Ir,e),we(bt,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ho(t,e)}Ce(bt),we(bt,t)}function Qn(){Ce(bt),Ce(Ir),Ce($r)}function Ju(e){mn($r.current);var t=mn(bt.current),n=Ho(t,e.type);t!==n&&(we(Ir,e),we(bt,n))}function ri(e){Ir.current===e&&(Ce(bt),Ce(Ir))}var ke=un(0);function zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=[];function si(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var ms=Bt.ReactCurrentDispatcher,Eo=Bt.ReactCurrentBatchConfig,Nn=0,Me=null,Ie=null,Le=null,As=!1,vr=!1,Lr=0,Jf=0;function Fe(){throw Error(U(321))}function oi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function li(e,t,n,r,s,o){if(Nn=o,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=e===null||e.memoizedState===null?np:rp,e=n(r,s),vr){o=0;do{if(vr=!1,Lr=0,25<=o)throw Error(U(301));o+=1,Le=Ie=null,t.updateQueue=null,ms.current=sp,e=n(r,s)}while(vr)}if(ms.current=Us,t=Ie!==null&&Ie.next!==null,Nn=0,Le=Ie=Me=null,As=!1,t)throw Error(U(300));return e}function ii(){var e=Lr!==0;return Lr=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Me.memoizedState=Le=e:Le=Le.next=e,Le}function yt(){if(Ie===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Le===null?Me.memoizedState:Le.next;if(t!==null)Le=t,Ie=e;else{if(e===null)throw Error(U(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Le===null?Me.memoizedState=Le=e:Le=Le.next=e}return Le}function zr(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=yt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var p=u.lane;if((Nn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var y={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=y,i=r):c=c.next=y,Me.lanes|=p,Sn|=p}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,jt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Me.lanes|=o,Sn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=yt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);jt(o,t.memoizedState)||(qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function qu(){}function ec(e,t){var n=Me,r=yt(),s=t(),o=!jt(r.memoizedState,s);if(o&&(r.memoizedState=s,qe=!0),r=r.queue,ai(rc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Ar(9,nc.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(U(349));Nn&30||tc(n,t,s)}return s}function tc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nc(e,t,n,r){t.value=n,t.getSnapshot=r,sc(t)&&oc(e)}function rc(e,t,n){return n(function(){sc(t)&&oc(e)})}function sc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function oc(e){var t=At(e,1);t!==null&&Ct(t,e,1,-1)}function da(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=tp.bind(null,Me,e),[t.memoizedState,e]}function Ar(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lc(){return yt().memoizedState}function gs(e,t,n,r){var s=kt();Me.flags|=e,s.memoizedState=Ar(1|t,n,void 0,r===void 0?null:r)}function qs(e,t,n,r){var s=yt();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var i=Ie.memoizedState;if(o=i.destroy,r!==null&&oi(r,i.deps)){s.memoizedState=Ar(t,n,o,r);return}}Me.flags|=e,s.memoizedState=Ar(1|t,n,o,r)}function fa(e,t){return gs(8390656,8,e,t)}function ai(e,t){return qs(2048,8,e,t)}function ic(e,t){return qs(4,2,e,t)}function ac(e,t){return qs(4,4,e,t)}function uc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cc(e,t,n){return n=n!=null?n.concat([e]):null,qs(4,4,uc.bind(null,t,e),n)}function ui(){}function dc(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fc(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pc(e,t,n){return Nn&21?(jt(n,t)||(n=xu(),Me.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function qf(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=Eo.transition;Eo.transition={};try{e(!1),t()}finally{ve=n,Eo.transition=r}}function hc(){return yt().memoizedState}function ep(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mc(e))gc(t,n);else if(n=Ku(e,t,n,r),n!==null){var s=Xe();Ct(n,e,r,s),yc(n,t,r)}}function tp(e,t,n){var r=nn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mc(e))gc(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,i)){var c=t.interleaved;c===null?(s.next=s,ei(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Ku(e,t,s,r),n!==null&&(s=Xe(),Ct(n,e,r,s),yc(n,t,r))}}function mc(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function gc(e,t){vr=As=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ol(e,n)}}var Us={readContext:gt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},np={readContext:gt,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:fa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gs(4194308,4,uc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return gs(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ep.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:da,useDebugValue:ui,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=da(!1),t=e[0];return e=qf.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,s=kt();if(_e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ze===null)throw Error(U(349));Nn&30||tc(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,fa(rc.bind(null,r,o,e),[e]),r.flags|=2048,Ar(9,nc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=kt(),t=ze.identifierPrefix;if(_e){var n=It,r=Tt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rp={readContext:gt,useCallback:dc,useContext:gt,useEffect:ai,useImperativeHandle:cc,useInsertionEffect:ic,useLayoutEffect:ac,useMemo:fc,useReducer:Do,useRef:lc,useState:function(){return Do(zr)},useDebugValue:ui,useDeferredValue:function(e){var t=yt();return pc(t,Ie.memoizedState,e)},useTransition:function(){var e=Do(zr)[0],t=yt().memoizedState;return[e,t]},useMutableSource:qu,useSyncExternalStore:ec,useId:hc,unstable_isNewReconciler:!1},sp={readContext:gt,useCallback:dc,useContext:gt,useEffect:ai,useImperativeHandle:cc,useInsertionEffect:ic,useLayoutEffect:ac,useMemo:fc,useReducer:bo,useRef:lc,useState:function(){return bo(zr)},useDebugValue:ui,useDeferredValue:function(e){var t=yt();return Ie===null?t.memoizedState=e:pc(t,Ie.memoizedState,e)},useTransition:function(){var e=bo(zr)[0],t=yt().memoizedState;return[e,t]},useMutableSource:qu,useSyncExternalStore:ec,useId:hc,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eo={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),s=nn(e),o=$t(r,s);o.payload=t,n!=null&&(o.callback=n),t=en(e,o,s),t!==null&&(Ct(t,e,s,r),hs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),s=nn(e),o=$t(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=en(e,o,s),t!==null&&(Ct(t,e,s,r),hs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=nn(e),s=$t(n,r);s.tag=2,t!=null&&(s.callback=t),t=en(e,s,r),t!==null&&(Ct(t,e,r,n),hs(t,e,r))}};function pa(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(s,o):!0}function xc(e,t,n){var r=!1,s=on,o=t.contextType;return typeof o=="object"&&o!==null?o=gt(o):(s=tt(t)?vn:Ve.current,r=t.contextTypes,o=(r=r!=null)?Wn(e,s):on),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ha(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function fl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ti(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gt(o):(o=tt(t)?vn:Ve.current,s.context=Wn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(dl(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&eo.enqueueReplaceState(s,s.state,null),Ls(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=Pd(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Po(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var op=typeof WeakMap=="function"?WeakMap:Map;function vc(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,Cl=r),pl(e,t)},n}function wc(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){pl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pl(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ma(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new op;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vp.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ya(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var lp=Bt.ReactCurrentOwner,qe=!1;function We(e,t,n,r){t.child=e===null?Qu(t,null,n,r):Yn(t,e.child,n,r)}function xa(e,t,n,r,s){n=n.render;var o=t.ref;return Gn(t,s),r=li(e,t,n,r,o,s),n=ii(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(_e&&n&&Yl(t),t.flags|=1,We(e,t,r,s),t.child)}function va(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!yi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Nc(e,t,o,r,s)):(e=ws(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(i,r)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=rn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Nc(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(br(o,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return hl(e,t,n,r,s)}function Sc(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(An,ot),ot|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(An,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,we(An,ot),ot|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,we(An,ot),ot|=r;return We(e,t,s,n),t.child}function Cc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hl(e,t,n,r,s){var o=tt(n)?vn:Ve.current;return o=Wn(t,o),Gn(t,s),n=li(e,t,n,r,o,s),r=ii(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(_e&&r&&Yl(t),t.flags|=1,We(e,t,n,s),t.child)}function wa(e,t,n,r,s){if(tt(n)){var o=!0;Ps(t)}else o=!1;if(Gn(t,s),t.stateNode===null)ys(e,t),xc(t,n,r),fl(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=tt(n)?vn:Ve.current,u=Wn(t,u));var p=n.getDerivedStateFromProps,y=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ha(t,i,r,u),Vt=!1;var g=t.memoizedState;i.state=g,Ls(t,r,i,s),c=t.memoizedState,a!==r||g!==c||et.current||Vt?(typeof p=="function"&&(dl(t,n,p,r),c=t.memoizedState),(a=Vt||pa(t,n,a,r,g,c,u))?(y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Zu(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vt(t.type,a),i.props=u,y=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=tt(n)?vn:Ve.current,c=Wn(t,c));var P=n.getDerivedStateFromProps;(p=typeof P=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==y||g!==c)&&ha(t,i,r,c),Vt=!1,g=t.memoizedState,i.state=g,Ls(t,r,i,s);var x=t.memoizedState;a!==y||g!==x||et.current||Vt?(typeof P=="function"&&(dl(t,n,P,r),x=t.memoizedState),(u=Vt||pa(t,n,u,r,g,x,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ml(e,t,n,r,o,s)}function ml(e,t,n,r,s,o){Cc(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&oa(t,n,!1),Ut(e,t,o);r=t.stateNode,lp.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Yn(t,e.child,null,o),t.child=Yn(t,null,a,o)):We(e,t,a,o),t.memoizedState=r.state,s&&oa(t,n,!0),t.child}function jc(e){var t=e.stateNode;t.pendingContext?sa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sa(e,t.context,!1),ni(e,t.containerInfo)}function Na(e,t,n,r,s){return Xn(),Kl(s),t.flags|=256,We(e,t,n,r),t.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _c(e,t,n){var r=t.pendingProps,s=ke.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(ke,s&1),e===null)return ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ro(i,r,0,null),e=yn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=yl(n),t.memoizedState=gl,e):ci(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ip(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=rn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=rn(a,o):(o=yn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?yl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=gl,r}return o=e.child,e=o.sibling,r=rn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ci(e,t){return t=ro({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ss(e,t,n,r){return r!==null&&Kl(r),Yn(t,e.child,null,n),e=ci(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ip(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Po(Error(U(422))),ss(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=ro({mode:"visible",children:r.children},s,0,null),o=yn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Yn(t,e.child,null,i),t.child.memoizedState=yl(i),t.memoizedState=gl,o);if(!(t.mode&1))return ss(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Po(o,r,void 0),ss(e,t,i,r)}if(a=(i&e.childLanes)!==0,qe||a){if(r=ze,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,At(e,s),Ct(r,e,s,-1))}return gi(),r=Po(Error(U(421))),ss(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wp.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,lt=qt(s.nextSibling),it=t,_e=!0,Nt=null,e!==null&&(ft[pt++]=Tt,ft[pt++]=It,ft[pt++]=wn,Tt=e.id,It=e.overflow,wn=t),t=ci(t,r.children),t.flags|=4096,t)}function Sa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cl(e.return,t,n)}function Ro(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function kc(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(We(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sa(e,n,t);else if(e.tag===19)Sa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&zs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ro(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ro(t,!0,n,null,o);break;case"together":Ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ap(e,t,n){switch(t.tag){case 3:jc(t),Xn();break;case 5:Ju(t);break;case 1:tt(t.type)&&Ps(t);break;case 4:ni(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;we(Is,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?_c(e,t,n):(we(ke,ke.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);we(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kc(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Sc(e,t,n)}return Ut(e,t,n)}var Mc,xl,Ec,Dc;Mc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xl=function(){};Ec=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mn(bt.current);var o=null;switch(n){case"input":s=Oo(e,s),r=Oo(e,r),o=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":s=Go(e,s),r=Go(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ds)}Vo(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Dc=function(e,t,n,r){n!==r&&(t.flags|=4)};function ar(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function up(e,t,n){var r=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return tt(t.type)&&bs(),Ge(t),null;case 3:return r=t.stateNode,Qn(),Ce(et),Ce(Ve),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(kl(Nt),Nt=null))),xl(e,t),Ge(t),null;case 5:ri(t);var s=mn($r.current);if(n=t.type,e!==null&&t.stateNode!=null)Ec(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Ge(t),null}if(e=mn(bt.current),ns(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Mt]=t,r[Tr]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<pr.length;s++)Se(pr[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Pi(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":Ti(r,o),Se("invalid",r)}Vo(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ts(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ts(r.textContent,a,e),s=["children",""+a]):Cr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Se("scroll",r)}switch(n){case"input":Xr(r),Ri(r,o,!0);break;case"textarea":Xr(r),Ii(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ds)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ru(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Mt]=t,e[Tr]=r,Mc(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wo(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<pr.length;s++)Se(pr[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":Pi(e,r),s=Oo(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Ti(e,r),s=Go(e,r),Se("invalid",e);break;default:s=r}Vo(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?lu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&su(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jr(e,c):typeof c=="number"&&jr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Se("scroll",e):c!=null&&Il(e,o,c,i))}switch(n){case"input":Xr(e),Ri(e,r,!1);break;case"textarea":Xr(e),Ii(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Un(e,!!r.multiple,o,!1):r.defaultValue!=null&&Un(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Dc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=mn($r.current),mn(bt.current),ns(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(o=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ts(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Ge(t),null;case 13:if(Ce(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&lt!==null&&t.mode&1&&!(t.flags&128))Xu(),Xn(),t.flags|=98560,o=!1;else if(o=ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Mt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),o=!1}else Nt!==null&&(kl(Nt),Nt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?$e===0&&($e=3):gi())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Qn(),xl(e,t),e===null&&Pr(t.stateNode.containerInfo),Ge(t),null;case 10:return ql(t.type._context),Ge(t),null;case 17:return tt(t.type)&&bs(),Ge(t),null;case 19:if(Ce(ke),o=t.memoizedState,o===null)return Ge(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ar(o,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zs(e),i!==null){for(t.flags|=128,ar(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>Zn&&(t.flags|=128,r=!0,ar(o,!1),t.lanes=4194304)}else{if(!r)if(e=zs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ar(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!_e)return Ge(t),null}else 2*Re()-o.renderingStartTime>Zn&&n!==1073741824&&(t.flags|=128,r=!0,ar(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=ke.current,we(ke,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return mi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ot&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function cp(e,t){switch(Ql(t),t.tag){case 1:return tt(t.type)&&bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),Ce(et),Ce(Ve),si(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ri(t),null;case 13:if(Ce(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(ke),null;case 4:return Qn(),null;case 10:return ql(t.type._context),null;case 22:case 23:return mi(),null;case 24:return null;default:return null}}var os=!1,He=!1,dp=typeof WeakSet=="function"?WeakSet:Set,Q=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function vl(e,t,n){try{n()}catch(r){De(e,t,r)}}var Ca=!1;function fp(e,t){if(nl=ks,e=Iu(),Xl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,p=0,y=e,g=null;t:for(;;){for(var P;y!==n||s!==0&&y.nodeType!==3||(a=i+s),y!==o||r!==0&&y.nodeType!==3||(c=i+r),y.nodeType===3&&(i+=y.nodeValue.length),(P=y.firstChild)!==null;)g=y,y=P;for(;;){if(y===e)break t;if(g===n&&++u===s&&(a=i),g===o&&++p===r&&(c=i),(P=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=P}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rl={focusedElem:e,selectionRange:n},ks=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,E=x.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:vt(t.type,_),E);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(v){De(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return x=Ca,Ca=!1,x}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&vl(t,n,o)}s=s.next}while(s!==r)}}function to(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bc(e){var t=e.alternate;t!==null&&(e.alternate=null,bc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Tr],delete t[ll],delete t[Yf],delete t[Qf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pc(e){return e.tag===5||e.tag===3||e.tag===4}function ja(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ds));else if(r!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}function Sl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sl(e,t,n),e=e.sibling;e!==null;)Sl(e,t,n),e=e.sibling}var Ue=null,wt=!1;function Ft(e,t,n){for(n=n.child;n!==null;)Rc(e,t,n),n=n.sibling}function Rc(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Xs,n)}catch{}switch(n.tag){case 5:He||zn(n,t);case 6:var r=Ue,s=wt;Ue=null,Ft(e,t,n),Ue=r,wt=s,Ue!==null&&(wt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(wt?(e=Ue,n=n.stateNode,e.nodeType===8?_o(e.parentNode,n):e.nodeType===1&&_o(e,n),Er(e)):_o(Ue,n.stateNode));break;case 4:r=Ue,s=wt,Ue=n.stateNode.containerInfo,wt=!0,Ft(e,t,n),Ue=r,wt=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&vl(n,t,i),s=s.next}while(s!==r)}Ft(e,t,n);break;case 1:if(!He&&(zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,t,a)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Ft(e,t,n),He=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function _a(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dp),t.forEach(function(r){var s=Np.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,wt=!1;break e;case 3:Ue=a.stateNode.containerInfo,wt=!0;break e;case 4:Ue=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Ue===null)throw Error(U(160));Rc(o,i,s),Ue=null,wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){De(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tc(t,e),t=t.sibling}function Tc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),_t(e),r&4){try{wr(3,e,e.return),to(3,e)}catch(_){De(e,e.return,_)}try{wr(5,e,e.return)}catch(_){De(e,e.return,_)}}break;case 1:xt(t,e),_t(e),r&512&&n!==null&&zn(n,n.return);break;case 5:if(xt(t,e),_t(e),r&512&&n!==null&&zn(n,n.return),e.flags&32){var s=e.stateNode;try{jr(s,"")}catch(_){De(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&tu(s,o),Wo(a,i);var u=Wo(a,o);for(i=0;i<c.length;i+=2){var p=c[i],y=c[i+1];p==="style"?lu(s,y):p==="dangerouslySetInnerHTML"?su(s,y):p==="children"?jr(s,y):Il(s,p,y,u)}switch(a){case"input":Bo(s,o);break;case"textarea":nu(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?Un(s,!!o.multiple,P,!1):g!==!!o.multiple&&(o.defaultValue!=null?Un(s,!!o.multiple,o.defaultValue,!0):Un(s,!!o.multiple,o.multiple?[]:"",!1))}s[Tr]=o}catch(_){De(e,e.return,_)}}break;case 6:if(xt(t,e),_t(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(_){De(e,e.return,_)}}break;case 3:if(xt(t,e),_t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(_){De(e,e.return,_)}break;case 4:xt(t,e),_t(e);break;case 13:xt(t,e),_t(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(pi=Re())),r&4&&_a(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||p,xt(t,e),He=u):xt(t,e),_t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(y=Q=p;Q!==null;){switch(g=Q,P=g.child,g.tag){case 0:case 11:case 14:case 15:wr(4,g,g.return);break;case 1:zn(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(_){De(r,n,_)}}break;case 5:zn(g,g.return);break;case 22:if(g.memoizedState!==null){Ma(y);continue}}P!==null?(P.return=g,Q=P):Ma(y)}p=p.sibling}e:for(p=null,y=e;;){if(y.tag===5){if(p===null){p=y;try{s=y.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,c=y.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ou("display",i))}catch(_){De(e,e.return,_)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(_){De(e,e.return,_)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:xt(t,e),_t(e),r&4&&_a(e);break;case 21:break;default:xt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pc(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(jr(s,""),r.flags&=-33);var o=ja(e);Sl(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ja(e);Nl(e,a,i);break;default:throw Error(U(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pp(e,t,n){Q=e,Ic(e)}function Ic(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||os;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||He;a=os;var u=He;if(os=i,(He=c)&&!u)for(Q=s;Q!==null;)i=Q,c=i.child,i.tag===22&&i.memoizedState!==null?Ea(s):c!==null?(c.return=i,Q=c):Ea(s);for(;o!==null;)Q=o,Ic(o),o=o.sibling;Q=s,os=a,He=u}ka(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):ka(e)}}function ka(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||to(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ca(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ca(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&Er(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}He||t.flags&512&&wl(t)}catch(g){De(t,t.return,g)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Ma(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Ea(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{to(4,t)}catch(c){De(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){De(t,s,c)}}var o=t.return;try{wl(t)}catch(c){De(t,o,c)}break;case 5:var i=t.return;try{wl(t)}catch(c){De(t,i,c)}}}catch(c){De(t,t.return,c)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var hp=Math.ceil,Os=Bt.ReactCurrentDispatcher,di=Bt.ReactCurrentOwner,mt=Bt.ReactCurrentBatchConfig,me=0,ze=null,Te=null,Oe=0,ot=0,An=un(0),$e=0,Ur=null,Sn=0,no=0,fi=0,Nr=null,Je=null,pi=0,Zn=1/0,Pt=null,Bs=!1,Cl=null,tn=null,ls=!1,Qt=null,Fs=0,Sr=0,jl=null,xs=-1,vs=0;function Xe(){return me&6?Re():xs!==-1?xs:xs=Re()}function nn(e){return e.mode&1?me&2&&Oe!==0?Oe&-Oe:Zf.transition!==null?(vs===0&&(vs=xu()),vs):(e=ve,e!==0||(e=window.event,e=e===void 0?16:_u(e.type)),e):1}function Ct(e,t,n,r){if(50<Sr)throw Sr=0,jl=null,Error(U(185));Br(e,n,r),(!(me&2)||e!==ze)&&(e===ze&&(!(me&2)&&(no|=n),$e===4&&Xt(e,Oe)),nt(e,r),n===1&&me===0&&!(t.mode&1)&&(Zn=Re()+500,Js&&cn()))}function nt(e,t){var n=e.callbackNode;Kd(e,t);var r=_s(e,e===ze?Oe:0);if(r===0)n!==null&&zi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zi(n),t===1)e.tag===0?Kf(Da.bind(null,e)):Hu(Da.bind(null,e)),Wf(function(){!(me&6)&&cn()}),n=null;else{switch(vu(r)){case 1:n=Ul;break;case 4:n=gu;break;case 16:n=js;break;case 536870912:n=yu;break;default:n=js}n=Fc(n,$c.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $c(e,t){if(xs=-1,vs=0,me&6)throw Error(U(327));var n=e.callbackNode;if(Hn()&&e.callbackNode!==n)return null;var r=_s(e,e===ze?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gs(e,r);else{t=r;var s=me;me|=2;var o=zc();(ze!==e||Oe!==t)&&(Pt=null,Zn=Re()+500,gn(e,t));do try{yp();break}catch(a){Lc(e,a)}while(!0);Jl(),Os.current=o,me=s,Te!==null?t=0:(ze=null,Oe=0,t=$e)}if(t!==0){if(t===2&&(s=Zo(e),s!==0&&(r=s,t=_l(e,s))),t===1)throw n=Ur,gn(e,0),Xt(e,r),nt(e,Re()),n;if(t===6)Xt(e,r);else{if(s=e.current.alternate,!(r&30)&&!mp(s)&&(t=Gs(e,r),t===2&&(o=Zo(e),o!==0&&(r=o,t=_l(e,o))),t===1))throw n=Ur,gn(e,0),Xt(e,r),nt(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:fn(e,Je,Pt);break;case 3:if(Xt(e,r),(r&130023424)===r&&(t=pi+500-Re(),10<t)){if(_s(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ol(fn.bind(null,e,Je,Pt),t);break}fn(e,Je,Pt);break;case 4:if(Xt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-St(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hp(r/1960))-r,10<r){e.timeoutHandle=ol(fn.bind(null,e,Je,Pt),r);break}fn(e,Je,Pt);break;case 5:fn(e,Je,Pt);break;default:throw Error(U(329))}}}return nt(e,Re()),e.callbackNode===n?$c.bind(null,e):null}function _l(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=Gs(e,t),e!==2&&(t=Je,Je=n,t!==null&&kl(t)),e}function kl(e){Je===null?Je=e:Je.push.apply(Je,e)}function mp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!jt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~fi,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Da(e){if(me&6)throw Error(U(327));Hn();var t=_s(e,0);if(!(t&1))return nt(e,Re()),null;var n=Gs(e,t);if(e.tag!==0&&n===2){var r=Zo(e);r!==0&&(t=r,n=_l(e,r))}if(n===1)throw n=Ur,gn(e,0),Xt(e,t),nt(e,Re()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,Je,Pt),nt(e,Re()),null}function hi(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Zn=Re()+500,Js&&cn())}}function Cn(e){Qt!==null&&Qt.tag===0&&!(me&6)&&Hn();var t=me;me|=1;var n=mt.transition,r=ve;try{if(mt.transition=null,ve=1,e)return e()}finally{ve=r,mt.transition=n,me=t,!(me&6)&&cn()}}function mi(){ot=An.current,Ce(An)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vf(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bs();break;case 3:Qn(),Ce(et),Ce(Ve),si();break;case 5:ri(r);break;case 4:Qn();break;case 13:Ce(ke);break;case 19:Ce(ke);break;case 10:ql(r.type._context);break;case 22:case 23:mi()}n=n.return}if(ze=e,Te=e=rn(e.current,null),Oe=ot=t,$e=0,Ur=null,fi=no=Sn=0,Je=Nr=null,hn!==null){for(t=0;t<hn.length;t++)if(n=hn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}hn=null}return e}function Lc(e,t){do{var n=Te;try{if(Jl(),ms.current=Us,As){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}As=!1}if(Nn=0,Le=Ie=Me=null,vr=!1,Lr=0,di.current=null,n===null||n.return===null){$e=1,Ur=t,Te=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Oe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=a,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var P=ga(i);if(P!==null){P.flags&=-257,ya(P,i,a,o,t),P.mode&1&&ma(o,u,t),t=P,c=u;var x=t.updateQueue;if(x===null){var _=new Set;_.add(c),t.updateQueue=_}else x.add(c);break e}else{if(!(t&1)){ma(o,u,t),gi();break e}c=Error(U(426))}}else if(_e&&a.mode&1){var E=ga(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ya(E,i,a,o,t),Kl(Kn(c,a));break e}}o=c=Kn(c,a),$e!==4&&($e=2),Nr===null?Nr=[o]:Nr.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=vc(o,c,t);ua(o,h);break e;case 1:a=c;var d=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tn===null||!tn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=wc(o,a,t);ua(o,v);break e}}o=o.return}while(o!==null)}Uc(n)}catch(k){t=k,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function zc(){var e=Os.current;return Os.current=Us,e===null?Us:e}function gi(){($e===0||$e===3||$e===2)&&($e=4),ze===null||!(Sn&268435455)&&!(no&268435455)||Xt(ze,Oe)}function Gs(e,t){var n=me;me|=2;var r=zc();(ze!==e||Oe!==t)&&(Pt=null,gn(e,t));do try{gp();break}catch(s){Lc(e,s)}while(!0);if(Jl(),me=n,Os.current=r,Te!==null)throw Error(U(261));return ze=null,Oe=0,$e}function gp(){for(;Te!==null;)Ac(Te)}function yp(){for(;Te!==null&&!Bd();)Ac(Te)}function Ac(e){var t=Bc(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Uc(e):Te=t,di.current=null}function Uc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cp(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Te=null;return}}else if(n=up(n,t,ot),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);$e===0&&($e=5)}function fn(e,t,n){var r=ve,s=mt.transition;try{mt.transition=null,ve=1,xp(e,t,n,r)}finally{mt.transition=s,ve=r}return null}function xp(e,t,n,r){do Hn();while(Qt!==null);if(me&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Zd(e,o),e===ze&&(Te=ze=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,Fc(js,function(){return Hn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mt.transition,mt.transition=null;var i=ve;ve=1;var a=me;me|=4,di.current=null,fp(e,n),Tc(n,e),Af(rl),ks=!!nl,rl=nl=null,e.current=n,pp(n),Fd(),me=a,ve=i,mt.transition=o}else e.current=n;if(ls&&(ls=!1,Qt=e,Fs=s),o=e.pendingLanes,o===0&&(tn=null),Vd(n.stateNode),nt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bs)throw Bs=!1,e=Cl,Cl=null,e;return Fs&1&&e.tag!==0&&Hn(),o=e.pendingLanes,o&1?e===jl?Sr++:(Sr=0,jl=e):Sr=0,cn(),null}function Hn(){if(Qt!==null){var e=vu(Fs),t=mt.transition,n=ve;try{if(mt.transition=null,ve=16>e?16:e,Qt===null)var r=!1;else{if(e=Qt,Qt=null,Fs=0,me&6)throw Error(U(331));var s=me;for(me|=4,Q=e.current;Q!==null;){var o=Q,i=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Q=u;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:wr(8,p,o)}var y=p.child;if(y!==null)y.return=p,Q=y;else for(;Q!==null;){p=Q;var g=p.sibling,P=p.return;if(bc(p),p===u){Q=null;break}if(g!==null){g.return=P,Q=g;break}Q=P}}}var x=o.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}Q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Q=i;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wr(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,Q=h;break e}Q=o.return}}var d=e.current;for(Q=d;Q!==null;){i=Q;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,Q=m;else e:for(i=d;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:to(9,a)}}catch(k){De(a,a.return,k)}if(a===i){Q=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Q=v;break e}Q=a.return}}if(me=s,cn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Xs,e)}catch{}r=!0}return r}finally{ve=n,mt.transition=t}}return!1}function ba(e,t,n){t=Kn(n,t),t=vc(e,t,1),e=en(e,t,1),t=Xe(),e!==null&&(Br(e,1,t),nt(e,t))}function De(e,t,n){if(e.tag===3)ba(e,e,n);else for(;t!==null;){if(t.tag===3){ba(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=Kn(n,e),e=wc(t,e,1),t=en(t,e,1),e=Xe(),t!==null&&(Br(t,1,e),nt(t,e));break}}t=t.return}}function vp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Oe&n)===n&&($e===4||$e===3&&(Oe&130023424)===Oe&&500>Re()-pi?gn(e,0):fi|=n),nt(e,t)}function Oc(e,t){t===0&&(e.mode&1?(t=Kr,Kr<<=1,!(Kr&130023424)&&(Kr=4194304)):t=1);var n=Xe();e=At(e,t),e!==null&&(Br(e,t,n),nt(e,n))}function wp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oc(e,n)}function Np(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Oc(e,n)}var Bc;Bc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,ap(e,t,n);qe=!!(e.flags&131072)}else qe=!1,_e&&t.flags&1048576&&Vu(t,Ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ys(e,t),e=t.pendingProps;var s=Wn(t,Ve.current);Gn(t,n),s=li(null,t,r,e,s,n);var o=ii();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,Ps(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ti(t),s.updater=eo,t.stateNode=s,s._reactInternals=t,fl(t,r,e,n),t=ml(null,t,r,!0,o,n)):(t.tag=0,_e&&o&&Yl(t),We(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Cp(r),e=vt(r,e),s){case 0:t=hl(null,t,r,e,n);break e;case 1:t=wa(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=va(null,t,r,vt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),hl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),wa(e,t,r,s,n);case 3:e:{if(jc(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Zu(e,t),Ls(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Kn(Error(U(423)),t),t=Na(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(U(424)),t),t=Na(e,t,r,n,s);break e}else for(lt=qt(t.stateNode.containerInfo.firstChild),it=t,_e=!0,Nt=null,n=Qu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){t=Ut(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return Ju(t),e===null&&ul(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,sl(r,s)?i=null:o!==null&&sl(r,o)&&(t.flags|=32),Cc(e,t),We(e,t,i,n),t.child;case 6:return e===null&&ul(t),null;case 13:return _c(e,t,n);case 4:return ni(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yn(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),xa(e,t,r,s,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,we(Is,r._currentValue),r._currentValue=i,o!==null)if(jt(o.value,i)){if(o.children===s.children&&!et.current){t=Ut(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=$t(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),cl(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),cl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}We(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gn(t,n),s=gt(s),r=r(s),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,s=vt(r,t.pendingProps),s=vt(r.type,s),va(e,t,r,s,n);case 15:return Nc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),ys(e,t),t.tag=1,tt(r)?(e=!0,Ps(t)):e=!1,Gn(t,n),xc(t,r,s),fl(t,r,s,n),ml(null,t,r,!0,e,n);case 19:return kc(e,t,n);case 22:return Sc(e,t,n)}throw Error(U(156,t.tag))};function Fc(e,t){return mu(e,t)}function Sp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new Sp(e,t,n,r)}function yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cp(e){if(typeof e=="function")return yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ll)return 11;if(e===zl)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ws(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")yi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case En:return yn(n.children,s,o,t);case $l:i=8,s|=8;break;case Lo:return e=ht(12,n,t,s|2),e.elementType=Lo,e.lanes=o,e;case zo:return e=ht(13,n,t,s),e.elementType=zo,e.lanes=o,e;case Ao:return e=ht(19,n,t,s),e.elementType=Ao,e.lanes=o,e;case Ja:return ro(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ka:i=10;break e;case Za:i=9;break e;case Ll:i=11;break e;case zl:i=14;break e;case Ht:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ht(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function yn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function ro(e,t,n,r){return e=ht(22,e,r,t),e.elementType=Ja,e.lanes=n,e.stateNode={isHidden:!1},e}function To(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Io(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xi(e,t,n,r,s,o,i,a,c){return e=new jp(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ti(o),e}function _p(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gc(e){if(!e)return on;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(tt(n))return Gu(e,n,t)}return t}function Hc(e,t,n,r,s,o,i,a,c){return e=xi(n,r,!0,e,s,o,i,a,c),e.context=Gc(null),n=e.current,r=Xe(),s=nn(n),o=$t(r,s),o.callback=t??null,en(n,o,s),e.current.lanes=s,Br(e,s,r),nt(e,r),e}function so(e,t,n,r){var s=t.current,o=Xe(),i=nn(s);return n=Gc(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(s,t,i),e!==null&&(Ct(e,s,i,o),hs(e,s,i)),i}function Hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pa(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vi(e,t){Pa(e,t),(e=e.alternate)&&Pa(e,t)}function kp(){return null}var Vc=typeof reportError=="function"?reportError:function(e){console.error(e)};function wi(e){this._internalRoot=e}oo.prototype.render=wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));so(e,t,null,null)};oo.prototype.unmount=wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){so(null,e,null,null)}),t[zt]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Su();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&ju(e)}};function Ni(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ra(){}function Mp(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Hs(i);o.call(u)}}var i=Hc(t,r,e,0,null,!1,!1,"",Ra);return e._reactRootContainer=i,e[zt]=i.current,Pr(e.nodeType===8?e.parentNode:e),Cn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Hs(c);a.call(u)}}var c=xi(e,0,!1,null,null,!1,!1,"",Ra);return e._reactRootContainer=c,e[zt]=c.current,Pr(e.nodeType===8?e.parentNode:e),Cn(function(){so(t,c,n,r)}),c}function io(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Hs(i);a.call(c)}}so(t,i,e,s)}else i=Mp(n,t,e,s,r);return Hs(i)}wu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fr(t.pendingLanes);n!==0&&(Ol(t,n|1),nt(t,Re()),!(me&6)&&(Zn=Re()+500,cn()))}break;case 13:Cn(function(){var r=At(e,1);if(r!==null){var s=Xe();Ct(r,e,1,s)}}),vi(e,1)}};Bl=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Xe();Ct(t,e,134217728,n)}vi(e,134217728)}};Nu=function(e){if(e.tag===13){var t=nn(e),n=At(e,t);if(n!==null){var r=Xe();Ct(n,e,t,r)}vi(e,t)}};Su=function(){return ve};Cu=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Yo=function(e,t,n){switch(t){case"input":if(Bo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Zs(r);if(!s)throw Error(U(90));eu(r),Bo(r,s)}}}break;case"textarea":nu(e,n);break;case"select":t=n.value,t!=null&&Un(e,!!n.multiple,t,!1)}};uu=hi;cu=Cn;var Ep={usingClientEntryPoint:!1,Events:[Gr,Rn,Zs,iu,au,hi]},ur={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dp={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pu(e),e===null?null:e.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{Xs=is.inject(Dp),Dt=is}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ni(t))throw Error(U(200));return _p(e,t,null,n)};ut.createRoot=function(e,t){if(!Ni(e))throw Error(U(299));var n=!1,r="",s=Vc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xi(e,1,!1,null,null,n,!1,r,s),e[zt]=t.current,Pr(e.nodeType===8?e.parentNode:e),new wi(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=pu(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Cn(e)};ut.hydrate=function(e,t,n){if(!lo(t))throw Error(U(200));return io(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Ni(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Vc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Hc(t,null,e,1,n??null,s,!1,o,i),e[zt]=t.current,Pr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new oo(t)};ut.render=function(e,t,n){if(!lo(t))throw Error(U(200));return io(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!lo(e))throw Error(U(40));return e._reactRootContainer?(Cn(function(){io(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};ut.unstable_batchedUpdates=hi;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lo(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return io(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function Wc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wc)}catch(e){console.error(e)}}Wc(),Wa.exports=ut;var bp=Wa.exports,Xc,Ta=bp;Xc=Ta.createRoot,Ta.hydrateRoot;const Yc=S.createContext(void 0),Pp=({children:e})=>{const[t,n]=S.useState(!1),[r,s]=S.useState(null),[o,i]=S.useState(null),[a,c]=S.useState("medicine"),[u,p]=S.useState(0),[y,g]=S.useState({message:"",type:"success",isVisible:!1}),[P,x]=S.useState(!1),[_,E]=S.useState(null),[h,d]=S.useState("edit"),[m,v]=S.useState(!1),[k,N]=S.useState(null),[R,B]=S.useState(!1),[le,j]=S.useState(null),[K,X]=S.useState(!1),[V,ie]=S.useState(!1),[he,ye]=S.useState(null),[L,w]=S.useState(!1),[I,M]=S.useState(null),[C,z]=S.useState(!1),[te,ne]=S.useState(null),D=()=>{p(xe=>xe+1)},$=(xe,f)=>{g({message:xe,type:f,isVisible:!0})},Z=()=>{g(xe=>({...xe,isVisible:!1}))},ue=xe=>{E(xe),d("edit"),x(!0)},fe=()=>{const xe={GUID:`new_medbox_${Date.now()}`,name:"",box_type:"",width:[],width_index:0,med_info:[]};E(xe),d("add"),x(!0)},J=()=>{x(!1),E(null),d("edit")},q=xe=>{N(xe),v(!0)},de=()=>{v(!1),N(null)},W=xe=>{j(xe),B(!0)},Y=()=>{B(!1),j(null)},re=xe=>{ye(xe),ie(!0)},ce=()=>{ie(!1),ye(null)},Ze=xe=>{M(xe),w(!0)},ge=()=>{w(!1),M(null)},Pe=xe=>{ne(xe),z(!0)},je=()=>{z(!1),ne(null)};return l.jsx(Yc.Provider,{value:{sidebarOpen:t,setSidebarOpen:n,selectedDepartmentType:r,setSelectedDepartmentType:s,apiDepartmentData:o,setApiDepartmentData:i,viewMode:a,setViewMode:c,refreshTrigger:u,triggerRefresh:D,notification:y,showNotification:$,hideNotification:Z,medBoxModalOpen:P,setMedBoxModalOpen:x,selectedMedBox:_,setSelectedMedBox:E,openMedBoxModal:ue,closeMedBoxModal:J,modalMode:h,setModalMode:d,openAddMedBoxModal:fe,listDrawModalOpen:m,setListDrawModalOpen:v,selectedListDraw:k,setSelectedListDraw:N,openListDrawModal:q,closeListDrawModal:de,gridDrawModalOpen:R,setGridDrawModalOpen:B,selectedGridDraw:le,setSelectedGridDraw:j,openGridDrawModal:W,closeGridDrawModal:Y,isLoadingMedMap:K,setIsLoadingMedMap:X,addParentContainerModalOpen:V,setAddParentContainerModalOpen:ie,selectedDepartmentForAdd:he,setSelectedDepartmentForAdd:ye,openAddParentContainerModal:re,closeAddParentContainerModal:ce,addShelfDrawContainerModalOpen:L,setAddShelfDrawContainerModalOpen:w,selectedSubContainerForAdd:I,setSelectedSubContainerForAdd:M,openAddShelfDrawContainerModal:Ze,closeAddShelfDrawContainerModal:ge,isOpenLightCabinetDetail:C,setIsOpenLightCabinetDetail:z,activeParentContainer:te,setActiveParentContainer:ne,openLightCabinetDetail:Pe,closeLightCabinetDetail:je},children:e})},Ye=()=>{const e=S.useContext(Yc);if(e===void 0)throw new Error("useDrugMap must be used within a DrugMapProvider");return e},Rp={"zh-TW":{"nav.title":"","nav.home":"","nav.expandSidebar":"","nav.collapseSidebar":"","topbar.medicine":"","topbar.department":"","topbar.language":"","sidebar.drugMap":"","sidebar.closeSidebar":"","sidebar.departmentCategories":"","sidebar.departments":"","canvas.lockCanvas":"","canvas.unlockCanvas":"","type.dispensingStation":"","type.warehouse":"","type.medBoxShelf":"","type.storeShelf":"","type.parentContainer":"","type.subContainer":"","type.gridDraw":"","type.listDraw":"","type.medBox":"","type.containers":"","modal.medBoxSettings":"","modal.addMedBox":"","modal.listDrawSettings":"","modal.gridDrawSettings":"","modal.settings":"","modal.add":"","form.medBoxName":"","form.medBoxType":"","form.widthSelection":"","form.ipAddress":"IP ","form.drugInfo":"","form.drawerName":"","form.drugList":"","form.drugCode":"","form.drugName":"","form.chineseName":"","form.drugSearch":"","placeholder.medBoxName":"  ","placeholder.ipAddress":" IP ","placeholder.drawerName":"","placeholder.gridDrawName":"","placeholder.drugSearch":" //","button.cancel":"","button.save":"","button.add":"","button.edit":"","button.change":"","button.remove":"","button.search":"","button.merge":"","button.unmerge":"","status.noDrugData":"","status.newMedBoxNoDrug":"","status.drawerNoDrug":"","status.gridDrawNotConfigured":"","status.noDrugInfo":"","status.drugListEmpty":"","status.noContent":"No content available","status.notSet":"","status.notAdded":"","status.searchResults":"","status.selectCellsForDrug":"","status.selectedCellsNoDrug":"","status.loadingMedMapData":"...","status.loadingMedMapHint":"","lightCabinet.title":"","lightCabinet.searchPlaceholder":"...","lightCabinet.noContent":"","lightCabinet.noSearchResults":"","lightCabinet.itemDetails":"","lightCabinet.closeDetails":"","lightCabinet.shelves":"","lightCabinet.drawers":"","lightCabinet.medBoxes":"","lightCabinet.total":"","footer.copyright":"Copyright 2025 "},en:{"nav.title":"Drug Map","nav.home":"Back to Home","nav.expandSidebar":"Expand Sidebar","nav.collapseSidebar":"Collapse Sidebar","topbar.medicine":"Medicine","topbar.department":"Department","topbar.language":"English","sidebar.drugMap":"Drug Map","sidebar.closeSidebar":"Close Sidebar","sidebar.departmentCategories":"Department Categories","sidebar.departments":"Departments","canvas.lockCanvas":"Lock Canvas","canvas.unlockCanvas":"Unlock Canvas","type.dispensingStation":"Dispensing Station","type.warehouse":"Warehouse","type.medBoxShelf":"Medicine Box Shelf","type.parentContainer":"Cabinet","type.subContainer":"sub container","type.gridDraw":"Grid Drawer","type.listDraw":"List Drawer","type.medBox":"Medicine Box","type.containers":"Containers","modal.medBoxSettings":"Medicine Box Settings","modal.addMedBox":"Add Medicine Box","modal.listDrawSettings":"Drawer Settings","modal.gridDrawSettings":"Grid Drawer Settings","modal.settings":"Edit Settings","modal.add":"Add Medicine Box","form.medBoxName":"Medicine Box Name","form.medBoxType":"Medicine Box Type","form.widthSelection":"Width Selection","form.ipAddress":"IP Address","form.drugInfo":"Drug Information","form.drawerName":"Drawer Name","form.drugList":"Drug List","form.drugCode":"Drug Code","form.drugName":"Drug Name","form.chineseName":"Chinese Name","form.drugSearch":"Drug Search","placeholder.medBoxName":"Enter medicine box name","placeholder.ipAddress":"Enter IP address","placeholder.drawerName":"Enter drawer name","placeholder.gridDrawName":"Enter grid drawer name","placeholder.drugSearch":"Enter drug code/name/Chinese name","button.cancel":"Cancel","button.save":"Save","button.add":"Add","button.edit":"Edit","button.change":"Change","button.remove":"Remove Drug","button.search":"Search","button.merge":"Merge","button.unmerge":"Unmerge","status.noDrugData":"This medicine box has no drug data configured","status.newMedBoxNoDrug":"New medicine box has no drug data configured","status.drawerNoDrug":"This drawer has no drugs configured","status.gridDrawNotConfigured":"This grid drawer is not configured","status.noDrugInfo":"No drug information","status.drugListEmpty":"Drug list is empty","status.noContent":"No content available","status.notSet":"Not set","status.notAdded":"No drugs added","status.searchResults":"Search results will be displayed here","status.selectCellsForDrug":"Select merged cells to display drug information","status.selectedCellsNoDrug":"Selected cells have no drug data","status.searching":"Searching...","status.noSearchResults":"No search results found","status.loadingMedMapData":"Loading medicine map data...","status.loadingMedMapHint":"Please wait while we process department data","lightCabinet.title":"Light Guidance","lightCabinet.searchPlaceholder":"Search shelves, drawers or medicine boxes...","lightCabinet.noContent":"This cabinet has no content","lightCabinet.noSearchResults":"No matching items found","lightCabinet.itemDetails":"Item Details","lightCabinet.closeDetails":"Close Details","lightCabinet.shelves":"Shelves","lightCabinet.drawers":"Drawers","lightCabinet.medBoxes":"Med Boxes","lightCabinet.total":"Total","footer.copyright":"Copyright 2025 Hongsen Intelligent Technology"}},Qc=S.createContext(void 0),Tp=({children:e})=>{const[t,n]=S.useState("zh-TW"),r=s=>Rp[t][s]||s;return l.jsx(Qc.Provider,{value:{language:t,setLanguage:n,t:r},children:e})},st=()=>{const e=S.useContext(Qc);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ip={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(e,t)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:c,...u},p)=>S.createElement("svg",{ref:p,...Ip,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${$p(e)}`,a].join(" "),...u},[...t.map(([y,g])=>S.createElement(y,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=be("ListX",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"m19 10-4 4",key:"1tz659"}],["path",{d:"m15 10 4 4",key:"1n7nei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=be("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=be("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=be("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=be("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vp=()=>{const{sidebarOpen:e,setSidebarOpen:t}=Ye(),{t:n}=st();return l.jsx("div",{className:"fixed top-4 left-4 z-30",children:l.jsx("nav",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-2 py-1",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("a",{href:"../frontpage",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:n("nav.home"),children:l.jsx(Ci,{className:"w-5 h-5"})}),l.jsx("div",{className:"ml-2 text-lg font-semibold text-gray-900",children:n("nav.title")}),l.jsx("button",{onClick:()=>t(!e),className:"ml-8 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:n(e?"nav.collapseSidebar":"nav.expandSidebar"),children:e?l.jsx(Vs,{className:"w-6 h-6"}):l.jsx(Vs,{className:"w-6 h-6"})})]})})})},Wp=()=>{const{viewMode:e,setViewMode:t}=Ye(),{language:n,setLanguage:r,t:s}=st(),[o,i]=xd.useState(!1),a=()=>{r(n==="zh-TW"?"en":"zh-TW")};return l.jsx("div",{className:"fixed top-4 right-4 z-30",children:l.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-2 py-1 sm:px-3 sm:py-2",children:l.jsxs("div",{className:"flex items-center gap-2 lg:gap-0 lg:space-x-2 flex-col lg:flex-row relative",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>t("medicine"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md transition-all duration-300 ease-in-out transform ${e==="medicine"?"bg-white text-green-600 shadow-sm scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102"}`,children:[l.jsx(Fp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:s("topbar.medicine")})]}),l.jsxs("button",{onClick:()=>t("department"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md transition-all duration-300 ease-in-out transform ${e==="department"?"bg-white text-blue-600 shadow-sm scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102"}`,children:[l.jsx(Zc,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:s("topbar.department")})]})]}),l.jsx("button",{onClick:()=>i(!o),className:"lg:hidden flex items-center justify-center p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",children:o?l.jsx(Ap,{className:"w-4 h-4"}):l.jsx(Jc,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:`
            flex items-center gap-2 lg:gap-0 lg:space-x-2 flex-col lg:flex-row
            lg:flex lg:opacity-100 lg:max-h-none
            transition-all duration-300 ease-in-out overflow-hidden
            ${o?"flex opacity-100 max-h-96":"hidden opacity-0 max-h-0 lg:flex lg:opacity-100 lg:max-h-none"}
          `,children:[l.jsx("div",{className:"mx-1 w-full lg:w-px lg:h-6 h-px bg-gray-300"}),l.jsxs("button",{onClick:a,className:"w-full lg:w-auto flex justify-center items-center space-x-2 px-3 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors border",children:[l.jsx(Up,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:s("topbar.language")})]})]})]})})})};class Xp{constructor(){this.config=null,this.isConfigLoaded=!1}async loadConfig(){var t;if(this.config&&this.isConfigLoaded)return this.config;try{const n=await fetch("../config.txt");if(!n.ok)throw new Error(`Failed to load config: ${n.status}`);const r=await n.text();if(this.config=JSON.parse(r),this.isConfigLoaded=!0,!((t=this.config)!=null&&t.domain))throw new Error("Invalid config: missing domain");return this.config}catch(n){throw console.error("Failed to load API config:",n),new Error("API configuration not available")}}async request(t,n={}){const s=`${(await this.loadConfig()).domain}${t}`,o={method:"POST",headers:{"Content-Type":"application/json",...n.headers},...n};try{const i=await fetch(s,o);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error(`API request failed for ${t}:`,i),i}}async getDepartments(t={}){return this.request("/api/ServerSetting/get_name",{method:"POST",body:JSON.stringify(t)})}async getMedicineCloud(t={}){return this.request("/api/MED_page/get_med_cloud",{method:"POST",body:JSON.stringify({})})}async searchMedicine(t="",n="N"){try{const r=await this.getMedicineCloud();if(r.Code!==200||!r.Data)return console.error("API returned error:",r),[];let s=r.Data;if(s=s.filter(o=>o.DRUGKIND===n),s=s.filter(o=>o.FILE_STATUS!==""),t.trim()){const o=t.toLowerCase();s=s.filter(i=>i.CODE&&i.CODE.toLowerCase().includes(o)||i.CHT_NAME&&i.CHT_NAME.toLowerCase().includes(o)||i.NAME&&i.NAME.toLowerCase().includes(o))}return s}catch(r){return console.error("Medicine search failed:",r),[]}}async getMedMapByDepartment(t){const n={Data:{},ValueAry:[t]};return this.request("/api/medMap/get_medMap_by_department",{method:"POST",body:JSON.stringify(n)})}async updateContainerPosition(t){const n={Data:[t]};return this.request("/api/medMap/update_medMap_section",{method:"POST",body:JSON.stringify(n)})}async updateMedMapBox(t){const n={Data:t};return this.request("/api/medMap/update_medMap_box",{method:"POST",body:JSON.stringify(n)})}async updateMedMapDrawer(t){const n={Data:t};return this.request("/api/medMap/update_medMap_drawer",{method:"POST",body:JSON.stringify(n)})}async updateMedMapShelf(t){const n={Data:t};return this.request("/api/medMap/update_medMap_shelf",{method:"POST",body:JSON.stringify(n)})}async addMedMapSection(t,n){const r={ValueAry:[t,n]};return this.request("/api/medMap/add_medMap_section",{method:"POST",body:JSON.stringify(r)})}async addMedMapShelf(t){const n={Data:t};return this.request("/api/medMap/add_medMap_shelf",{method:"POST",body:JSON.stringify(n)})}async addMedMapDrawer(t){const n={Data:t};return this.request("/api/medMap/add_medMap_drawer",{method:"POST",body:JSON.stringify(n)})}async getConfig(){return this.loadConfig()}async checkConnection(){try{return await this.loadConfig(),!0}catch(t){return console.error("API connection check failed:",t),!1}}resetConfig(){this.config=null,this.isConfigLoaded=!1}}const rt=new Xp;class Yp{convertMedMapApiToFakeData(t){console.log("  MedMap API "),console.log("  API :",t);try{Array.isArray(t)||(console.warn(" API "),t=[t]);const r=t.map((s,o)=>this.convertSingleDepartment(s,o)).filter(s=>{if(Object.keys(s).length!==0)return s});return console.log(" MedMap :",r),r}catch(n){return console.error(" MedMap :",n),[]}}convertSingleDepartment(t,n){if(Object.keys(t).length!==0){let r;t.absolute_position?r=t.absolute_position.split(","):r=[0,0];const s={GUID:t.GUID||t.guid||`dept_${n}_${Date.now()}`,Master_GUID:t.Master_GUID,type:t.sys_ServerSetting.type||"",name:t.sys_ServerSetting.name||"",gird_position:t.position,position:{x:r[0],y:r[1]},contents:t.medMap_Section,department_type:t.sys_ServerSetting["department_type "],class:0};return Array.isArray(t.medMap_Section)&&t.medMap_Section.forEach((o,i)=>{let a;o.absolute_position?a=o.absolute_position.split(","):a=[0,0],s.contents[i]={GUID:o.GUID,MASTER_GUID:o.Master_GUID,name:`_${i}`,type:"parent_container",class:1,gird_position:o.position,position:{x:a[0],y:a[1]},serverName:t.sys_ServerSetting.name,serverType:t.sys_ServerSetting.type,contents:[]},Array.isArray(o.sub_section)&&o.sub_section.forEach((c,u)=>{let p={GUID:c.GUID,MASTER_GUID:c.Master_GUID,name:`_${u}`,type:"sub_container",class:2,gird_position:c.position,contents:[],serverName:t.sys_ServerSetting.name,serverType:t.sys_ServerSetting.type,oriMaxCol:0};s.contents[i].contents[u]=p;let y=0;Array.isArray(c.shelf)&&Array.isArray(c.drawer)&&(c.shelf.forEach((g,P)=>{let x={GUID:g.GUID,MASTER_GUID:g.Master_GUID,name:`_${P}`,class:3,gird_position:g.position,serverName:g.serverName,serverType:g.serverType,type:g.type,contents:[]};x.serverName&&(x.serverName=t.sys_ServerSetting.name),x.serverType&&(x.serverType=t.sys_ServerSetting.type),g.type=="dispensing_shelves"||g.type=="shelf"?(g.type=="shelf"&&(x.type="dispensing_shelves"),Array.isArray(g.medMapBox)&&g.medMapBox.forEach((E,h)=>{let d={GUID:E.GUID,MASTER_GUID:E.Master_GUID,name:"",class:4,gird_position:E.position,ip:E.ip_box,box_type:"2.13",width:E.width,height:E.height,serverType:E.serverType,serverName:E.serverName,med_info:[],type:"med_box",device_type:E.storage.DeviceType,storage:E.storage},m={name:E.storage.Name,code:E.storage.Code,cht_name:E.storage.ChineseName};d.med_info[0]=m,x.contents.push(d)})):x.type="store_shelves";let _=g.position.split(",")[1];y<+_&&(y=+_,s.contents[i].contents[u].oriMaxCol=+y),console.log(">>>>>>",x),s.contents[i].contents[u].contents.push(x)}),c.drawer.forEach((g,P)=>{let x={GUID:g.GUID,MASTER_GUID:g.Master_GUID,name:` ${P}`,class:3,gird_position:g.position,ip:g.ip_drawer,serverName:g.serverName,serverType:g.serverType};if(x.serverName&&(x.serverName=t.sys_ServerSetting.name),x.serverType&&(x.serverType=t.sys_ServerSetting.type),g.drawer){if(g.drawer.Boxes)if(x.type="grid_draw",x.name=` ${P}`,x.Boxes=[],Array.isArray(g.drawer.Boxes)){let E=g.drawer.Boxes;console.log(E),E.forEach((h,d)=>{let m=[];Array.isArray(h)&&h.forEach((v,k)=>{let N={Row:v.Row,Column:v.Column,Width:1,Height:1,Slave:v.Slave,SlaveBox_Row:v.SlaveBox_Row,SlaveBox_Column:v.SlaveBox_Column,MasterBox_Column:v.MasterBox_Column,MasterBox_Row:v.MasterBox_Row,Name:v.Name,Code:v.Code,ChineseName:v.ChineseName,GUID:v.GUID};m.push(N)}),x.Boxes.push(m)})}else x.Boxes=g.drawer.Boxes}else x.type="list_draw",x.name=` ${P}`;let _=g.position.split(",")[1];y<+_&&(y=+_,s.contents[i].contents[u].oriMaxCol=+y),s.contents[i].contents[u].contents.push(x)}))})}),s}else return{}}convertSingleComponent(t,n,r){var o,i,a,c,u;const s={GUID:t.GUID||t.guid||`comp_${n}_${Date.now()}`,type:this.mapComponentType(t.type||t.component_type||"unknown"),name:t.name||t.component_name||`_${n}`,position:{x:((o=t.position)==null?void 0:o.x)||t.x||50+n*200,y:((i=t.position)==null?void 0:i.y)||t.y||50+n*150},dimensions:{width:((a=t.dimensions)==null?void 0:a.width)||t.width||180,height:((c=t.dimensions)==null?void 0:c.height)||t.height||120,depth:((u=t.dimensions)==null?void 0:u.depth)||t.depth||30},med_box:t.med_box||t.medBox||t.medicine_boxes||[],MASTER_GUID:r};return t.components&&Array.isArray(t.components)&&(s.components=t.components.map((p,y)=>this.convertSingleComponent(p,y,s.GUID))),Object.keys(t).forEach(p=>{["GUID","type","name","position","dimensions","med_box","components"].includes(p)||(s[p]=t[p])}),s}mapDepartmentType(t){return{dispensing_station:"",warehouse:"",pharmacy:"",storage:""}[t]||t}mapComponentType(t){return{medicine_box_shelf:"med_box_shelf",medicine_shelf:"normal_shelf",grid_drawer:"grid_draw",list_drawer:"list_draw",medicine_box:"med_box",parent_container:"parent_container",sub_container:"sub_container",dispensing_shelves:"dispensing_shelves",store_shelves:"store_shelves"}[t]||t}validateConvertedData(t){try{if(!Array.isArray(t))return console.error(" "),!1;for(const n of t){if(!n.GUID||!n.type||!n.name)return console.error(" :",n),!1;if(!n.gird_position||typeof n.gird_position!="string")return console.error(" :",n.gird_position),!1;if(n.components&&Array.isArray(n.components)){for(const r of n.components)if(!r.GUID||!r.type)return console.error(" :",r),!1}}return console.log(" "),!0}catch(n){return console.error(" :",n),!1}}generateConversionReport(t,n){const r={timestamp:new Date().toISOString(),originalDataCount:Array.isArray(t)?t.length:0,convertedDataCount:n.length,conversionSuccess:n.length>0,totalComponents:n.reduce((s,o)=>{var i;return s+(((i=o.components)==null?void 0:i.length)||0)},0),departmentTypes:[...new Set(n.map(s=>s.type))],componentTypes:[...new Set(n.flatMap(s=>{var o;return((o=s.components)==null?void 0:o.map(i=>i.type))||[]}))]};return console.log(" :",r),r}}const xn=new Yp,Qp=()=>{const{sidebarOpen:e,setSidebarOpen:t,selectedDepartmentType:n,setSelectedDepartmentType:r,setApiDepartmentData:s,isLoadingMedMap:o,setIsLoadingMedMap:i}=Ye(),{t:a}=st(),[c,u]=S.useState(new Set),[p,y]=S.useState([]),[g,P]=S.useState(!0),[x,_]=S.useState([]);S.useEffect(()=>{(async()=>{P(!0);try{const k=await rt.getDepartments();k.Code===200&&k.Data?(console.log(k.Data),y(k.Data)):(console.error("API returned error:",k),y([]))}catch(k){console.error("Failed to fetch department data:",k),y([])}finally{P(!1)}})()},[]);const E=p.reduce((v,k)=>{const N=k["department_type "];return v[N]||(v[N]=[]),v[N].push(k),v},{}),h=v=>{const k=new Set(c);k.has(v)?k.delete(v):k.add(v),u(k)},d=async v=>{console.log(" :",v),r(v),await m(v),t(!1)},m=async v=>{console.log(" :",v),i(!0);try{const k=await rt.getMedMapByDepartment(v);if(k.Code===200&&k.Data){console.log(" API :",k.Data);const N=xn.convertMedMapApiToFakeData(k.Data);if(!xn.validateConvertedData(N)){console.error(" "),_([]);return}const B=xn.generateConversionReport(k.Data,N);_(N),s(N),console.log(" "),console.log(" :",N),console.log(" :",B)}else console.error(" API :",k),_([]),s(null)}catch(k){console.error(" :",k),_([]),s(null)}finally{i(!1)}};return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>t(!1)}),l.jsx("div",{className:`fixed w-80 bg-white/95 backdrop-blur-sm shadow-xl border border-gray-200/50 z-50 transform transition-all duration-300 ease-in-out h-screen h-svh ${e?"translate-x-0 opacity-100":"-translate-x-full opacity-0"}`,children:l.jsxs("div",{className:"flex flex-col h-screen h-svh",children:[l.jsx("div",{className:"flex-shrink-0 px-4 py-2 border-b border-gray-200/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("a",{href:"../front_page",className:"text-gray-600 hover:text-gray-900 transition-colors p-2 rounded-lg hover:bg-gray-100/50",title:a("nav.home"),children:l.jsx(Ci,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:a("sidebar.drugMap")})]}),l.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100/50 rounded-lg transition-colors",title:a("sidebar.closeSidebar"),children:l.jsx(Bp,{className:"w-6 h-6"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"text-gray-500",children:"Loading departments..."})}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-4",children:a("sidebar.departmentCategories")}),Object.entries(E).map(([v,k])=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>d(v),disabled:o,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 border ${n===v?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:shadow-sm border-transparent"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[v==="B1F"?l.jsx(Zc,{className:"w-4 h-4"}):l.jsx(Gp,{className:"w-4 h-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:v}),l.jsxs("div",{className:"text-xs text-gray-500",children:[k.length," ",a("sidebar.departments")]})]})]}),l.jsx("div",{onClick:N=>{N.stopPropagation(),h(v)},className:"p-1 hover:bg-gray-200/50 rounded transition-colors",children:c.has(v)?l.jsx(Jc,{className:"w-4 h-4"}):l.jsx(zp,{className:"w-4 h-4"})})]}),c.has(v)&&l.jsx("div",{className:"ml-6 space-y-2",children:k.map(N=>l.jsx("div",{className:"p-3 text-base text-gray-600 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium text-gray-800",children:N.name}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.type===""?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:N.type})]})},N.GUID))})]},v))]})})]})})]})},Kp=()=>{const{t:e}=st();return l.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-30",children:l.jsx("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg px-4 py-2",children:l.jsx("p",{className:"text-sm text-gray-600 font-medium whitespace-nowrap",children:e("footer.copyright")})})})},Zp=({component:e,scale:t,isLocked:n})=>{const r=S.useRef(null),{t:s}=st(),{apiDepartmentData:o,setApiDepartmentData:i,showNotification:a}=Ye(),[c,u]=S.useState(!1),[p,y]=S.useState({x:0,y:0}),[g,P]=S.useState(e.position),[x,_]=S.useState(null),[E,h]=S.useState({x:0,y:0}),{openLightCabinetDetail:d}=Ye(),m=S.useCallback(async(M,C)=>{if(!o)return;console.log(" :",M,C);const z=JSON.parse(JSON.stringify(o)),te=D=>{for(const $ of D){if($.GUID===M)return $.position={x:Number(C.x),y:Number(C.y)},console.log(" :",$.name,Number(C.x),Number(C.y)),!0;if($.components&&Array.isArray($.components)&&te($.components)||$.contents&&Array.isArray($.contents)&&te($.contents))return!0}return!1};if(te(z)){i(z),console.log(" ");try{console.log(" ...");const D=await rt.updateContainerPosition({GUID:M,absolute_position:`${Number(C.x).toFixed(3)},${Number(C.y).toFixed(3)}`});D.Code===200?(console.log(" ",D),a("","success")):(console.error(" :",D),a(`: ${D.Result||""}`,"error"))}catch(D){console.error(" :",D),a(": ","error")}}else console.warn(" :",M)},[o,i,a]),{position:v,dimensions:k,name:N,type:R}=e,B=S.useCallback(M=>{if(!n)return;M.preventDefault(),M.stopPropagation();const C=r.current;if(!C)return;C.setPointerCapture(M.pointerId);const z=C.getBoundingClientRect(),te=M.clientX-z.left,ne=M.clientY-z.top;y({x:te,y:ne}),u(!0)},[n]),le=S.useCallback(M=>{if(!c||!n)return;M.preventDefault(),M.stopPropagation();const C=r.current;if(!C)return;const z=C.closest("[data-canvas-content]");if(!z)return;const te=z.getBoundingClientRect(),ne=(M.clientX-te.left-p.x)/t,D=(M.clientY-te.top-p.y)/t;P({x:ne,y:D})},[c,p,t,n]),j=S.useCallback(M=>{if(!c||!n)return;M.preventDefault(),M.stopPropagation();const C=r.current;C&&C.releasePointerCapture(M.pointerId),u(!1),m(e.GUID,g)},[c,n,m,e.GUID,g]),K=S.useCallback(M=>{if(!n)return;M.preventDefault(),M.stopPropagation();const C=r.current;if(!C)return;const z=M.touches[0];if(!z)return;_(z.identifier);const te=C.getBoundingClientRect(),ne=z.clientX-te.left,D=z.clientY-te.top;y({x:ne,y:D}),h({x:z.clientX,y:z.clientY}),u(!0)},[n]),X=S.useCallback(M=>{if(!c||!n||x===null)return;M.preventDefault(),M.stopPropagation();const C=r.current;if(!C)return;const z=Array.from(M.touches).find(Z=>Z.identifier===x);if(!z)return;const te=C.closest("[data-canvas-content]");if(!te)return;const ne=te.getBoundingClientRect(),D=(z.clientX-ne.left-p.x)/t,$=(z.clientY-ne.top-p.y)/t;P({x:D,y:$})},[c,p,t,n,x]),V=S.useCallback(M=>{!c||!n||x===null||!Array.from(M.changedTouches).some(z=>z.identifier===x)||(M.preventDefault(),M.stopPropagation(),u(!1),_(null),h({x:0,y:0}),console.log(e.GUID),m(e.GUID,g))},[c,n,x,m,e.GUID,g]),ie=S.useCallback(M=>{!c||!n||x===null||!Array.from(M.changedTouches).some(z=>z.identifier===x)||(M.preventDefault(),M.stopPropagation(),P(e.position),u(!1),_(null),h({x:0,y:0}))},[c,n,x,e.position]),he=M=>{n||(M.preventDefault(),M.stopPropagation(),R==="parent_container"&&(console.log(e),d(e)))},ye=M=>{switch(M){case"":return"bg-gray-50 border-gray-400";case"":return"bg-gray-50 border-gray-400";case"parent_container":return"bg-gray-50 border-gray-400";default:return"bg-gray-50 border-gray-400"}},L=M=>{switch(M){case"":return"bg-gray-200 text-gray-900";case"":return"bg-gray-200 text-gray-900";case"parent_container":return"bg-gray-200 text-gray-900";default:return"bg-gray-100 text-gray-800"}},w=M=>{switch(M){case"":return"bg-gray-600 text-white";case"":return"bg-gray-600 text-white";case"parent_container":return"bg-gray-600 text-white";default:return"bg-gray-600 text-white"}},I=M=>{const C=M===""?"type.dispensingStation":M===""?"type.warehouse":M==="parent_container"?"":"type."+M;return s(C)||M};return l.jsx("div",{ref:r,className:`flex flex-col absolute border-2 rounded-lg shadow-lg hover:shadow-xl ${ye(R)} overflow-hidden ${n?"cursor-move":"cursor-default"} ${c?"shadow-2xl scale-105 z-50":""}`,onClick:he,style:{left:`${g.x}px`,top:`${g.y}px`,minWidth:R===""||R===""?"120px":"180px",minHeight:R===""||R===""?"60px":"120px",userSelect:"none",touchAction:"none",transition:c?"none":"transform 0.2s ease-out, box-shadow 0.2s ease-out"},onPointerDown:B,onPointerMove:le,onPointerUp:j,onTouchStart:K,onTouchMove:X,onTouchEnd:V,onTouchCancel:ie,children:l.jsx("div",{className:`w-full min-w-[400px] h-auto flex items-start flex-1 justify-between p-2 border-b border-gray-200 ${L(R)}`,children:l.jsx("div",{className:"flex space-x-2 flex-1 min-w-0",children:l.jsxs("div",{className:"min-w-0 flex gap-4",children:[l.jsx("div",{className:"font-semibold text-lg truncate",children:N}),l.jsx("div",{className:`text-sm truncate py-1 px-3 rounded-2xl ${w(R)}`,children:I(R)})]})})})})},Jp=({children:e})=>{const t=S.useRef(null),{selectedDepartmentType:n,apiDepartmentData:r}=Ye(),{t:s}=st(),[o,i]=S.useState({x:0,y:0,scale:1}),[a,c]=S.useState(!1),[u,p]=S.useState(!1),[y,g]=S.useState({x:0,y:0}),[P,x]=S.useState(!1),_=()=>{try{const L=localStorage.getItem("med_map_anchor");return L?JSON.parse(L):[]}catch(L){return console.error("Error reading canvas states from localStorage:",L),[]}},E=(L,w,I,M)=>{try{const C=_(),z=C.findIndex(ne=>ne.department===L&&ne.canvasType===w),te={department:L,canvasType:w,scale:I,position:M};z>=0?C[z]=te:C.push(te),localStorage.setItem("med_map_anchor",JSON.stringify(C))}catch(C){console.error("Error saving canvas state to localStorage:",C)}},h=(L,w)=>_().find(M=>M.department===L&&M.canvasType===w)||null;S.useEffect(()=>{if(n){const L=h(n,"InfiniteCanvas");if(L)i({x:L.position.x,y:L.position.y,scale:L.scale});else{const w={x:0,y:0,scale:1};i(w),E(n,"InfiniteCanvas",w.scale,w)}}},[n]),S.useEffect(()=>{if(!n)return;const L=setTimeout(()=>{E(n,"InfiniteCanvas",o.scale,{x:o.x,y:o.y})},500);return()=>clearTimeout(L)},[o,n]),S.useEffect(()=>{const L=I=>{I.code==="Space"&&!I.repeat&&(I.preventDefault(),x(!0))},w=I=>{I.code==="Space"&&(I.preventDefault(),x(!1),c(!1))};return window.addEventListener("keydown",L),window.addEventListener("keyup",w),()=>{window.removeEventListener("keydown",L),window.removeEventListener("keyup",w)}},[]);const d=S.useCallback(L=>{var I;if(u)return;if(L.altKey&&!navigator.userAgent.includes("Mac")||L.metaKey&&navigator.userAgent.includes("Mac")){L.preventDefault();const M=(I=t.current)==null?void 0:I.getBoundingClientRect();if(!M)return;const C=L.clientX-M.left,z=L.clientY-M.top,te=L.deltaY>0?.9:1.1,ne=Math.max(.1,Math.min(5,o.scale*te)),D=ne/o.scale,$=C-(C-o.x)*D,Z=z-(z-o.y)*D;i({x:$,y:Z,scale:ne})}},[o,u]),m=S.useCallback(L=>{u||!P||(c(!0),g({x:L.clientX,y:L.clientY}),L.preventDefault())},[u,P]),v=S.useCallback(L=>{if(!a||u)return;const w=L.clientX-y.x,I=L.clientY-y.y;i(M=>({...M,x:M.x+w,y:M.y+I})),g({x:L.clientX,y:L.clientY})},[a,y,u]),k=S.useCallback(()=>{c(!1)},[]),[N,R]=S.useState(null),[B,le]=S.useState({x:0,y:0}),j=L=>{if(L.length<2)return null;const w=L[0],I=L[1];return Math.sqrt(Math.pow(I.clientX-w.clientX,2)+Math.pow(I.clientY-w.clientY,2))},K=L=>{if(L.length===1)return{x:L[0].clientX,y:L[0].clientY};const w=L[0],I=L[1];return{x:(w.clientX+I.clientX)/2,y:(w.clientY+I.clientY)/2}},X=S.useCallback(L=>{if(!u){if(L.touches.length===2){const w=j(L.touches),I=K(L.touches);R(w),le(I)}else if(L.touches.length===1){const w=L.touches[0];g({x:w.clientX,y:w.clientY}),c(!0)}}},[u]),V=S.useCallback(L=>{var w;if(!u){if(L.preventDefault(),L.touches.length===2&&N!==null){const I=j(L.touches),M=K(L.touches);if(I&&N){const C=(w=t.current)==null?void 0:w.getBoundingClientRect();if(!C)return;const z=I/N,te=Math.max(.1,Math.min(5,o.scale*z)),ne=M.x-C.left,D=M.y-C.top,$=te/o.scale,Z=ne-(ne-o.x)*$,ue=D-(D-o.y)*$;i({x:Z,y:ue,scale:te}),R(I),le(M)}}else if(L.touches.length===1&&a){const I=L.touches[0],M=I.clientX-y.x,C=I.clientY-y.y;i(z=>({...z,x:z.x+M,y:z.y+C})),g({x:I.clientX,y:I.clientY})}}},[o,N,a,y,u]),ie=S.useCallback(()=>{R(null),c(!1)},[]);S.useEffect(()=>{const L=t.current;if(L)return L.addEventListener("wheel",d,{passive:!1}),()=>L.removeEventListener("wheel",d)},[d]),S.useCallback(()=>{i({x:0,y:0,scale:1})},[]);const ye=(()=>{if(!r||r.length===0)return[];const L=r,w=[];for(const I of L)if(I.type===""||I.type==="")for(const M of I.contents)w.push(M);else I.components&&I.components.length>0&&w.push(...I.components);return w})();return l.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-50",children:[l.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex gap-2",children:l.jsx("button",{onClick:()=>p(!u),className:`p-3 rounded-lg shadow-lg transition-colors ${u?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,title:s(u?"canvas.unlockCanvas":"canvas.lockCanvas"),children:u?l.jsx(qc,{className:"w-6 h-6"}):l.jsx(ed,{className:"w-6 h-6"})})}),l.jsx("div",{ref:t,className:`w-full h-full relative ${P&&!u?"cursor-grab":"cursor-default"} ${a?"cursor-grabbing":""}`,onMouseDown:m,onMouseMove:v,onMouseUp:k,onMouseLeave:k,onTouchStart:X,onTouchMove:V,onTouchEnd:ie,children:l.jsxs("div",{className:"absolute inset-0 origin-top-left",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${o.scale})`,transformOrigin:"0 0"},children:[l.jsx("div",{className:"absolute",style:{left:-1e4,top:-1e4,width:2e4,height:2e4,backgroundImage:`
                linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
              `,backgroundSize:"50px 50px"}}),l.jsxs("div",{className:"relative","data-canvas-content":!0,children:[ye.map(L=>l.jsx(Zp,{component:L,scale:o.scale,isLocked:u},L.GUID)),e]})]})})]})},as=({content:e})=>{const{openMedBoxModal:t,openAddMedBoxModal:n,openListDrawModal:r,openGridDrawModal:s,openAddShelfDrawContainerModal:o}=Ye(),{t:i}=st(),a=y=>{switch(y){case"parent_container":return"bg-pink-100";case"sub_container":return"bg-blue-100";case"dispensing_shelves":case"store_shelves":return"bg-green-100";case"med_box":return"bg-yellow-100";case"grid_draw":case"list_draw":return"bg-violet-100";default:return"bg-gray-100"}},c=y=>{switch(y){case"parent_container":return"border-pink-200";case"sub_container":return"border-blue-200";case"dispensing_shelves":case"store_shelves":return"border-green-200";case"med_box":return"border-yellow-200";case"grid_draw":case"list_draw":return"border-violet-200";default:return"border-gray-200"}},u=y=>{switch(y){case"parent_container":return"bg-pink-400";case"sub_container":return"bg-blue-400";case"dispensing_shelves":case"store_shelves":return"bg-green-400";case"med_box":return"bg-yellow-400";case"grid_draw":case"list_draw":return"bg-violet-400";default:return"bg-gray-200"}},p=y=>{switch(y){case"parent_container":return i("type.parentContainer");case"sub_container":return i("type.subContainer");case"dispensing_shelves":return i("type.medBoxShelf");case"store_shelves":return i("type.storeShelf");case"grid_draw":return i("type.gridDraw");case"list_draw":return i("type.listDraw");case"med_box":return i("type.medBox");default:return y}};switch(e.type){case"sub_container":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null]}),e.type!=="none"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation(),o(e)},title:i("modal.add"),children:l.jsx(Et,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]})]});case"parent_container":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null]}),e.type!=="none"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation(),o(e)},title:i("modal.add"),children:l.jsx(Et,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]})]});case"med_box":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center mr-4",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null}),l.jsx("div",{className:"flex items-center space-x-1",children:l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation(),t(e)},title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})})]});case"dispensing_shelves":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center mr-4 space-x-3",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation(),n()},title:i("modal.add"),children:l.jsx(Et,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{},title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]})]});case"store_shelves":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center mr-4 space-x-3",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation()},title:i("modal.add"),children:l.jsx(Et,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{},title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]})]});case"list_draw":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null]}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation(),r(e)},title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]});case"grid_draw":return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mr-6",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800 whitespace-nowrap",children:e.name}),e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null]}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:y=>{y.stopPropagation(),s(e)},title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]});default:return l.jsxs("div",{className:`flex items-center justify-between px-3 py-2 border-b-2 ${a(e.type||0)} ${c(e.type||0)}`,children:[l.jsx("div",{className:"flex items-center space-x-2 mr-6",children:e.type!="parent_container"?l.jsx("span",{className:`text-sm px-3 py-1 rounded-full whitespace-nowrap ${u(e.type)}`,children:p(e.type)}):null}),e.type!=="none"&&l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",title:i("modal.settings"),children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]})}},qp=({children:e})=>{const t=S.useRef(null),{selectedDepartmentType:n,apiDepartmentData:r,setSidebarOpen:s,openAddParentContainerModal:o}=Ye(),[i,a]=S.useState({x:0,y:0,scale:1}),[c,u]=S.useState(!1),[p,y]=S.useState(!1),[g,P]=S.useState({x:0,y:0}),[x,_]=S.useState(!1),[E,h]=S.useState({isDragging:!1,draggedContainer:null,draggedElement:null,floatingElement:null,originalParent:null,originalPosition:"",originalIndex:-1,mouseOffset:{x:0,y:0},isMobileDrag:!1,originalData:null}),[d,m]=S.useState(null),v=S.useRef({}),k=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,N=8,R=()=>{try{const f=localStorage.getItem("med_map_anchor");return f?JSON.parse(f):[]}catch(f){return console.error("Error reading canvas states from localStorage:",f),[]}},B=(f,O,T,b)=>{try{const H=R(),G=H.findIndex(oe=>oe.department===f&&oe.canvasType===O),ee={department:f,canvasType:O,scale:T,position:b};G>=0?H[G]=ee:H.push(ee),localStorage.setItem("med_map_anchor",JSON.stringify(H))}catch(H){console.error("Error saving canvas state to localStorage:",H)}},le=(f,O)=>R().find(b=>b.department===f&&b.canvasType===O)||null;S.useEffect(()=>{if(n){const f=le(n,"drugCanvas");if(f)a({x:f.position.x,y:f.position.y,scale:f.scale});else{const O={x:0,y:0,scale:1};a(O),B(n,"drugCanvas",O.scale,O)}}},[n]),S.useEffect(()=>{if(!n)return;const f=setTimeout(()=>{B(n,"drugCanvas",i.scale,{x:i.x,y:i.y})},500);return()=>clearTimeout(f)},[i,n]);const j=f=>["parent_container","sub_container","dispensing_shelves","store_shelves","grid_draw","list_draw","med_box"].includes(f),K=f=>({parent_container:["parent_container","",""],sub_container:["parent_container","sub_container"],dispensing_shelves:["dispensing_shelves","store_shelves","sub_container"],store_shelves:["dispensing_shelves","store_shelves","sub_container"],grid_draw:["grid_draw","list_draw","sub_container"],list_draw:["grid_draw","list_draw","sub_container"],med_box:["med_box","dispensing_shelves"]})[f]||[],X=f=>{const[O,T]=f.split(",").map(Number);return{row:O||0,col:T||0}},V=(f,O)=>`${f},${O}`,ie=(f,O)=>{const T=(H,G=null)=>{if(H.GUID===f)return{container:H,parent:G};if(H.contents)for(const ee of H.contents){const oe=T(ee,H);if(oe)return oe}return null},b=Y();for(const H of b){const G=T(H);if(G)return G}return null},he=(f,O)=>{if(!f.contents)return;const{sortedContents:T,maxRow:b,maxCol:H}=re(f.contents),G=O;if(!G)return;const ee=X(G.gird_position);console.log(b),console.log(H),console.log(G),console.log(ee);for(let oe=0;oe<T.length;oe++){const F=T[oe],A=X(F.gird_position);if(A.row===ee.row&&A.col>ee.col)F.gird_position=V(A.row,A.col-1),v.current[F.GUID]={GUID:F.GUID,MASTER_GUID:f.GUID,position:`${A.row},${A.col-1}`,serverName:f.serverName,serverType:f.serverType,type:F.type};else if(A.row>ee.row){const ae=A.col===0?H:A.col-1,se=A.col===0?A.row-1:A.row;F.gird_position=V(se,ae),v.current[F.GUID]={GUID:F.GUID,MASTER_GUID:f.GUID,position:`${se},${ae}`,serverName:f.serverName,serverType:f.serverType,type:F.type}}}return console.log("",T),T},ye=(f,O,T,b,H)=>{f.contents||(f.contents=[]);let G=Math.max(1,...f.contents.map(F=>X(F.gird_position||"0,0").col+1)),ee=Math.max(1,...f.contents.map(F=>X(F.gird_position||"0,0").row+1));console.log("--------",f),console.log("",G),console.log("",ee),(f.type=="sub_container"||f.type=="parent_container"||f.type==""||f.type=="")&&(G=+f.oriMaxCol+1),H!=null&&H==="right"&&O.type!=="med_box"&&b==G&&(T=T+1,f.contents.filter(A=>`${T},0`==A.gird_position).length>0?b=G-1:b=0),console.log(T),console.log(b);const oe=f.contents.filter(F=>{const A=X(F.gird_position||"0,0");return A.row>T||A.row===T&&A.col>=b});oe.sort((F,A)=>{const ae=X(F.gird_position||"0,0"),se=X(A.gird_position||"0,0");return ae.row!==se.row?se.row-ae.row:se.col-ae.col}),console.log("",oe),oe.forEach(F=>{const A=X(F.gird_position||"0,0");let ae=A.row,se=A.col;F.type==="med_box"||se<G-1?se+=1:(ae+=1,se=0),F.gird_position=`${ae},${se}`,v.current[F.GUID]={GUID:F.GUID,MASTER_GUID:f.GUID,position:`${ae},${se}`,serverName:f.serverName,serverType:f.serverType,type:F.type},console.log(`Shifted container ${F.GUID} from ${A.row},${A.col} to ${ae},${se}`)}),f.contents.length==0&&(T=0,b=0),O.gird_position=`${T},${b}`,O.MASTER_GUID=f.GUID,console.log(`Inserted container ${O.GUID} at position ${T},${b}`),f.contents.push(O),v.current[O.GUID]={GUID:O.GUID,MASTER_GUID:f.GUID,position:`${T},${b}`,serverName:f.serverName,serverType:f.serverType,type:O.type},O.type==="dispensing_shelves"&&O.contents&&O.contents.forEach(F=>{F.type==="med_box"&&(v.current[F.GUID]={GUID:F.GUID,MASTER_GUID:F.MASTER_GUID,position:F.gird_position,serverName:f.serverName,serverType:f.serverType,type:F.type})})},L=(f,O,T)=>{const b=f.getBoundingClientRect(),H=b.left+b.width/2,G=b.top+b.height/2,ee=O-H,oe=T-G;return Math.abs(ee)>Math.abs(oe)?ee>0?"right":"left":oe>0?"bottom":"top"},w=(f,O,T)=>{if(!p||!j(f.type))return;v.current={},T.preventDefault(),T.stopPropagation();const b=k(),H="touches"in T?T.touches[0].clientX:("pointerId"in T,T.clientX),G="touches"in T?T.touches[0].clientY:("pointerId"in T,T.clientY),ee=O.getBoundingClientRect(),oe={x:H-ee.left,y:G-ee.top},F=ie(f.GUID);if(!F)return;console.log("",f),console.log("",F);const A=O.cloneNode(!0);if(A.style.position="fixed",A.style.left=`${H-oe.x}px`,A.style.top=`${G-oe.y}px`,A.style.width=`${ee.width}px`,A.style.height=`${ee.height}px`,A.style.zIndex="9999",A.style.opacity="0.8",A.style.boxShadow="0 10px 25px rgba(0,0,0,0.3)",A.style.pointerEvents="none",document.body.appendChild(A),b){const ae=F.parent.contents.findIndex(se=>se.GUID===f.GUID);h({isDragging:!0,draggedContainer:f,draggedElement:O,floatingElement:A,originalParent:F.parent,originalPosition:f.gird_position,originalIndex:ae,mouseOffset:oe,isMobileDrag:!0,originalData:JSON.parse(JSON.stringify(F))})}else{const ae=F.parent.contents.findIndex(Ae=>Ae.GUID===f.GUID);F.parent.contents.splice(ae,1),console.log(ae);const se=F.parent,Ne=he(F.parent,f);F.parent.contents=Ne,console.log(F.parent),h({isDragging:!0,draggedContainer:f,draggedElement:O,floatingElement:A,originalParent:se,originalPosition:f.gird_position,originalIndex:ae,mouseOffset:oe,isMobileDrag:!1,originalData:null})}},I=f=>{if(!E.isDragging||!E.floatingElement)return;const O="touches"in f?f.touches[0].clientX:f.clientX,T="touches"in f?f.touches[0].clientY:f.clientY;E.floatingElement.style.left=`${O-E.mouseOffset.x}px`,E.floatingElement.style.top=`${T-E.mouseOffset.y}px`;const b=document.elementFromPoint(O,T),H=b==null?void 0:b.closest("[data-container-guid]");if(H){const G=H.getAttribute("data-container-guid"),ee=ie(G);if(ee&&K(E.draggedContainer.type).includes(ee.container.type)){const F=L(H,O,T);if(E.draggedContainer.type==="med_box"&&!["left","right"].includes(F)){m(null);return}m({container:ee.container,direction:F,element:H});return}}m(null)},M=async f=>{if(!E.isDragging)return;E.floatingElement&&document.body.removeChild(E.floatingElement);let O=null,T=null,b=null;if(console.log("Drop Target:",d),console.log("Is Mobile Drag:",E.isMobileDrag),E.isMobileDrag)if(d){O=d.direction,b=d.container;const H=ie(E.draggedContainer.GUID);if(H){const ae=H.parent.contents.findIndex(Ne=>Ne.GUID===E.draggedContainer.GUID);H.parent.contents.splice(ae,1);const se=he(H.parent,E.draggedContainer);H.parent.contents=se}const G=X(d.container.gird_position||"0,0");let ee=G.row,oe=G.col;switch(d.direction){case"top":ee=Math.max(0,G.row);break;case"bottom":ee=G.row+1;break;case"left":oe=Math.max(0,G.col);break;case"right":oe=G.col+1;break}const F=ie(d.container.MASTER_GUID||d.container.GUID);let A=(F==null?void 0:F.container)||d.container;if(E.draggedContainer.class!=d.class&&(A=d),E.draggedContainer.type==="med_box"&&d.container.type!=="med_box")if(console.log(""),A=d.container,A.contents.length>0){let ae=0,se=0;A.contents.forEach(Ne=>{const Ae=X(Ne.gird_position||"0,0").row,tr=X(Ne.gird_position||"0,0").col;ae>Ae&&(ae=Ae),se>tr&&(se=tr)});for(let Ne=0;Ne<=se;Ne++)for(let Ae=0;Ae<=ae;Ae++){const tr=`${Ne},${Ae}`;A.contents.filter(td=>td.grid_position===tr).length===0&&(ee=Ne,oe=Ae)}}else ee=0,oe=0;T=A,ye(A,E.draggedContainer,ee,oe,d.direction)}else O=null,b=null,T=E.originalParent;else if(d){O=d.direction,b=d.container;const H=X(d.container.gird_position||"0,0");let G=H.row,ee=H.col;switch(d.direction){case"top":G=Math.max(0,H.row);break;case"bottom":G=H.row+1;break;case"left":ee=Math.max(0,H.col);break;case"right":ee=H.col+1;break}const oe=ie(d.container.MASTER_GUID||d.container.GUID);console.log("------",d),console.log("------",E.draggedContainer);let F=(oe==null?void 0:oe.container)||d.container;if(console.log(E.draggedContainer.class),console.log(d.container.class),console.log(E.draggedContainer.class!=d.container.class),E.draggedContainer.class!=d.container.class&&(F=d.container,console.log("------"),console.log("------",d),console.log("------",E.draggedContainer),console.log("------",F)),E.draggedContainer.type==="med_box"&&d.container.type!=="med_box")if(console.log(""),F=d.container,F.contents.length>0){let A=0,ae=0;F.contents.forEach(se=>{const Ne=X(se.gird_position||"0,0").row,Ae=X(se.gird_position||"0,0").col;A>Ne&&(A=Ne),ae>Ae&&(ae=Ae)});for(let se=0;se<=ae;se++)for(let Ne=0;Ne<=A;Ne++){const Ae=`${se},${Ne}`;F.contents.filter(ji=>ji.grid_position===Ae).length===0&&(G=se,ee=Ne)}}else G=0,ee=0;T=F,ye(F,E.draggedContainer,G,ee,d.direction)}else{O=null,b=null,T=E.originalParent,E.draggedContainer.gird_position=E.originalPosition;const H=X(E.originalPosition||"0,0").row,G=X(E.originalPosition||"0,0").col;ye(E.originalParent,E.draggedContainer,H,G,null)}h({isDragging:!1,draggedContainer:null,draggedElement:null,floatingElement:null,originalParent:null,originalPosition:"",originalIndex:-1,mouseOffset:{x:0,y:0},isMobileDrag:!1,originalData:null}),m(null),console.log("Drop Direction:",O),console.log("Parent Object:",T),console.log("Target Object:",b),console.log("API",v),await eh(v)};S.useEffect(()=>{if(E.isDragging)if(k()){const O=H=>{H.preventDefault(),I(H)},T=H=>M(),b=H=>M();return document.addEventListener("pointermove",O,{passive:!1}),document.addEventListener("pointerup",T),document.addEventListener("pointercancel",b),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",T),document.removeEventListener("pointercancel",b)}}else{const O=G=>I(G),T=G=>M(),b=G=>{G.preventDefault(),I(G)},H=G=>M();return document.addEventListener("mousemove",O),document.addEventListener("mouseup",T),document.addEventListener("touchmove",b,{passive:!1}),document.addEventListener("touchend",H),()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",H)}}},[E.isDragging,d]),S.useEffect(()=>{const f=T=>{T.code==="Space"&&!T.repeat&&(T.preventDefault(),_(!0))},O=T=>{T.code==="Space"&&(T.preventDefault(),_(!1),u(!1))};return window.addEventListener("keydown",f),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",O)}},[]);const C=S.useCallback(f=>{var T;if(p)return;if(f.altKey&&!navigator.userAgent.includes("Mac")||f.metaKey&&navigator.userAgent.includes("Mac")){f.preventDefault();const b=(T=t.current)==null?void 0:T.getBoundingClientRect();if(!b)return;const H=f.clientX-b.left,G=f.clientY-b.top,ee=f.deltaY>0?.9:1.1,oe=Math.max(.1,Math.min(5,i.scale*ee)),F=oe/i.scale,A=H-(H-i.x)*F,ae=G-(G-i.y)*F;a({x:A,y:ae,scale:oe})}},[i,p]),z=S.useCallback(f=>{p||!x||(u(!0),P({x:f.clientX,y:f.clientY}),f.preventDefault())},[p,x]),te=S.useCallback(f=>{if(!c||p)return;const O=f.clientX-g.x,T=f.clientY-g.y;a(b=>({...b,x:b.x+O,y:b.y+T})),P({x:f.clientX,y:f.clientY})},[c,g,p]),ne=S.useCallback(()=>{u(!1)},[]),[D,$]=S.useState(null),[Z,ue]=S.useState({x:0,y:0}),fe=f=>{if(f.length<2)return null;const O=f[0],T=f[1];return Math.sqrt(Math.pow(T.clientX-O.clientX,2)+Math.pow(T.clientY-O.clientY,2))},J=f=>{if(f.length===1)return{x:f[0].clientX,y:f[0].clientY};const O=f[0],T=f[1];return{x:(O.clientX+T.clientX)/2,y:(O.clientY+T.clientY)/2}},q=S.useCallback(f=>{if(!p){if(f.touches.length===2){const O=fe(f.touches),T=J(f.touches);$(O),ue(T)}else if(f.touches.length===1){const O=f.touches[0];P({x:O.clientX,y:O.clientY}),u(!0)}}},[p]),de=S.useCallback(f=>{var O;if(!p){if(f.preventDefault(),f.touches.length===2&&D!==null){const T=fe(f.touches),b=J(f.touches);if(T&&D){const H=(O=t.current)==null?void 0:O.getBoundingClientRect();if(!H)return;const G=T/D,ee=Math.max(.1,Math.min(5,i.scale*G)),oe=b.x-H.left,F=b.y-H.top,A=ee/i.scale,ae=oe-(oe-i.x)*A,se=F-(F-i.y)*A;a({x:ae,y:se,scale:ee}),$(T),ue(b)}}else if(f.touches.length===1&&c){const T=f.touches[0],b=T.clientX-g.x,H=T.clientY-g.y;a(G=>({...G,x:G.x+b,y:G.y+H})),P({x:T.clientX,y:T.clientY})}}},[i,D,c,g,p]),W=S.useCallback(()=>{$(null),u(!1)},[]);S.useEffect(()=>{const f=t.current;if(f)return f.addEventListener("wheel",C,{passive:!1}),()=>f.removeEventListener("wheel",C)},[C]);const Y=()=>!r||r.length===0?[]:r,re=f=>{if(!f||f.length===0)return{sortedContents:[],maxRow:0,maxCol:0};const O=f.map(G=>({...G,gridPos:X(G.gird_position||"0,0")})),T=Math.max(...O.map(G=>G.gridPos.row),0),b=Math.max(...O.map(G=>G.gridPos.col),0);return{sortedContents:O.sort((G,ee)=>G.gridPos.row!==ee.gridPos.row?G.gridPos.row-ee.gridPos.row:G.gridPos.col-ee.gridPos.col),maxRow:T,maxCol:b}},ce=Y(),Ze=Math.max(...ce.map(f=>X(f.gird_position||"0,0").row),0),ge=Math.max(...ce.map(f=>X(f.gird_position||"0,0").col),0),Pe=f=>{const O=b=>{if(b.width&&Array.isArray(b.width)&&typeof b.width_index=="number"&&b.width_index>=0&&b.width_index<b.width.length){const G=parseFloat(b.width[b.width_index]);if(!isNaN(G)){const ee=G*20;return Math.max(168,ee)}}return 168},T=b=>{switch(b){case"parent_container":return"bg-pink-50 border-pink-300";case"sub_container":return"bg-blue-50 border-blue-300";case"dispensing_shelves":case"store_shelves":return"bg-green-50 border-green-300";case"med_box":return"bg-yellow-50 border-yellow-300";case"grid_draw":case"list_draw":return"bg-violet-50 border-violet-300";default:return"bg-gray-50 border-gray-300"}};switch(f.type){case"med_box":return O(f),l.jsxs("div",{"data-container-guid":f.GUID,className:`${f.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${T(f.type||0)} min-h-[80px] flex flex-col flex-shrink-0 h-full overflow-hidden`,children:[l.jsx("div",{onMouseDown:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onTouchStart:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onPointerDown:p&&j(f.type)&&k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,className:p&&j(f.type)?"cursor-move":"",children:l.jsx(as,{content:f})}),l.jsx("div",{className:"flex-1 p-1",children:je(f)})]},f.GUID);case"sub_container":case"parent_container":return l.jsxs("div",{"data-container-guid":f.GUID,className:`${T(f.type||0)} border-2 overflow-hidden rounded-lg shadow-sm min-h-[80px] flex flex-col h-full`,children:[l.jsx("div",{onMouseDown:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onTouchStart:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onPointerDown:p&&j(f.type)&&k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,className:p&&j(f.type)?"cursor-move":"",children:l.jsx(as,{content:f})}),l.jsx("div",{className:"flex-1  p-1",children:je(f)})]},f.GUID);case"grid_draw":return l.jsxs("div",{"data-container-guid":f.GUID,className:`${f.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${T(f.type||0)} min-h-[80px] flex flex-col h-full overflow-hidden`,children:[l.jsx("div",{onMouseDown:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onTouchStart:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onPointerDown:p&&j(f.type)&&k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,className:p&&j(f.type)?"cursor-move":"",children:l.jsx(as,{content:f})}),l.jsx("div",{className:"flex-1 p-1 flex items-center",children:je(f)})]},f.GUID);default:return l.jsxs("div",{"data-container-guid":f.GUID,className:`${f.type!=="sub_container"?"border-2 rounded-lg shadow-sm":""} ${T(f.type||0)} min-h-[80px] flex flex-col h-full overflow-hidden ${f.type=="none"?"opacity-0":""}`,children:[l.jsx("div",{onMouseDown:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onTouchStart:p&&j(f.type)&&!k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,onPointerDown:p&&j(f.type)&&k()?b=>w(f,b.currentTarget.closest("[data-container-guid]"),b):void 0,className:p&&j(f.type)?"cursor-move":"",children:l.jsx(as,{content:f})}),l.jsx("div",{className:"flex-1 p-1",children:je(f)})]},f.GUID)}},je=f=>{const O=(T,b,H)=>{const G=Array(b+1).fill(null).map(()=>Array(H+1).fill(!1)),ee={};return T.forEach(oe=>{const F=X(oe.gird_position||"0,0");ee[`${F.row},${F.col}`]=oe,G[F.row][F.col]=!0}),l.jsx("table",{className:"w-full h-full",style:{borderCollapse:"none",borderSpacing:"0px"},children:l.jsx("tbody",{children:Array.from({length:b+1},(oe,F)=>l.jsx("tr",{className:"h-full",style:{height:`${100/(b+1)}%`,minHeight:"80px"},children:Array.from({length:H+1},(A,ae)=>{const se=`${F},${ae}`,Ne=ee[se];return Ne?l.jsxs("td",{className:"align-top bg-transparent",style:{width:`${100/(H+1)}%`,height:`${100/(b+1)}%`,minHeight:"80px",border:"none",position:"relative"},children:[Pe(Ne),(d==null?void 0:d.container.GUID)===Ne.GUID&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:l.jsx("div",{className:`absolute bg-blue-400 opacity-50 ${d.direction==="top"?"top-0 left-0 right-0 h-1":d.direction==="bottom"?"bottom-0 left-0 right-0 h-1":d.direction==="left"?"left-0 top-0 bottom-0 w-1":"right-0 top-0 bottom-0 w-1"}`})})]},ae):l.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(H+1)}%`,height:`${100/(b+1)}%`,minHeight:"80px",border:"none"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:""})},ae)})},F))})})};switch(f.type){case"parent_container":case"sub_container":if(f.contents&&f.contents.length>0){const{sortedContents:A,maxRow:ae,maxCol:se}=re(f.contents);return O(A,ae,se)}else return l.jsx("table",{className:"bg-transparent w-full h-full",style:{borderCollapse:"separate",borderSpacing:"1px"},children:l.jsx("tbody",{children:l.jsx("tr",{})})});case"dispensing_shelves":case"store_shelves":case"none":if(f.contents&&f.contents.length>0){const{sortedContents:A,maxRow:ae,maxCol:se}=re(f.contents);return O(A,ae,se)}else return l.jsx("table",{className:"bg-transparent w-full h-full",style:{borderCollapse:"separate",borderSpacing:"0px"},children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"p-4 text-center text-gray-500 bg-transparent",children:l.jsx("div",{className:"text-base",children:""})})})})});case"grid_draw":const T=Math.max(...f.Boxes.flat().map(A=>+A.Row+ +A.Height-1)),b=Math.max(...f.Boxes.flat().map(A=>+A.Column+ +A.Width-1)),H=T+1,G=b+1,ee=f.Boxes.flat(),oe=Array(H).fill(null).map(()=>Array(G).fill(!1)),F={};return ee.forEach(A=>{A.Slave||(F[`${A.Row},${A.Column}`]=A)}),ee.forEach(A=>{if(!A.Slave&&(A.Width>1||A.Height>1))for(let ae=A.Row;ae<A.Row+A.Height;ae++)for(let se=A.Column;se<A.Column+A.Width;se++)(ae!==A.Row||se!==A.Column)&&(oe[ae][se]=!0)}),l.jsxs("div",{className:"bg-violet-100 h-20 flex ml-2 mt-2 mb-6 rounded-xl border-2 border-violet-400 w-[140px] items-center justify-center",children:[l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%] rounded-xl"}),l.jsx("div",{className:"h-[80%] border-2 border-violet-400 w-[82%] mx-1",children:l.jsx("div",{className:"flex items-center justify-center text-base text-violet-400 h-[100%]"})}),l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%]"})]});case"list_draw":return l.jsxs("div",{className:"bg-violet-100 h-20 flex ml-2 mt-2 mb-6 rounded-xl border-2 border-violet-400 w-[140px] items-center justify-center",children:[l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%] rounded-xl"}),l.jsx("div",{className:"h-[80%] border-2 border-violet-400 w-[82%] mx-1",children:l.jsx("div",{className:"flex items-center justify-center text-base text-violet-400 h-[100%]"})}),l.jsx("div",{className:"h-[60%] bg-violet-400 w-[3%]"})]});case"med_box":return f.med_info&&f.med_info.length>0?l.jsxs("div",{className:"text-base text-center min-h-[40px] flex items-center justify-center flex-col",children:[l.jsx("div",{className:"w-full text-gray-700 font-semibold text-left px-1",children:f.name}),l.jsx("div",{className:"text-gray-700",children:f.med_info[0].code}),l.jsxs("div",{className:"text-gray-700 w-full flex justify-between px-1",children:[l.jsxs("div",{children:[f.box_type,""]}),l.jsxs("div",{children:[f.width[f.width_index],"cm"]})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:l.jsx("div",{className:"text-base",children:""})});default:return f.contents&&f.contents.length>0?l.jsx("div",{className:"space-y-2",children:f.contents.map(A=>Pe(A))}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:l.jsxs("div",{className:"text-base",children:[": ",f.type]})})}},xe=f=>{if(X(f.gird_position||"0,0"),f.type!==""&&f.type!=="")return null;const O=T=>{if(!T||T.length===0)return l.jsx("table",{className:"w-full h-full border-none",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"p-4 text-center text-gray-500",children:l.jsx("div",{className:"text-center",children:l.jsx("div",{className:"text-base",children:""})})})})})});const{sortedContents:b,maxRow:H,maxCol:G}=re(T),ee=Array(H+1).fill(null).map(()=>Array(G+1).fill(!1)),oe={};return b.forEach(F=>{const A=X(F.gird_position||"0,0");oe[`${A.row},${A.col}`]=F,ee[A.row][A.col]=!0}),l.jsx("table",{className:"w-full h-full",style:{borderCollapse:"none",borderSpacing:"0px"},children:l.jsx("tbody",{children:Array.from({length:H+1},(F,A)=>l.jsx("tr",{className:"h-full",children:Array.from({length:G+1},(ae,se)=>{const Ne=`${A},${se}`,Ae=oe[Ne];return Ae?l.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(G+1)}%`,height:`${100/(H+1)}%`,minHeight:"120px",border:"none"},children:Pe(Ae)},se):l.jsx("td",{className:"p-1 align-top bg-transparent",style:{width:`${100/(G+1)}%`,height:`${100/(H+1)}%`,minHeight:"120px",border:"1px dashed #e5e7eb"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:""})},se)})},A))})})};return l.jsxs("div",{"data-container-guid":f.GUID,className:"border-2 rounded-lg shadow-lg bg-orange-50 border-orange-300 min-h-[120px] flex flex-col overflow-hidden w-full h-full",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b-2 bg-orange-100 border-b-orange-200",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:"text-lg font-semibold text-gray-800",children:f.name})}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:T=>{T.stopPropagation(),console.log(" "),console.log(" :",f),f?(console.log("  openAddParentContainerModal"),o(f)):console.warn(" ")},title:"",children:l.jsx(Et,{className:"w-6 h-6 text-green-700"})}),l.jsx("button",{className:"p-1 hover:bg-black/10 rounded transition-colors",onClick:T=>{T.stopPropagation()},title:"",children:l.jsx(dt,{className:"w-6 h-6 text-gray-600"})})]})]}),l.jsx("div",{className:`flex-1 bg-orange-50 ${(d==null?void 0:d.container.GUID)===f.GUID?"ring-2 ring-blue-400 ring-inset":""}`,children:O(f.contents||[])})]},f.GUID)};return l.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gray-50",children:[l.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex gap-2",children:l.jsx("button",{onClick:()=>y(!p),className:`rounded-lg shadow-lg p-2 transition-colors ${p?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,title:p?"Unlock Canvas":"Lock Canvas",children:p?l.jsx(qc,{className:"w-6 h-6"}):l.jsx(ed,{className:"w-6 h-6"})})}),l.jsx("div",{ref:t,className:`w-full h-full relative ${x&&!p?"cursor-grab":"cursor-default"} ${c?"cursor-grabbing":""}`,onMouseDown:z,onMouseMove:te,onMouseUp:ne,onMouseLeave:ne,onTouchStart:q,onTouchMove:de,onTouchEnd:W,children:l.jsxs("div",{className:"absolute inset-0 origin-top-left",style:{transform:`translate(${i.x}px, ${i.y}px) scale(${i.scale})`,transformOrigin:"0 0"},children:[l.jsx("div",{className:"relative","data-canvas-content":!0,children:l.jsx("table",{className:"h-full",style:{borderCollapse:"separate",borderSpacing:`${N}px`,minWidth:"fit-content",minHeight:"fit-content"},children:l.jsx("tbody",{children:Array.from({length:Ze+1},(f,O)=>l.jsx("tr",{children:Array.from({length:ge+1},(T,b)=>{const H=ce.find(G=>{const ee=X(G.gird_position||"0,0");return ee.row===O&&ee.col===b});return H?l.jsx("td",{className:"align-top",style:{minWidth:"150px",minHeight:"120px",border:"none"},children:xe(H)},b):l.jsx("td",{className:"align-top",style:{minWidth:"150px",minHeight:"120px",border:"none"},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-base"})},b)})},O))})})}),e]})})]})},eh=async e=>{if(console.log(e),Object.keys(e.current).length===0){console.log("");return}console.log(" :",e.current);const t=[],n=[],r=[];Object.values(e.current).forEach(o=>{console.log("API REQ",o);const i={GUID:o.GUID,position:o.position,MASTER_GUID:o.MASTER_GUID,serverName:o.serverName,serverType:o.serverType};switch(o.type){case"med_box":t.push(i);break;case"grid_draw":case"list_draw":n.push(i);break;case"dispensing_shelves":case"store_shelves":r.push(i);break;default:console.warn(":",o.type)}});const s=[];if(t.length>0&&(console.log(" :",t),s.push(rt.updateMedMapBox(t).then(o=>({type:"med_box",response:o,count:t.length})).catch(o=>({type:"med_box",error:o,count:t.length})))),n.length>0&&(console.log(" :",n),s.push(rt.updateMedMapDrawer(n).then(o=>({type:"drawer",response:o,count:n.length})).catch(o=>({type:"drawer",error:o,count:n.length})))),r.length>0&&(console.log(" :",r),s.push(rt.updateMedMapShelf(r).then(o=>({type:"shelf",response:o,count:r.length})).catch(o=>({type:"shelf",error:o,count:r.length})))),s.length===0){console.log(" API");return}try{const o=await Promise.all(s);let i=0,a=0;const c=[];o.forEach(u=>{var p,y;if(u.error)a+=u.count,c.push(`${u.type}: ${u.error.message||""}`),console.error(` ${u.type} API :`,u.error);else if(((p=u.response)==null?void 0:p.Code)===200)i+=u.count,console.log(` ${u.type} API :`,u.response);else{a+=u.count;const g=((y=u.response)==null?void 0:y.Result)||"";c.push(`${u.type}: ${g}`),console.error(` ${u.type} API :`,u.response)}})}catch(o){console.error(" :",o)}finally{console.log("")}},Gt=[{name:"2.13",box_type:"2.13",width:["7.5"],unit:"cm"},{name:"2.9",type:"2.9",width:["10","15","20"],unit:"cm"},{name:"4.2",type:"4.2",width:["11","16"],unit:"cm"}],th=()=>{const{medBoxModalOpen:e,closeMedBoxModal:t,selectedMedBox:n,triggerRefresh:r,modalMode:s}=Ye(),{t:o}=st(),[i,a]=S.useState(0),[c,u]=S.useState({}),[p,y]=S.useState(""),[g,P]=S.useState(""),[x,_]=S.useState("N"),[E,h]=S.useState([]),[d,m]=S.useState(!1);S.useEffect(()=>{if(n&&e)if(s==="add"){a(0);const j={};Gt.forEach((K,X)=>{j[X]=0}),u(j),y("")}else{const j=Gt.findIndex(K=>K.box_type===n.box_type||K.type===n.box_type);if(j>=0){a(j);const X=Gt[j].width.findIndex(ie=>{var he;return ie===((he=n.width)==null?void 0:he[n.width_index||0])}),V={};Gt.forEach((ie,he)=>{he===j?V[he]=X>=0?X:0:V[he]=0}),u(V)}else{a(0);const K={};Gt.forEach((X,V)=>{K[V]=0}),u(K)}y(n.ip||"")}},[n,e,s]);const v=j=>{a(j)},k=(j,K)=>{u(X=>({...X,[j]:K}))},N=()=>{if(!n)return;const j=Gt[i],K=c[i]||0;if(s==="add"){const X={...n,box_type:j.box_type||j.type||j.name,width:j.width,width_index:K,ip:p,name:`_${Date.now()}`};console.log("Adding new med box:",X)}else n.box_type=j.box_type||j.type||j.name,n.width=j.width,n.width_index=K,n.ip=p;r(),t()},R=()=>{t()},B=async()=>{m(!0);try{const j=await rt.searchMedicine(g,x);h(j)}catch(j){console.error("Search failed:",j),h([])}finally{m(!1)}},le=j=>{n&&(n.med_info=[{id:j.GUID||`${Date.now()}_${Math.random()}`,name:j.NAME,cht_name:j.CHT_NAME,code:j.CODE}],r())};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:R}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(dt,{className:"w-6 h-6 text-gray-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:o(s==="add"?"modal.addMedBox":"modal.medBoxSettings")})]}),l.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(ln,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"gap-16 flex",children:[l.jsxs("div",{className:"space-y-1 min-w-[260px]",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.medBoxName")}),l.jsx("input",{type:"text",value:(n==null?void 0:n.name)||"",onChange:j=>y(j.target.value),placeholder:(n==null?void 0:n.name)||(n==null?void 0:n.ip)||o("placeholder.medBoxName"),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors w-64"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.ipAddress")}),l.jsx("div",{className:"flex items-center",children:l.jsx("input",{type:"text",onChange:j=>y(j.target.value),placeholder:(n==null?void 0:n.ip)||(n==null?void 0:n.name)||o("placeholder.ipAddress"),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors w-64"})})]})]}),l.jsxs("div",{className:"flex gap-16",children:[l.jsxs("div",{className:"space-y-1 min-w-[260px]",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.medBoxType")}),l.jsx("div",{className:"flex gap-4 justify-between",children:Gt.map((j,K)=>l.jsxs("label",{className:`flex items-center px-4 py-2 border-2 rounded-lg cursor-pointer transition-all ${i===K?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"radio",name:"boxType",value:K,checked:i===K,onChange:()=>v(K),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 hidden"}),l.jsx("div",{children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name})})]},K))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.widthSelection")}),Gt.map((j,K)=>l.jsx("div",{className:`flex gap-4 ${i===K?"block":"hidden"}`,children:j.width.map((X,V)=>l.jsxs("label",{className:`flex items-center justify-center px-4 py-2 border-2 rounded-lg cursor-pointer transition-all ${i===K&&(c[K]||0)===V?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"radio",name:`width-${K}`,value:V,checked:i===K&&(c[K]||0)===V,onChange:()=>k(K,V),className:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500 hidden"}),l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[X," ",j.unit]})})]},`${K}-${V}`))},K))]})]}),l.jsxs("div",{className:"flex gap-6",children:[s==="edit"&&l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o("form.drugInfo")}),l.jsx("div",{children:n!=null&&n.med_info&&n.med_info.length>0?l.jsx("div",{children:n.med_info.map((j,K)=>l.jsxs("div",{className:"space-y-2 p-4 border border-gray-200 rounded-lg min-h-[262px] max-h-[262px]",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[o("form.drugCode"),":"]}),l.jsx("div",{className:"text-base text-gray-900 mt-1",children:j.code||o("status.notSet")})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[o("form.drugName"),":"]}),l.jsx("div",{className:"text-base text-gray-900 mt-1",children:j.name||o("status.notSet")})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[o("form.chineseName"),":"]}),l.jsx("div",{className:"text-base text-gray-900 mt-1",children:j.cht_name||o("status.notSet")})]})]},K))}):l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-8 px-4 text-center space-y-4",children:l.jsx("div",{className:"text-gray-500 text-base",children:o("status.noDrugData")})})})]}),s==="add"&&l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:o("form.drugInfo")}),l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-2 px-4 min-h-[262px] max-h-[262px]",children:l.jsx("div",{className:"text-center py-8 space-y-4",children:l.jsx("div",{className:"text-gray-500 text-base",children:o("status.newMedBoxNoDrug")})})})]}),l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o("form.drugSearch")}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:g,onChange:j=>P(j.target.value),placeholder:o("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),l.jsxs("select",{value:x,onChange:j=>_(j.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"",children:[l.jsx("option",{value:"N",children:"N"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"})]}),l.jsxs("button",{onClick:B,disabled:d,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[d&&l.jsx(Ot,{className:"w-4 h-4 animate-spin"}),o("button.search")]})]}),l.jsx("div",{className:"bg-white border rounded p-3 min-h-[220px] max-h-[220px] overflow-y-auto",children:d?l.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[l.jsx(Ot,{className:"w-5 h-5 animate-spin mr-2"}),o("status.searching")]}):E.length>0?l.jsx("div",{className:"space-y-1",children:E.map((j,K)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:j.NAME}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:j.CHT_NAME}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:j.CODE})]}),l.jsx("button",{onClick:()=>le(j),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:o("button.add"),children:l.jsx(Et,{className:"w-4 h-4"})})]},j.GUID||K))}):l.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:o(g||x!=="N"?"status.noSearchResults":"status.searchResults")})})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 py-2 px-4 border-t border-gray-200",children:[l.jsx("button",{onClick:R,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:o("button.cancel")}),l.jsx("button",{onClick:N,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:o(s==="add"?"button.add":"button.save")})]})]})]})},nh=()=>{const{listDrawModalOpen:e,closeListDrawModal:t,selectedListDraw:n,triggerRefresh:r}=Ye(),{t:s}=st(),[o,i]=S.useState(""),[a,c]=S.useState([]),[u,p]=S.useState(""),[y,g]=S.useState("N"),[P,x]=S.useState([]),[_,E]=S.useState(!1);S.useEffect(()=>{n&&e&&(i(n.name||""),c(n.med_info||[]))},[n,e]);const h=N=>{c(R=>R.filter(B=>B.code!==N))},d=async()=>{E(!0);try{const N=await rt.searchMedicine(u,y);x(N)}catch(N){console.error("Search failed:",N),x([])}finally{E(!1)}},m=N=>{const R={id:N.GUID||`${Date.now()}_${Math.random()}`,name:N.NAME,cht_name:N.CHT_NAME,code:N.CODE};c(B=>B.some(j=>j.code===R.code)?B:[...B,R])},v=()=>{n&&(n.name=o,n.med_info=a,r(),t())},k=()=>{t()};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:k}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(dt,{className:"w-6 h-6 text-gray-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("modal.listDrawSettings")})]}),l.jsx("button",{onClick:k,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(ln,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-4 py-1 overflow-y-auto",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("form.drawerName")}),l.jsx("input",{type:"text",value:o,onChange:N=>i(N.target.value),placeholder:(n==null?void 0:n.name)||s("placeholder.drawerName"),className:"w-full px-2 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-base"})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("form.drugList")}),a.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-2",children:a.map(N=>l.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-1 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{children:[N.code&&l.jsx("div",{children:l.jsx("div",{className:"text-sm text-gray-900 font-mono",children:N.code})}),l.jsx("div",{children:l.jsx("div",{className:"text-sm text-gray-900 font-medium",children:N.name||s("status.notSet")})}),l.jsx("div",{children:l.jsx("div",{className:"text-sm text-gray-900",children:N.cht_name||s("status.notSet")})})]})}),l.jsx("button",{onClick:()=>h(N.code),className:"ml-3 p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",title:s("button.remove"),children:l.jsx(ln,{className:"w-5 h-5"})})]})},N.id))}):l.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-500 text-lg mb-2",children:s("status.drawerNoDrug")}),l.jsx("div",{className:"text-gray-400 text-sm",children:s("status.drugListEmpty")})]})})]}),l.jsxs("div",{className:"space-y-2 w-[50%]",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("form.drugSearch")}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:u,onChange:N=>p(N.target.value),placeholder:s("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),l.jsxs("select",{value:y,onChange:N=>g(N.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"",children:[l.jsx("option",{value:"N",children:"N"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"})]}),l.jsxs("button",{onClick:d,disabled:_,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[_&&l.jsx(Ot,{className:"w-4 h-4 animate-spin"}),s("button.search")]})]}),l.jsx("div",{className:"bg-white border rounded p-3 min-h-[300px] max-h-[300px] overflow-y-auto",children:_?l.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[l.jsx(Ot,{className:"w-5 h-5 animate-spin mr-2"}),s("status.searching")]}):P.length>0?l.jsx("div",{className:"space-y-1",children:P.map((N,R)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:N.NAME}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:N.CHT_NAME}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:N.CODE})]}),l.jsx("button",{onClick:()=>m(N),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:s("button.add"),children:l.jsx(Et,{className:"w-4 h-4"})})]},N.GUID||R))}):l.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:s(u||y!=="N"?"status.noSearchResults":"status.searchResults")})})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:k,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:s("button.cancel")}),l.jsx("button",{onClick:v,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:s("button.save")})]})]})]})},rh=()=>{const{gridDrawModalOpen:e,closeGridDrawModal:t,selectedGridDraw:n,triggerRefresh:r}=Ye(),{t:s}=st(),[o,i]=S.useState(""),[a,c]=S.useState(!1),[u,p]=S.useState(null),[y,g]=S.useState(""),[P,x]=S.useState("N"),[_,E]=S.useState([]),[h,d]=S.useState(!1),[m,v]=S.useState(0),[k,N]=S.useState({x:0,y:0});S.useEffect(()=>{n&&e&&i(n.name||"")},[n,e]);const R=()=>{n&&(n.name=o,r(),t())},B=()=>{t()},le=(D,$)=>{if(!u)return!1;const Z=Math.min(u.startRow,u.endRow),ue=Math.max(u.startRow,u.endRow),fe=Math.min(u.startCol,u.endCol),J=Math.max(u.startCol,u.endCol);return D>=Z&&D<=ue&&$>=fe&&$<=J},j=D=>{if(!(n!=null&&n.Boxes)||D.Slave)return{width:1,height:1};const Z=n.Boxes.flat().filter(W=>W.Slave&&W.MasterBox_Row===D.Row&&W.MasterBox_Column===D.Column);if(Z.length===0)return{width:1,height:1};const ue=[D,...Z],fe=Math.min(...ue.map(W=>W.Row)),J=Math.max(...ue.map(W=>W.Row)),q=Math.min(...ue.map(W=>W.Column));return{width:Math.max(...ue.map(W=>W.Column))-q+1,height:J-fe+1}},K=()=>{if(!u||!(n!=null&&n.Boxes))return[];const D=n.Boxes.flat(),$=Math.min(u.startRow,u.endRow),Z=Math.max(u.startRow,u.endRow),ue=Math.min(u.startCol,u.endCol),fe=Math.max(u.startCol,u.endCol),J=[];return D.forEach(q=>{if(!q.Slave){const de=j(q),W=q.Row+de.height-1,Y=q.Column+de.width-1;q.Row>=$&&W<=Z&&q.Column>=ue&&Y<=fe&&J.push(q)}}),J},X=(D,$,Z,ue)=>{if(!u||!(n!=null&&n.Boxes))return!1;const fe=n.Boxes.flat();let J=!0,q=D,de=$,W=Z,Y=ue;for(;J;)J=!1,fe.forEach(re=>{if(!re.Slave){const ce=j(re),Ze=re.Row+ce.height-1,ge=re.Column+ce.width-1;!(re.Row>de||Ze<q||re.Column>Y||ge<W)&&(re.Row<q&&(q=re.Row,J=!0),Ze>de&&(de=Ze,J=!0),re.Column<W&&(W=re.Column,J=!0),ge>Y&&(Y=ge,J=!0))}});return{minRow:q,maxRow:de,minCol:W,maxCol:Y}},V=()=>{if(!u||!(n!=null&&n.Boxes))return!1;const D=Math.min(u.startRow,u.endRow),$=Math.max(u.startRow,u.endRow),Z=Math.min(u.startCol,u.endCol),ue=Math.max(u.startCol,u.endCol),fe=n.Boxes.flat();for(let J=D;J<=$;J++)for(let q=Z;q<=ue;q++){let de=!1;for(const W of fe)if(!W.Slave){const Y=j(W),re=W.Row+Y.height-1,ce=W.Column+Y.width-1;if(J>=W.Row&&J<=re&&q>=W.Column&&q<=ce){de=!0;break}}if(!de)return!1}return!0},ie=()=>{var re;const D=K();if(!u)return{canMerge:!1,canUnmerge:!1};if(D.length===0)return{canMerge:!1,canUnmerge:!1};const $=((re=n==null?void 0:n.Boxes)==null?void 0:re.flat())||[],Z=D.some(ce=>$.filter(ge=>ge.Slave&&ge.MasterBox_Row===ce.Row&&ge.MasterBox_Column===ce.Column).length>0),ue=Math.min(u.startRow,u.endRow),fe=Math.max(u.startRow,u.endRow),J=Math.min(u.startCol,u.endCol),q=Math.max(u.startCol,u.endCol),de=$.some(ce=>ce.Slave&&ce.Row>=ue&&ce.Row<=fe&&ce.Column>=J&&ce.Column<=q);return{canMerge:D.length>1&&V(),canUnmerge:Z||de}},{canMerge:he,canUnmerge:ye}=ie(),L=async()=>{d(!0);try{const D=await rt.searchMedicine(y,P);E(D)}catch(D){console.error("Search failed:",D),E([])}finally{d(!1)}},w=D=>{if(!u||!(n!=null&&n.Boxes))return;const $=K();if($.length===0)return;const Z=$[0];Z.Code=D.CODE,Z.Name=D.NAME,Z.ChineseName=D.CHT_NAME,r()},I=(D,$,Z)=>{Z.preventDefault(),Z.stopPropagation(),"touches"in Z&&(v(Date.now()),N({x:Z.touches[0].clientX,y:Z.touches[0].clientY})),c(!0),p({startRow:D,startCol:$,endRow:D,endCol:$})},M=(D,$)=>{if(!a||!u)return;const Z=Math.min(u.startRow,D),ue=Math.max(u.startRow,D),fe=Math.min(u.startCol,$),J=Math.max(u.startCol,$),q=X(Z,ue,fe,J);q&&p(de=>de?{startRow:de.startRow,startCol:de.startCol,endRow:D>=de.startRow?q.maxRow:q.minRow,endCol:$>=de.startCol?q.maxCol:q.minCol}:null)},C=()=>{if(a&&(c(!1),u&&(n!=null&&n.Boxes))){const D=Math.min(u.startRow,u.endRow),$=Math.max(u.startRow,u.endRow),Z=Math.min(u.startCol,u.endCol),ue=Math.max(u.startCol,u.endCol),fe=X(D,$,Z,ue);fe&&p({startRow:fe.minRow,startCol:fe.minCol,endRow:fe.maxRow,endCol:fe.maxCol})}},z=()=>{if(!he||!(n!=null&&n.Boxes)||!u)return;const D=K();if(D.length<2)return;const $=Math.min(u.startRow,u.endRow),Z=Math.max(u.startRow,u.endRow),ue=Math.min(u.startCol,u.endCol),fe=Math.max(u.startCol,u.endCol);let J=D.find(Y=>Y.Row===$&&Y.Column===ue);J||(J=D[0],n.Boxes.flat().forEach(re=>{re.Slave&&re.MasterBox_Row===J.Row&&re.MasterBox_Column===J.Column&&(re.Slave=!1,delete re.MasterBox_Row,delete re.MasterBox_Column)}));const de=D.sort((Y,re)=>Y.Row!==re.Row?Y.Row-re.Row:Y.Column-re.Column).find(Y=>Y.Code||Y.Name||Y.ChineseName);J.Row=$,J.Column=ue,J.Slave=!1,delete J.MasterBox_Row,delete J.MasterBox_Column,de&&de!==J&&(J.Code=de.Code,J.Name=de.Name,J.ChineseName=de.ChineseName),n.Boxes.flat().forEach(Y=>{Y.Row>=$&&Y.Row<=Z&&Y.Column>=ue&&Y.Column<=fe&&Y!==J&&(Y.Slave=!0,Y.MasterBox_Row=$,Y.MasterBox_Column=ue,delete Y.Code,delete Y.Name,delete Y.ChineseName)}),p(null),r()},te=()=>{if(!ye||!(n!=null&&n.Boxes)||!u)return;const D=Math.min(u.startRow,u.endRow),$=Math.max(u.startRow,u.endRow),Z=Math.min(u.startCol,u.endCol),ue=Math.max(u.startCol,u.endCol);n.Boxes.flat().filter(q=>!!(q.Row>=D&&q.Row<=$&&q.Column>=Z&&q.Column<=ue||q.Slave&&q.MasterBox_Row!==void 0&&q.MasterBox_Column!==void 0&&q.MasterBox_Row>=D&&q.MasterBox_Row<=$&&q.MasterBox_Column>=Z&&q.MasterBox_Column<=ue)).forEach(q=>{q.Slave=!1,delete q.MasterBox_Row,delete q.MasterBox_Column,delete q.Code,delete q.Name,delete q.ChineseName}),p(null),r()},ne=()=>{if(!(n!=null&&n.Boxes)||n.Boxes.length===0)return l.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Si,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("div",{className:"text-gray-500 text-lg mb-2",children:s("status.gridDrawNotConfigured")}),l.jsx("div",{className:"text-gray-400 text-sm",children:s("status.noDrugInfo")})]})});const D=n.Boxes.flat(),$=W=>{if(W.Slave)return{width:1,height:1};const Y=D.filter(je=>je.Slave&&je.MasterBox_Row===W.Row&&je.MasterBox_Column===W.Column);if(Y.length===0)return{width:1,height:1};const re=[W,...Y],ce=Math.min(...re.map(je=>je.Row)),Ze=Math.max(...re.map(je=>je.Row)),ge=Math.min(...re.map(je=>je.Column));return{width:Math.max(...re.map(je=>je.Column))-ge+1,height:Ze-ce+1}},Z=Math.max(...D.map(W=>W.Row+W.Height-1)),ue=Math.max(...D.map(W=>W.Column+W.Width-1)),fe=Z+1,J=ue+1,q=Array(fe).fill(null).map(()=>Array(J).fill(!1)),de={};return D.forEach(W=>{if(!W.Slave){const Y=$(W);de[`${W.Row},${W.Column}`]=W,W.calculatedWidth=Y.width,W.calculatedHeight=Y.height}}),D.forEach(W=>{if(!W.Slave&&(W.calculatedWidth>1||W.calculatedHeight>1))for(let Y=W.Row;Y<W.Row+W.calculatedHeight;Y++)for(let re=W.Column;re<W.Column+W.calculatedWidth;re++)(Y!==W.Row||re!==W.Column)&&(q[Y][re]=!0)}),l.jsx("div",{className:"rounded-lg",children:l.jsx("table",{className:"w-full",children:l.jsx("tbody",{children:Array.from({length:fe},(W,Y)=>l.jsx("tr",{children:Array.from({length:J},(re,ce)=>{if(q[Y][ce])return null;const Ze=`${Y},${ce}`,ge=de[Ze];return ge?l.jsx("td",{className:`border border-gray-400 pt-1 pl-1 align-top cursor-pointer select-none ${le(Y,ce)?"bg-blue-200":"bg-white hover:bg-gray-100"}`,style:{width:`${100/J}%`,minHeight:"40px",height:`${50*ge.calculatedHeight}px`,maxHeight:`${50*ge.calculatedHeight}px`},colSpan:ge.calculatedWidth,rowSpan:ge.calculatedHeight,onMouseDown:Pe=>I(Y,ce,Pe),onMouseEnter:()=>M(Y,ce),onMouseUp:C,onTouchStart:Pe=>I(Y,ce,Pe),onTouchMove:Pe=>{if(Pe.preventDefault(),!a)return;const je=Pe.touches[0],xe=document.elementFromPoint(je.clientX,je.clientY),f=xe==null?void 0:xe.closest("td");if(f){const O=parseInt(f.getAttribute("data-row")||"0"),T=parseInt(f.getAttribute("data-col")||"0");M(O,T)}},onTouchEnd:C,"data-row":Y,"data-col":ce,children:l.jsx("div",{className:"h-full flex flex-col",children:ge.Code||ge.Name||ge.ChineseName?l.jsxs(l.Fragment,{children:[ge.Code&&l.jsx("div",{className:"text-xs font-mono text-gray-600",children:ge.Code}),ge.Name&&l.jsx("div",{className:"text-xs font-medium text-gray-900",children:ge.Name}),ge.ChineseName&&l.jsx("div",{className:"text-xs text-gray-700",children:ge.ChineseName})]}):l.jsx("div",{className:"h-full flex justify-center items-center text-xs text-gray-400 italic text-center",children:s("status.notAdded")})})},ce):l.jsx("td",{className:`border border-gray-300 p-2 align-top cursor-pointer select-none ${le(Y,ce)?"border-1 border-blue-500 bg-blue-100":"bg-gray-50 hover:bg-gray-100"}`,style:{width:`${100/J}%`,minWidth:"80px",minHeight:"80px"},onMouseDown:Pe=>I(Y,ce,Pe),onMouseEnter:()=>M(Y,ce),onMouseUp:C,onTouchStart:Pe=>I(Y,ce,Pe),onTouchMove:Pe=>{if(Pe.preventDefault(),!a)return;const je=Pe.touches[0],xe=document.elementFromPoint(je.clientX,je.clientY),f=xe==null?void 0:xe.closest("td");if(f){const O=parseInt(f.getAttribute("data-row")||"0"),T=parseInt(f.getAttribute("data-col")||"0");M(O,T)}},onTouchEnd:C,"data-row":Y,"data-col":ce,children:l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-xs",children:s("status.notAdded")})},ce)})},Y))})})})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:B}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:D=>D.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(dt,{className:"w-6 h-6 text-gray-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("modal.gridDrawSettings")})]}),l.jsx("button",{onClick:B,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(ln,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:[l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h3",{className:"text-lg whitespace-nowrap font-medium text-gray-900",children:s("form.drawerName")}),l.jsx("input",{type:"text",value:o,onChange:D=>i(D.target.value),placeholder:(n==null?void 0:n.name)||s("placeholder.gridDrawName"),className:"px-2 py-1 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors text-base"})]}),l.jsx("div",{className:"space-y-1",children:ne()})]}),l.jsxs("div",{className:"py-2 flex space-x-4",children:[l.jsx("div",{className:"grid grid-cols-1 gap-2 w-[10%]",children:l.jsxs("div",{className:"grid grid-cols-1 gap-2 items-strat",children:[l.jsx("button",{onClick:z,disabled:!he,className:`px-4 py-2 rounded transition-colors ${he?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s("button.merge")}),l.jsx("button",{onClick:te,disabled:!ye,className:`px-4 py-2 rounded transition-colors ${ye?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s("button.unmerge")})]})}),l.jsx("div",{className:"space-y-2 w-[30%]",children:(()=>{const D=K(),$=D.find(Z=>!Z.Slave);return $&&($.Code||$.Name||$.ChineseName)?l.jsxs("div",{className:"border border-blue-200 rounded-lg p-2 space-y-1 h-full",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-900 mb-1",children:s("form.drugCode")}),l.jsx("div",{className:"text-base text-gray-900",children:$.Code||"-"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-900  mb-1",children:s("form.drugName")}),l.jsx("div",{className:"text-base text-gray-900",children:$.Name||"-"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-900 mb-1",children:s("form.chineseName")}),l.jsx("div",{className:"text-base text-gray-900",children:$.ChineseName||"-"})]})]}):l.jsx("div",{className:"bg-gray-50 border h-full border-gray-200 rounded-lg p-3 text-center",children:l.jsx("div",{className:"text-gray-500 h-full w-full flex justify-center items-center",children:u&&D.length>0?s("status.selectedCellsNoDrug"):s("status.selectCellsForDrug")})})})()}),l.jsxs("div",{className:"w-[60%]",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:y,onChange:D=>g(D.target.value),placeholder:s("placeholder.drugSearch"),className:"border rounded px-3 py-1 flex-1 min-w-0 focus:border-blue-500 focus:outline-none transition-colors"}),l.jsxs("select",{value:P,onChange:D=>x(D.target.value),className:"border rounded px-2 py-1 focus:border-blue-500 focus:outline-none transition-colors",title:"",children:[l.jsx("option",{value:"N",children:"N"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"})]}),l.jsxs("button",{onClick:L,disabled:h,className:"bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors whitespace-nowrap disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[h&&l.jsx(Ot,{className:"w-4 h-4 animate-spin"}),s("button.search")]})]}),l.jsx("div",{className:"bg-white border rounded p-3 min-h-[150px] max-h-[150px] overflow-y-auto",children:h?l.jsxs("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:[l.jsx(Ot,{className:"w-5 h-5 animate-spin mr-2"}),s("status.searching")]}):_.length>0?l.jsx("div",{className:"space-y-1",children:_.map((D,$)=>l.jsxs("div",{className:"flex items-center justify-between p-1 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:D.NAME}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:D.CHT_NAME}),l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:D.CODE})]}),l.jsx("button",{onClick:()=>w(D),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors flex-shrink-0",title:s("button.add"),children:l.jsx(Et,{className:"w-4 h-4"})})]},D.GUID||$))}):l.jsx("div",{className:"text-gray-500 text-center flex items-center justify-center h-full",children:s(y||P!=="N"?"status.noSearchResults":"status.searchResults")})})]})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:B,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:s("button.cancel")}),l.jsx("button",{onClick:R,className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:s("button.save")})]})]}),l.jsx("div",{className:"fixed inset-0 pointer-events-none",onMouseUp:C,onMouseLeave:C,onTouchEnd:C,onTouchCancel:C})]})]})},sh=()=>{var X;const{addParentContainerModalOpen:e,closeAddParentContainerModal:t,selectedDepartmentForAdd:n,selectedDepartmentType:r,setApiDepartmentData:s,setIsLoadingMedMap:o,showNotification:i,triggerRefresh:a,setSidebarOpen:c}=Ye(),{t:u}=st(),[p,y]=S.useState(null),[g,P]=S.useState(0),[x,_]=S.useState(0),[E,h]=S.useState(!1);S.useEffect(()=>{e&&(y(null),P(0),_(0),h(!1))},[e]),S.useEffect(()=>{p&&(P(p.row),_(p.col))},[p]);const d=()=>{const V=new Set;return n!=null&&n.contents&&n.contents.forEach(ie=>{ie.type==="parent_container"&&ie.gird_position&&V.add(ie.gird_position)}),V},m=()=>{const V=d(),ie=[];if(V.size===0)return ie.push({row:0,col:0}),ie;const he=[];V.forEach(L=>{const[w,I]=L.split(",").map(Number);he.push({row:w,col:I})});const ye=new Set;return he.forEach(({row:L,col:w})=>{ye.add(`${L},${w+1}`),ye.add(`${L+1},${w}`),w>0&&ye.add(`${L},${w-1}`),L>0&&ye.add(`${L-1},${w}`)}),ye.forEach(L=>{if(!V.has(L)){const[w,I]=L.split(",").map(Number);w>=0&&I>=0&&ie.push({row:w,col:I})}}),V.has("0,1")||ie.some(w=>w.row===0&&w.col===1)||ie.push({row:0,col:1}),V.has("1,0")||ie.some(w=>w.row===1&&w.col===0)||ie.push({row:1,col:0}),ie.sort((L,w)=>L.row===w.row?L.col-w.col:L.row-w.row)},v=V=>{y(V)},k=V=>{P(V),y({row:V,col:x})},N=V=>{_(V),y({row:g,col:V})},R=p&&!d().has(`${p.row},${p.col}`)&&p.row>=0&&p.col>=0,B=async()=>{if(!(!p||!n||!R)){h(!0);try{const V=`${p.row},${p.col}`,ie=await rt.addMedMapSection(n.GUID,V);ie.Code===200?(i("","success"),t(),c(!1),await le()):i(`${ie.Result||""}`,"error")}catch(V){console.error("Add parent container failed:",V),i("","error")}finally{h(!1)}}},le=async()=>{if(!r){console.warn(" ");return}console.log(" :",r),o(!0);try{const V=await rt.getMedMapByDepartment(r);if(V.Code===200&&V.Data){console.log(" API ");const ie=xn.convertMedMapApiToFakeData(V.Data);if(!xn.validateConvertedData(ie)){console.error(" "),i("","error");return}s(ie),console.log(" ")}else console.error(" API :",V),i("API ","error")}catch(V){console.error(" :",V),i("","error")}finally{o(!1)}},j=()=>{t()},K=()=>{const V=d(),ie=m(),he=[...V].map(z=>{const[te,ne]=z.split(",").map(Number);return{row:te,col:ne}}).concat(ie);he.length===0&&he.push({row:0,col:0});const ye=Math.max(...he.map(z=>z.row)),L=Math.max(...he.map(z=>z.col)),w=Math.min(...he.map(z=>z.row)),I=Math.min(...he.map(z=>z.col)),M=ye-w+1,C=L-I+1;return l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${C}, 1fr)`},children:Array.from({length:M*C},(z,te)=>{const ne=Math.floor(te/C)+w,D=te%C+I,$=`${ne},${D}`,Z=V.has($),ue=ie.some(J=>J.row===ne&&J.col===D),fe=(p==null?void 0:p.row)===ne&&(p==null?void 0:p.col)===D;return l.jsx("button",{onClick:()=>ue&&v({row:ne,col:D}),disabled:Z||!ue,className:`
                    w-16 h-16 border-2 rounded-lg transition-all duration-200 flex items-center justify-center text-sm font-medium
                    ${Z?"bg-red-100 border-red-300 text-red-600 cursor-not-allowed":fe?"bg-blue-500 border-blue-600 text-white shadow-lg":ue?"bg-green-100 border-green-300 text-green-700 hover:bg-green-200 hover:border-green-400 cursor-pointer":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"}
                  `,title:Z?"":ue?"":"",children:Z?"":`${ne},${D}`},$)})})})]})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:j}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh",maxWidth:"800px"},onClick:V=>V.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Et,{className:"w-6 h-6 text-green-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""})]}),l.jsx("button",{onClick:j,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(ln,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-6 py-4 overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[K(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Row):"}),l.jsx("input",{type:"number",min:"0",value:g,onChange:V=>k(parseInt(V.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Column):"}),l.jsx("input",{type:"number",min:"0",value:x,onChange:V=>N(parseInt(V.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),p&&l.jsx("div",{className:`text-sm p-2 rounded ${R?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:R?`${p.row},${p.col}`:` ${p.row},${p.col} `})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("div",{children:["",(n==null?void 0:n.name)||""]}),l.jsxs("div",{children:["",(n==null?void 0:n.type)||""]}),l.jsxs("div",{children:["",((X=n==null?void 0:n.contents)==null?void 0:X.filter(V=>V.type==="parent_container").length)||0]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:j,disabled:E,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u("button.cancel")}),l.jsxs("button",{onClick:B,disabled:!R||E,className:"px-6 py-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[E&&l.jsx(Ot,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:E?"...":""})]})]})]})]})},Ia=[{value:"dispensing_shelves",label:"",icon:l.jsx(Ml,{className:"w-5 h-5"}),isShelf:!0},{value:"store_shelves",label:"",icon:l.jsx(Kc,{className:"w-5 h-5"}),isShelf:!0},{value:"list_draw",label:"",icon:l.jsx(Vs,{className:"w-5 h-5"}),isShelf:!1},{value:"grid_draw",label:"",icon:l.jsx(Si,{className:"w-5 h-5"}),isShelf:!1}],oh=()=>{var M;const{addShelfDrawContainerModalOpen:e,closeAddShelfDrawContainerModal:t,selectedSubContainerForAdd:n,selectedDepartmentType:r,setApiDepartmentData:s,setIsLoadingMedMap:o,showNotification:i,triggerRefresh:a,setSidebarOpen:c}=Ye(),{t:u}=st(),[p,y]=S.useState("dispensing_shelves"),[g,P]=S.useState("1"),[x,_]=S.useState("1"),[E,h]=S.useState(""),[d,m]=S.useState(null),[v,k]=S.useState(0),[N,R]=S.useState(0),[B,le]=S.useState(!1);S.useEffect(()=>{e&&(y("dispensing_shelves"),P("1"),_("1"),h(""),m(null),k(0),R(0),le(!1))},[e]),S.useEffect(()=>{d&&(k(d.row),R(d.col))},[d]);const j=()=>{const C=new Set;return n!=null&&n.contents&&n.contents.forEach(z=>{z.gird_position&&C.add(z.gird_position)}),C},K=()=>{const C=j(),z=[];if(C.size===0)return z.push({row:0,col:0}),z;const te=[];C.forEach(D=>{const[$,Z]=D.split(",").map(Number);te.push({row:$,col:Z})});const ne=new Set;return te.forEach(({row:D,col:$})=>{ne.add(`${D},${$+1}`),ne.add(`${D+1},${$}`),$>0&&ne.add(`${D},${$-1}`),D>0&&ne.add(`${D-1},${$}`)}),ne.forEach(D=>{if(!C.has(D)){const[$,Z]=D.split(",").map(Number);$>=0&&Z>=0&&z.push({row:$,col:Z})}}),C.has("0,1")||z.some($=>$.row===0&&$.col===1)||z.push({row:0,col:1}),C.has("1,0")||z.some($=>$.row===1&&$.col===0)||z.push({row:1,col:0}),z.sort((D,$)=>D.row===$.row?D.col-$.col:D.row-$.row)},X=C=>{m(C)},V=C=>{k(C),m({row:C,col:N})},ie=C=>{R(C),m({row:v,col:C})},he=d&&!j().has(`${d.row},${d.col}`)&&d.row>=0&&d.col>=0,ye=async()=>{if(!(!d||!n||!he)){le(!0);try{const C=`${d.row},${d.col}`,z=Ia.find(ne=>ne.value===p);let te;z!=null&&z.isShelf?te=await rt.addMedMapShelf({Master_GUID:n.GUID,position:C,width:g,height:x,ip_light:E,type:p}):te=await rt.addMedMapDrawer({Master_GUID:n.GUID,position:C,width:g,height:x,ip_drawer:E,type:p}),te.Code===200?(i("","success"),t(),c(!1),await L()):i(`${te.Result||""}`,"error")}catch(C){console.error("Add container failed:",C),i("","error")}finally{le(!1)}}},L=async()=>{if(!r){console.warn(" ");return}console.log(" :",r),o(!0);try{const C=await rt.getMedMapByDepartment(r);if(C.Code===200&&C.Data){console.log(" API ");const z=xn.convertMedMapApiToFakeData(C.Data);if(!xn.validateConvertedData(z)){console.error(" "),i("","error");return}s(z),console.log(" ")}else console.error(" API :",C),i("API ","error")}catch(C){console.error(" :",C),i("","error")}finally{o(!1)}},w=()=>{t()},I=()=>{const C=j(),z=K(),te=[...C].map(J=>{const[q,de]=J.split(",").map(Number);return{row:q,col:de}}).concat(z);te.length===0&&te.push({row:0,col:0});const ne=Math.max(...te.map(J=>J.row)),D=Math.max(...te.map(J=>J.col)),$=Math.min(...te.map(J=>J.row)),Z=Math.min(...te.map(J=>J.col)),ue=ne-$+1,fe=D-Z+1;return l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:l.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${fe}, 1fr)`},children:Array.from({length:ue*fe},(J,q)=>{const de=Math.floor(q/fe)+$,W=q%fe+Z,Y=`${de},${W}`,re=C.has(Y),ce=z.some(ge=>ge.row===de&&ge.col===W),Ze=(d==null?void 0:d.row)===de&&(d==null?void 0:d.col)===W;return l.jsx("button",{onClick:()=>ce&&X({row:de,col:W}),disabled:re||!ce,className:`
                    w-16 h-16 border-2 rounded-lg transition-all duration-200 flex items-center justify-center text-sm font-medium
                    ${re?"bg-red-100 border-red-300 text-red-600 cursor-not-allowed":Ze?"bg-blue-500 border-blue-600 text-white shadow-lg":ce?"bg-green-100 border-green-300 text-green-700 hover:bg-green-200 hover:border-green-400 cursor-pointer":"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed"}
                  `,title:re?"":ce?"":"",children:re?"":`${de},${W}`},Y)})})})]})};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:w}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh",maxWidth:"1000px"},onClick:C=>C.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Et,{className:"w-6 h-6 text-green-600"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"/"})]}),l.jsx("button",{onClick:w,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(ln,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 px-6 py-4 overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ia.map(C=>l.jsxs("label",{className:`flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${p===C.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("input",{type:"radio",name:"containerType",value:C.value,checked:p===C.value,onChange:z=>y(z.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 hidden"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[C.icon,l.jsx("span",{className:"font-medium text-gray-900",children:C.label})]})]},C.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),l.jsx("input",{type:"number",min:"1",value:g,onChange:C=>P(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),l.jsx("input",{type:"number",min:"1",value:x,onChange:C=>_(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IP "}),l.jsx("input",{type:"text",value:E,onChange:C=>h(C.target.value),placeholder:" IP ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),I(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:""}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Row):"}),l.jsx("input",{type:"number",min:"0",value:v,onChange:C=>V(parseInt(C.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:" (Column):"}),l.jsx("input",{type:"number",min:"0",value:N,onChange:C=>ie(parseInt(C.target.value)||0),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"})]})]}),d&&l.jsx("div",{className:`text-sm p-2 rounded ${he?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:he?`${d.row},${d.col}`:` ${d.row},${d.col} `})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("div",{children:["",(n==null?void 0:n.name)||""]}),l.jsxs("div",{children:["",(n==null?void 0:n.type)||""]}),l.jsxs("div",{children:["",((M=n==null?void 0:n.contents)==null?void 0:M.length)||0]})]})]})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200",children:[l.jsx("button",{onClick:w,disabled:B,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u("button.cancel")}),l.jsxs("button",{onClick:ye,disabled:!he||B,className:"px-6 py-2 text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[B&&l.jsx(Ot,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:B?"...":""})]})]})]})]})},lh=({isVisible:e,message:t})=>{const{t:n}=st();return e?l.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),l.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center p-8",children:l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-2xl px-8 py-6 flex flex-col items-center space-y-4 min-w-[280px]",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(Ci,{className:"w-8 h-8 text-blue-600"})}),l.jsx("div",{className:"text-xl font-semibold text-gray-900",children:n("nav.title")})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ot,{className:"w-8 h-8 text-blue-600 animate-spin"}),l.jsx("div",{className:"text-lg font-medium text-gray-700",children:t||n("status.loadingMedMapData")})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full animate-pulse",style:{width:"100%"}})}),l.jsx("div",{className:"text-sm text-gray-500 text-center max-w-xs",children:n("status.loadingMedMapHint")})]})})]}):null},ih=({message:e,type:t,isVisible:n,onClose:r,duration:s=3e3})=>{const[o,i]=S.useState(!1);return S.useEffect(()=>{if(n){i(!0);const a=setTimeout(()=>{r()},s);return()=>clearTimeout(a)}else{const a=setTimeout(()=>{i(!1)},300);return()=>clearTimeout(a)}},[n,s,r]),o?l.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[9999] transition-all duration-300 ease-in-out ${n?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:l.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-lg border ${t==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[t==="success"?l.jsx(Lp,{className:"w-5 h-5 text-green-600"}):l.jsx(Hp,{className:"w-5 h-5 text-red-600"}),l.jsx("span",{className:"text-sm font-medium",children:e}),l.jsx("button",{onClick:r,className:`p-1 rounded-full hover:bg-black/10 transition-colors ${t==="success"?"text-green-600":"text-red-600"}`,children:l.jsx(ln,{className:"w-4 h-4"})})]})}):null},ah=()=>{const{isOpenLightCabinetDetail:e,closeLightCabinetDetail:t,activeParentContainer:n}=Ye();st(),S.useEffect(()=>{},[e]),S.useEffect(()=>{const x=_=>{_.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[e,t]);const r=x=>{if(!x)return console.warn("Missing grid_position, defaulting to (0,0)"),{row:0,col:0};const[_,E]=x.split(","),h=parseInt(_)||0,d=parseInt(E)||0;return{row:h,col:d}},s=()=>{if(!(n!=null&&n.contents))return!1;const x=["dispensing_shelves","store_shelves","grid_draw","list_draw","med_box"];for(const _ of n.contents)if(_.contents&&Array.isArray(_.contents))for(const E of _.contents){if(x.includes(E.type))return!0;if(E.contents&&Array.isArray(E.contents)){for(const h of E.contents)if(x.includes(h.type))return!0}}return!1},o=()=>{if(!(n!=null&&n.contents))return{rows:1,cols:1};let x=0,_=0;return n.contents.forEach(E=>{const h=E.gird_position||E.grid_position;if(h){const d=r(h);x=Math.max(x,d.row),_=Math.max(_,d.col)}}),{rows:x+1,cols:_+1}},i=x=>{if(!x.contents||!Array.isArray(x.contents))return l.jsx("div",{className:"text-xs text-gray-500 text-center",children:""});let _=0,E=0;x.contents.forEach(N=>{if(N.gird_position||N.grid_position){const R=r(N.gird_position||N.grid_position);_<R.row&&(_=R.row),E<R.col&&(E=R.col),console.log(R.row,R.col),console.log(_,E)}});const h=Math.max(_+1,1),d=Math.max(E+1,1),m=1/h,v=m*100,k=m*100;return console.log("==>",v,k),l.jsx("div",{className:"grid h-full",style:{gridTemplateColumns:`repeat(${d}, minmax(${v}%, 1fr))`,gridTemplateRows:`repeat(${h}, minmax(${k}%, auto))`},children:x.contents.map(N=>{const R=r(N.gird_position||N.grid_position);return l.jsx("div",{className:"h-full",children:l.jsx("div",{className:`
                  h-full border rounded p-[2px] text-xs cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105
                  ${y(N.type)}
                `,style:{gridRowStart:R.row+1,gridColumnStart:R.col+1},children:N.contents&&Array.isArray(N.contents)&&N.contents.length>0&&l.jsx("div",{children:(()=>{let B=0,le=0;N.contents.forEach(X=>{if(X.gird_position||X.grid_position){const V=r(X.gird_position||X.grid_position);B=Math.max(B,V.row),le=Math.max(le,V.col)}});const j=Math.max(B+1,1),K=Math.max(le+1,1);return l.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${K}, minmax(${1/K*100}%, 1fr))`,gridTemplateRows:`repeat(${j}, minmax(${1/j*100}%, auto))`},children:N.contents.map(X=>{const V=r(X.gird_position||X.grid_position);return l.jsx("div",{className:`
                                  border rounded p-1 text-xs cursor-pointer transition-all duration-200 hover:shadow-sm
                                  ${y(X.type)}
                                `,style:{gridRowStart:V.row+1,gridColumnStart:V.col+1},children:l.jsxs("div",{className:"flex items-center space-x-1",children:[p(X.type),l.jsx("span",{className:"text-xs truncate",children:g(X)})]})},X.GUID)})})})()})})},N.GUID)})})},a=s(),{rows:c,cols:u}=o(),p=x=>{switch(x){case"dispensing_shelves":case"store_shelves":return l.jsx(Kc,{className:"w-4 h-4"});case"grid_draw":return l.jsx(Si,{className:"w-4 h-4"});case"list_draw":return l.jsx(Vs,{className:"w-4 h-4"});case"med_box":return l.jsx(Ml,{className:"w-4 h-4"});default:return l.jsx(Ml,{className:"w-4 h-4"})}},y=x=>{switch(x){case"dispensing_shelves":return"bg-green-100 border-green-300 text-green-800";case"store_shelves":return"bg-blue-100 border-blue-300 text-blue-800";case"grid_draw":return"bg-purple-100 border-purple-300 text-purple-800";case"list_draw":return"bg-indigo-100 border-indigo-300 text-indigo-800";case"med_box":return"bg-yellow-100 border-yellow-300 text-yellow-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},g=x=>{if(x.type==="med_box"&&x.med_info&&x.med_info.length>0){const _=x.med_info[0];return _.cht_name||_.name||x.name||` ${x.GUID.slice(-4)}`}return x.cht_name||x.name||`${x.type} ${x.GUID.slice(-4)}`},P=x=>{x.target===x.currentTarget&&t()};return!e||!n?null:l.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:P}),l.jsxs("div",{className:"relative flex flex-col bg-white rounded-xl shadow-2xl border border-gray-200",style:{width:"90vw",height:"90vh"},onClick:x=>x.stopPropagation(),children:[l.jsx("button",{onClick:t,className:"top-2 right-2 absolute p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(ln,{className:"w-6 h-6"})}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("div",{className:"p-6 overflow-auto h-full w-full flex justify-center",children:a?l.jsx("div",{className:"grid gap-1 min-h-full border-2 border-gray-300 rounded-lg p-1 bg-gray-50",style:{gridTemplateColumns:`repeat(${u}, minmax(200px, 1fr))`,gridTemplateRows:`repeat(${c}, minmax(120px, auto))`},children:n.contents.map(x=>{const _=r(x.gird_position||x.grid_position);return l.jsx("div",{style:{gridRowStart:_.row+1,gridColumnStart:_.col+1},children:l.jsx("div",{className:"flex-1 h-full",children:i(x)})},x.GUID)})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Op,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:""}),l.jsx("p",{className:"text-gray-500",children:""})]})})})})]})]})};function uh(){const{selectedDepartmentType:e,viewMode:t,isLoadingMedMap:n,notification:r,hideNotification:s,addParentContainerModalOpen:o,closeAddParentContainerModal:i,selectedDepartmentForAdd:a}=Ye();return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Vp,{}),l.jsx(Wp,{}),l.jsx(Qp,{}),l.jsx("div",{className:"fixed inset-0",children:l.jsx("div",{className:"w-full h-full",children:t==="department"?l.jsx(Jp,{}):l.jsx(qp,{})})}),l.jsx(Kp,{}),l.jsx(th,{}),l.jsx(nh,{}),l.jsx(rh,{}),l.jsx(sh,{}),l.jsx(oh,{}),l.jsx(ah,{}),l.jsx(lh,{isVisible:n}),l.jsx(ih,{message:r.message,type:r.type,isVisible:r.isVisible,onClose:s})]})}function ch(){return l.jsx(Tp,{children:l.jsx(Pp,{children:l.jsx(uh,{})})})}Xc(document.getElementById("root")).render(l.jsx(S.StrictMode,{children:l.jsx(ch,{})}));
